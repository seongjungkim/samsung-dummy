<link rel="stylesheet" href="/sec/static/_css/homefitness.css">
<script src="/sec/static/_script/goods/goods-detail-view.js"></script>
<script src="/sec/static/_script/order/orderPay.js"></script>
<script type="text/javascript">
	$(document).ready(function () {

		if ("N" === "N") {
			firstRecentGoods();
		}
		
		// 230509 혜택 시뮬레이터 고도화 : PD 사은품 (phase_2)
		var swiper = new Swiper(".mySwiper-giftChoice", {
			scrollbar: {
				el: ".swiper-scrollbar",
				draggable: true,
			},
			slidesPerView: 'auto',
			freeMode: true,
			breakpoints: {
				// 800px 보다 클 경우
				800: {
					slidesPerView: 3,
					spaceBetween: 6,
				},
				810: {
					slidesPerView: 3,
					spaceBetween: 10,
				}
			}
		});

		// 230509 혜택 시뮬레이터 고도화 : PD 추가제공혜택 (phase_2)
		function window_resize() {
			$(window).on("resize",function(){
				additionalBenefitSlide();
				additionalBenefitSlide_etcBenefit();//230609
			}).resize();
		};

		additionalBenefitSlide();
		additionalBenefitSlide_etcBenefit();//230609

		// 230612 혜택 시뮬레이터 고도화 : PD 추가제공혜택 (phase_2)
		$('.mySwiper-giftChoice .swiper-slide').each(function (index, item) {
			var _note = $(this).children('.chk-form-hidden').children('.prd').children('.giftChoice-textbox').find('.note');
			var nH = _note.height();
			console.log(nH);
			if(nH >= 13){
				setTimeout(function () {
					$('.giftChoice.itm-option-etc .giftChoice-textbox .note').addClass('txt-over8');
				}, 100);
			}
		});

		function additionalBenefitSlide() {
			$(".mySwiper-additionalBenefit").each(function(){
				var _this = $(this);
				var slideList = _this.find('.swiper-slide').length;

				if (slideList == 1) {
					_this.find('.swiper-slide').addClass('full');
					_this.parent().addClass('full');
				} else if (slideList > 1) {
					var swiper = new Swiper( _this, {
						scrollbar: {
							el: ".swiper-scrollbar",
							draggable: true,
						},
						slidesPerView: 'auto',
						freeMode: true,
						breakpoints: {
							// 800px 보다 클 경우
							800: {
								slidesPerView: 3.4,
								spaceBetween: 6,
							},
							810: {
								slidesPerView: 3.4,
								spaceBetween: 10,
							}
						}
					});
					setNoteH();//230612
				}
			});
		};

		//230609 혜택 시뮬레이터 고도화 : PD 추가제공혜택 (phase_2)
		function additionalBenefitSlide_etcBenefit() {
			var swiper = new Swiper( ".mySwiper-etc-benefit", {
				scrollbar: {
					el: ".swiper-scrollbar",
					draggable: true,
				},
				slidesPerView: 'auto',
				// freeMode: true,
				slidesPerView: 1,
				spaceBetween: 10,
			});
		};

		//230612 혜택 시뮬레이터 고도화 : PD 추가제공혜택 (phase_2)
		function setNoteH() {
			$('.mySwiper-additionalBenefit .swiper-slide').each(function (index, item) {

				var _note = $(this).children('.prd').children('.additionalBenefit-textbox').find('.note');
				var nH = _note.height();
				console.log(nH);
				if(nH >= 13){
					setTimeout(function () {
						$('.additionalBenefit .swiper-slide:not(.full) .additionalBenefit-textbox .note').addClass('txt-over8');
					}, 100);
				}
			});
		}

		$('.additionalBenefit .dropButton').on('click',function(){
			additionalBenefitSlide();
		});
		
		var agent = navigator.userAgent.toLocaleLowerCase();
		if(agent.indexOf('iphone') > -1 || agent.indexOf('ipad') > -1) {
			$("#appDownDiv").css("display","none");
		}
		
		/** KDP-39112 네이버 EP 접속 시 앱 다운로드 영역 미노출 */
		if(getCookie('ep_naver') != undefined){
            $('#appDownDiv').css("display","none");
        }
        
		if($(".itm-option-choice").length > 0 && $(".itm-option-choice").html().trim() == ""){
			$(".itm-option-choice").hide();
		}
		if($("#membership-info").length > 0){
			var goods = new Array();
			var mainGoods = {
				goodsId: "G000381004"
				, mdlCode: 'SM-S711NZPWKOD'
				, price: $('.pd-total-price:first', goodsMain.vGoodsWrapId).data("price")
				, cnt: $("#countPrd").val() ? $("#countPrd").val() : 1
				, mainGoodsYn: 'Y'
			};
			goods.push(mainGoods);

			var options = {
				url : goodsMain.fnAjaxUrl("membershipPolicy"),
				data : {
					goodsListStr : JSON.stringify(goods),
					bespokeMinimumPrice : "0",
					cpDiscountPrice : $("#option-galaxy-club-yes").is(':checked') ? 0 : $("#lastDiscountPrice").data("price")
				},
				type: 'POST',
				done : function(data) {
					if($("#membership-ptn-top").length > 0){
						$("#membership-ptn-top").text(fnComma(data.totalPoint));
					}
					if($("#membership-ptn-onlymo").length > 0){
						$("#membership-ptn-onlymo").text(fnComma(data.totalPoint)+'P');
					}
					if($(".new-icon-membershipClass").length > 0 && data.membershipGrd){
						$(".my-membership-rank").show();
						$("#membership"+data.membershipGrd).show();
						$("#limitPoint").text(fnComma(data.limitPoint));
						$(".grd-txt").show();
					}
				}
			}
			ajax.call(options);

		}


		var isReady = $(goodsMain.vGoodsWrapId).data("goods-id") == $("input[name=goodsId]", goodsMain.vGoodsWrapId).val();
		if(!isReady){
			$("#location-prd-nm").text($(".itm-info-detail").data('goods-nm'));
			$("#goods-title-text").text($(".itm-info-detail").data('goods-nm'));
			//옵션 변경
			$(goodsMain.vGoodsWrapId).data("goods-id", "G000381004");
		}



		//할인율 표시
		/* 22.03.23_kjh_KDP-10791 */
		/* var discountRateYn = $("#discountRateYn").val();
			var discountRate = $('#discountRate').val() + "% off";
			if(discountRateYn == 'Y'){
				if($('input[name="stGbCd"]').val() == 10){
					$('#discountRateTag').text(discountRate);
				}

			} */

		//아울렛 클래스 주기
		var outletFlgYn = $("#outletFlgYn").val();
		if(outletFlgYn == 'Y'){
			$('.itm-buy-area').addClass('outlet');
		}

		//비교하기 버튼 클래스 추가
		if($('input[name="stId"]').val() == 1 || $('input[name="stId"]').val() == 2 || $('input[name="stId"]').val() == 3 || $('input[name="stId"]').val() == 200 || $('input[name="stId"]').val() == 471){
			$(".link-compare-i").addClass(isCompareDataStorageGoods("G000381004")?'disabled':'');
		}

		if($("#midYn").val()=='Y'){
			$("#btnCart").addClass("btn-type6");
			$("#btnCart").removeClass("btn-type1");
			$("#btnCart").prop("disabled", true);
		}

		
		if(($('input[name="stGbCd"]').val() == '10' || $('input[name="stId"]').val() == '200' || $('input[name="stId"]').val() == '5') && $('input[name="qookerYn"]').val() == 'N' && '12' == '12'){
			
			$("#compCardBenefitLi").show();
			$("#compCardBenefit").show();
			$('#btnCardBenefit').on('click', function (e){
				e.preventDefault();
				$('#compCardBenefitA').trigger('click');
			});
		} else {
			$("#compCardBenefitLi").hide();
			$("#compCardBenefit").hide();
		}
		

		
		//기타서비스 탭 컨트롤
		$("#otherServiceDropBtn").removeClass('open');
		$("#otherServiceContent").hide();
		$("#compGoodsOtherService").hide(); //기타서비스 영역
		$("#compGoodsOtherServiceLi").hide(); // 네비게이션바
		$("#tradeInTab").hide(); 		// 기타서비스 트레이드인 버튼
		$("#galaxyClubTab").hide(); 	// 기타서비스 갤럭시클럽 버튼
		$("#mxCarePlusTab").hide(); 	// 기타서비스 삼성케어플러스 버튼
		$("#dividePaymentTab").hide(); 	// 기타서비스 기프트 펀딩(분할 결제) 버튼
		$("#freeWarrantyTab").hide(); 	// 기타서비스 무상수리서비스 버튼
		$("#activatePhoneTab").hide(); 	// 개통폰 공시지원표 버튼
		$("#tradeInTabContent").hide(); 	// 기타서비스 트레이드인 설명
		$("#galaxyClubTabContent").hide(); 	//기타서비스 갤럭시클럽 설명
		$("#mxCarePlusTabContent").hide(); 	//기타서비스 삼성케어플러스 설명
		$("#dividePaymentTabContent").hide(); 	//기타서비스 기프트 펀딩(분할 결제) 설명
		$("#activatePhoneTabContent").hide(); 	//기타서비스 개통폰 공시지원표
		$("#freeWarrantyTabContent").hide(); 	//기타서비스 무상수리서비스 설명
		$('#tradeInTabContent .tooltip-content').html('');
		$('#galaxyClubTabContent .tooltip-content').html('');
		$('#mxCarePlusTabContent .tooltip-content').html('');
		$('#dividePaymentTabContent .tooltip-content').html('');
		$('#otherServiceTab a').attr('aria-selected',false);
		$("#divide-payment-desc").hide();	// 기프트 펀딩(분할 결제) 유의문구 숨김 처리
		
		var flags = {}; 
		
		var tabFlags = {
			tradeInTab: false,
			galaxyClubTab: false,
			dividePaymentTab: false,
			freeWarrantyTab: false,
			activatePhoneTab: false,
			mxCarePlusTab: false
		};

		function initFlags(tabFlagsObj, flagsObj) {
			for (var tabId in tabFlagsObj) {
				var flagName = tabId + "Flag";
				flagsObj[flagName] = tabFlagsObj[tabId];
			}
		}

		initFlags(tabFlags, flags);

		if('12' == '12' ||
			('13' == '12' && 'Y' == 'Y')){

			if (''.indexOf("01;") > -1 || '' == 'Y'){
				flags.tradeInTabFlag = true;

				if('TRD' == '')
				{
					$('#tradeInTabContent .tooltip-content').html('');
					$('#tradeInTabContent .tooltip-content').html($('#trandeInContent').html());

					if ('1' == '1' || '122' == '1') { 
						$("#tradeInTab a").attr('data-omni', "Galaxy로 바꿔보상(Trade-in)");
						$("#tradeInTab a").text("Galaxy로 바꿔보상(Trade-in)");
					} else {
						$("#tradeInTab a").attr('data-omni', "중고제품 추가보상 프로그램");
						$("#tradeInTab a").text("중고제품 추가보상 프로그램")
					}
				} else {
					$('#tradeInTabContent .tooltip-content').html('');
					$('#tradeInTabContent .tooltip-content').html($('#trandeInCeContent').html());

					$("#tradeInTab a").attr('data-omni', "중고가전 추가보상 프로그램");
					$("#tradeInTab a").text("중고가전 추가보상 프로그램")

				}

				$('#btnTradeIn').on('click', function (e){
					e.preventDefault();
					$('#compGoodsOtherServiceA').trigger('click');
					$('#tradeInTab a').trigger('click');
				});
			}

			if ('N' == 'Y'){
				flags.galaxyClubTabFlag = true;
				if(!!''){
					$('#non-galaxyMid').remove();
				}

				$('#galaxyClubTabContent .tooltip-content').html('');
				$('#galaxyClubTabContent .tooltip-content').html($('#galaxyClubContent').html());
				$('#btnGalaxyClub').on('click', function (e){
					e.preventDefault();
					$('#compGoodsOtherServiceA').trigger('click');
					$('#galaxyClubTab a').trigger('click');
				});
			}

			if ('N' == 'Y') {
				flags.dividePaymentTabFlag = true;

				$('#dividePaymentTabContent .tooltip-content').html('');
				$('#dividePaymentTabContent .tooltip-content').html($('#dividePaymentContent').html());
				
				$('#btnDividePayment').on('click', function (e){
					e.preventDefault();
					$('#compGoodsOtherServiceA').trigger('click');
					$('#dividePaymentTab a').trigger('click');
				});
			}
			
		}
		if('10' == '10' && 0 > 0) {
			flags.freeWarrantyTabFlag = true;
			$('#freeWarrantyTabContent .tooltip-content').html($('#freeWarrantyContent').html());
		}

		// 개통폰 관련 제어
		if ('Y' == 'Y') {
			flags.activatePhoneTabFlag = true;
		}

		// 삼성 케어플러스 관련 제어
		if ('N' == 'Y'){
			flags.mxCarePlusTabFlag = true;
			$('#mxCarePlusTabContent .tooltip-content').html($('#mxCarePlusContent').html());
			$('#btnMxCarePlus').on('click', function (e){
				e.preventDefault();
				$('#compGoodsOtherServiceA').trigger('click');
				$('#mxCarePlusTab a').trigger('click');
			});
		}
		
		$('#otherServiceTab li').each(function () {
			var tabId = $(this).attr('id');
			var flagName = tabId + "Flag";

			var flag = flags[flagName];

			if (flag) {
				$(this).show(); // ~Tab.show()
				$(this).find('a').attr('aria-selected', true);
			}
		});

		// KDP-55175 [상품][B2C] 24년 웹접근성/모바일접근성_강석민
		// 기타서비스 나머지 탭 aria-selected="false"로 초기화
		$('#otherServiceTab li').each(function () {
			var $this = $(this); 
			var $anchor = $this.find('a');

			if ($anchor.attr('aria-selected') === 'true') {
				// 기타서비스 영역 노출
				$("#compGoodsOtherService").show();
				$("#compGoodsOtherServiceLi").show();
				
				var tempTabId = $this.attr('id');
				var tabContentId = "#" + tempTabId + "Content"
				$(tabContentId).show();	// ~TabContent.show()
				
				$('#otherServiceTab li').not($this).find('a').attr('aria-selected', false);
				return false;
			}
		});

		goodsGA4.fnGA4viewItem();

		// 숏폼 유의사항 토글
		$('.itm-information .itm-info-shortform .text-notice button').on('click', function (e) {
			$(this).toggleClass('active');
			$(this).parents().find('.bo-html').slideToggle();
		});

		// 상품 슬라이드
		let ringGuideSlide = new Swiper(".ring_guide_slide", {
			slidesPerView: "auto",
			pagination: {
				el: ".swiper-pagination",
			},
			navigation: {
				nextEl: ".swiper-button-next",
				prevEl: ".swiper-button-prev",
			},
		});

		// 갤럭시링 사이즈 슬라이드
		if($('#galaxyringSizeRdoV4-sizingKit').length>0){

			if($('#galaxyringSizeRdoV4-sizingKit').is(":checked")){
				$(this).removeClass('active');
				$('#JSgalaxyRingSizeV4 .type-bg-group').slideUp();
				$('#galaxyringSizeRdoV4-sizingKit').prop('checked', true);

				// 본 상품 수량 버튼 비활성화
				$('#pd-goods-count-miner').css("pointer-events", "none");
				$('#pd-goods-count-plus').css("pointer-events", "none");
				$('#countPrd').val(1);
				$(".count-prd", goodsMain.vGoodsWrapId).val("1");
				$(".goods-count").addClass("disabled");
				$(".goods-count > .count-prd").prop("disabled", true);

				// $(".option .dropdownMenu>.account-types>li>label")[0].click();
				// 사이징키트 추가 상품 자동 선택 data-goods-add-tp-cd="80"
				$(".option .dropdownMenu>.account-types>li>label").find("[data-goods-add-tp-sub-cd='80']").click();

			}else{
				$('#JSgalaxyRingSizeV4 .type-bg-group').slideDown();
				$(this).addClass('active');
				$('#galaxyringSizeRdoV4-sizingKit').prop('checked', false);
				$('#galaxyringSizeRdoV4_fix').prop('checked', true);

				$('#pd-goods-count-miner').css("pointer-events", "auto");
				$('#pd-goods-count-plus').css("pointer-events", "auto");
				$(".goods-count").removeClass("disabled");
				$(".goods-count > .count-prd").prop("disabled", false);
			}
		}

		// 갤럭시링 구매가이드
		tabContent('.tab-style-btn');
	});

	function shortFromVdPopup(data) {
		var layerValue = "popupShortform-" + data.shortFormContsNo;
		var messageSource = "";

		messageSource += '<div class="layer-pop popup-comm-video shortform" id="' + layerValue + '" tabindex="0" data-popup-layer="' + layerValue + '">';
		messageSource += '	<div class="popup-contents">';
		messageSource += '		<div class="component-content">';
		messageSource += '			<div class="video">';
		messageSource += '				<video controls preload="auto" autoplay="">';
		messageSource += '					<source src="//images.samsung.com/kdp' + data.vdLinkPath + '" type="video/mp4">';
		messageSource += '				</video>';
		messageSource += '				<div class="component-head">';
		messageSource += '					<strong class="head-title blind">영상 보기</strong>';
		messageSource += '					<button type="button" id="closeShortFormPop" class="pop-close" data-focus-next="' + layerValue + '">닫기</button>';
		messageSource += '			</div>';
		messageSource += '			</div>';
		messageSource += '			<article class="box-article blind">';
		messageSource += '				<div class="alt-tit">' + data.vdTtl + '</div>';
		messageSource += '				<div class="alt-content">' + data.vdAltText + '</div>';
		messageSource += '			</article>';
		messageSource += '		</div>';
		messageSource += '	</div>';
		messageSource += '</div>';

		$("html").addClass("scrollLock");
		$("#shortFormVdPop").prepend(messageSource);

		$("#closeShortFormPop").off().on('click',function(e){
			const target = e.target.dataset.focusNext;
			document.querySelector("[data-focus='" + target + "']").focus();
		});

		$("#invisibleShortFormBtn").attr("data-popup-target", layerValue);
		$("#invisibleShortFormBtn").trigger("click");
	}

	$(document).on("click", "#closeShortFormPop", function () {
		$(".layer-pop.popup-comm-video.shortform").remove();
		$("html").removeClass("scrollLock");
	});

	$("#membershipDropBtn").on('click', function(){
		if(!$(this).hasClass('open')){
			setMembershipInfo();
		}
	});

	function goPdSohoLogin() {
		location.href = '/sec/' + "member/indexLogin/?returnUrl=" + location.pathname;
	}

	function setMembershipInfo(){
		var goods = new Array();

			var mainGoods = {
				goodsId : "G000381004"
				, mdlCode : 'SM-S711NZPWKOD'
				, price : $('.pd-total-price:first', goodsMain.vGoodsWrapId).data("price")
				, cnt : $("#countPrd").val() ? $("#countPrd").val() : 1
				, mainGoodsYn : 'Y'
			};
		goods.push(mainGoods);

			var bundleYn = 'N';
			var bundleOrgAplVal = 0;

		$.each($(".option>.list-prd-optional>ul>li"), function(){
			var optQty = $(this).find(".number").val(); // 옵션수량
			var orgOptPrice = $(this).find(".box-itm-option").data("price");
			var optMdlCode = $(this).find(".box-itm-option").data("mdl-code");
			var optGoodsId = $(this).find(".box-itm-option").data("option-id");
			var bundleUseYn = $(this).find(".box-itm-option").data("bundle-use-yn"); // 번들여부
			var bundleAplQty = $(this).find(".box-itm-option").attr("data-bundle-apl-qty"); // 번들수량
			var bundleAplVal = $(this).find(".box-itm-option").data("bundle-apl-val"); // 옵션 상품(추가 상품) 적용 번들할인가
			var orgAplVal = $(this).find(".box-itm-option").data("org-apl-val"); // 본품 적용 번들할인가

			for(var currOpt = 1; currOpt <= optQty; currOpt++) {
				if (bundleUseYn == 'Y' && currOpt <= bundleAplQty) {
						bundleYn = 'Y';
						bundleOrgAplVal += orgAplVal;
						var optionGoods = {
							goodsId : optGoodsId
							, mdlCode : optMdlCode
							, price : (orgOptPrice - bundleAplVal)
							, cnt : 1
							, mainGoodsYn : 'N'
						}
						goods.push(optionGoods);
					} else {
						var optionGoods = {
							goodsId : optGoodsId
							, mdlCode : optMdlCode
							, price : orgOptPrice
							, cnt : 1
							, mainGoodsYn : 'N'
					}
					goods.push(optionGoods);
				}
			}

		});

		if($('input:radio[name="careplusOpt"]').is(":checked") && $('input:radio[name="careplusOpt"]:checked').data("key") != 'noChoice') {
			let carePlusPrice = $('input:radio[name="careplusOpt"]:checked').data("price");
			let carePlusMdlCode = $('input:radio[name="careplusOpt"]:checked').data("mdl-code");
			let carePlusId = $('input:radio[name="careplusOpt"]:checked').data("option-id");
			let carePlusBundleUseYn = $('input:radio[name="careplusOpt"]:checked').data("bundle-use-yn"); // 번들여부
			let carePlusBundleAplVal = $('input:radio[name="careplusOpt"]:checked').data("bundle-apl-val"); // 옵션 상품(추가 상품) 적용 번들할인가
			let carePlusOrgAplVal = $('input:radio[name="careplusOpt"]:checked').data("org-apl-val"); // 본품 적용 번들할인가
			if(carePlusBundleUseYn == 'Y') {
				bundleYn = 'Y';
				bundleOrgAplVal += carePlusOrgAplVal;
				var carePlusOption = {
					goodsId: carePlusId
					, mdlCode: carePlusMdlCode
					, price: (carePlusPrice - carePlusBundleAplVal)
					, cnt: 1
					, mainGoodsYn: 'N'
				}
				goods.push(carePlusOption);
			} else {
				var carePlusOption = {
					goodsId: carePlusId
					, mdlCode: carePlusMdlCode
					, price: carePlusPrice
					, cnt: 1
					, mainGoodsYn: 'N'
				}
				goods.push(carePlusOption);
			}

		}

		if($('input:radio[name="drilllessSolOpt"]').is(":checked") && $('input:radio[name="drilllessSolOpt"]:checked').data("key") != 'noChoice') {
			let drilllessSolPrice = $('input:radio[name="drilllessSolOpt"]:checked').data("price");
			let drilllessSolMdlCode = $('input:radio[name="drilllessSolOpt"]:checked').data("mdl-code");
			let drilllessSolId = $('input:radio[name="drilllessSolOpt"]:checked').data("option-id");
			let drilllessSolBundleUseYn = $('input:radio[name="drilllessSolOpt"]:checked').data("bundle-use-yn"); // 번들여부
			let drilllessSolBundleAplVal = $('input:radio[name="drilllessSolOpt"]:checked').data("bundle-apl-val"); // 옵션 상품(추가 상품) 적용 번들할인가
			let drilllessSolOrgAplVal = $('input:radio[name="drilllessSolOpt"]:checked').data("org-apl-val"); // 본품 적용 번들할인가
			if(drilllessSolBundleUseYn == 'Y') {
				bundleYn = 'Y';
				bundleOrgAplVal += drilllessSolOrgAplVal;
				var drilllessSolOption = {
					goodsId: drilllessSolId
					, mdlCode: drilllessSolMdlCode
					, price: (drilllessSolPrice - drilllessSolBundleAplVal)
					, cnt: 1
					, mainGoodsYn: 'N'
				}
				goods.push(drilllessSolOption);
			} else {
				var drilllessSolOption = {
					goodsId: drilllessSolId
					, mdlCode: drilllessSolMdlCode
					, price: drilllessSolPrice
					, cnt: 1
					, mainGoodsYn: 'N'
				}
				goods.push(drilllessSolOption);
			}

		}

		var options = {
			url : goodsMain.fnAjaxUrl("membershipPolicy"),
			data : {
				goodsListStr : JSON.stringify(goods),
				bespokeMinimumPrice : "0",
				bundleYn : bundleYn,
				bundleOrgAplVal : bundleOrgAplVal,
				cpDiscountPrice : $("#option-galaxy-club-yes").is(':checked') ? 0 : $("#lastDiscountPrice").data("price")
			},
			type: 'POST',
			done : function(data){
				//포인트 desc 노출 영역
				if($("#membership-ptn-top").length > 0){
					$("#membership-ptn-top").text(fnComma(data.totalPoint));
					//html set
					if(data.isLogin){
						//로그인
						msg = " 포인트 "+ fnComma(data.totalPoint) + " (";
						if(data.addRate * 1 > 0){
							msg += "기본 "+data.basicRate+"% + 추가 "+ data.addRate + "%";
						}else{
							msg += "기본 "+data.basicRate+"%";
						}

						if(data.aplPoint != '0'){
							msg += " + 금액대별 포인트 " + fnComma(data.aplPoint) + " ";
						}

						if(data.mdlAddPoint != '0'){
							msg += " + 상품별 포인트 " + fnComma(data.mdlAddPoint) + " ";
						}

						msg += ")";

						$(".point-member .membership-ptn").text(msg);

						$(".my-membership-rank").hide();
						$(".grd-txt").hide();
						$(".new-icon-membershipClass").hide();

						if($(".new-icon-membershipClass").length > 0 && data.membershipGrd){
							$(".my-membership-rank").show();
							$("#membership"+data.membershipGrd).show();
							$("#limitPoint").text(fnComma(data.limitPoint));
							$(".grd-txt").show();
						}
					}else{
						//비로그인
						var msg = " 포인트 "+ fnComma(data.totalPoint) + " (기본 "+data.basicRate+"%";
						if(data.aplPoint != '0'){
							msg += " + 금액대별 포인트 " + fnComma(data.aplPoint) + " ";
						}
						if(data.mdlAddPoint != '0'){
							msg += " + 상품별 포인트 " + fnComma(data.mdlAddPoint) + " ";
						}

						msg += ")";
						$(".point-nomember .membership-ptn").text(msg);
					}
				}
				if($("#membership-ptn-onlymo").length > 0){
					$("#membership-ptn-onlymo").text(fnComma(data.totalPoint)+'P');
				}
			}
		}
		ajax.call(options);

	}

	
	function setPaymentBenefitInfo(){
		var options = {
			url : goodsMain.fnAjaxUrl("getGoodsPaymentBenefitInfo"),
			data : {
				goodsId : "G000381004",
				goodsAmt : $("#beforeBenefitPrice").val()
			},
			type: 'POST',
			done : function(data){
				
				var noIstmInfo = data.PaymentBenefitInfo.noIstmInfo;
				var payBenefitInfoList = data.PaymentBenefitInfo.benefitList;

				// 바잉툴 > 카드혜택 > 무이자 할부 영역
				$("#noIstmNm").text(noIstmInfo.grpCardcNm);
				$("#maxNoItrstPrd").text(noIstmInfo.maxNoItrstPrd);

				
				if(payBenefitInfoList.length > 0){

					// 1-1. 바잉툴 > 결제일할인 영역 초기화
					$('.itm-card-benefit > .gray-box > #payBenefitDl > dd').remove();

					var html = '';

					// 1-2. 하단 카드혜택 영역 초기화
					$('#cardBenefitMsg').html('');

					// 1-3. 하단 카드혜택 영역 > 카드사 타이틀 영역 선언
					html = '';
					html += '<ul class="product-purchase-caus_tab tab-style-btn target" role="tablist" id="cardBenefitTitle">';
					html += '</ul>';
					html += '<br>';

					$('#cardBenefitMsg').html(html);

					// 1-4. 카드혜택 for 문
					for(let i=0; i<payBenefitInfoList.length; i++) {
						let payBenefitInfo = payBenefitInfoList[i];
						html = '';

						// 1-4-1. 바잉툴 > 결제일 할인 영역 > 타이틀 세팅
						if(payBenefitInfo.chrgBnftTpCd == "10"){
							$("#PayBenefitTitle").text("금액대별 결제일할인");
						} else if(payBenefitInfo.chrgBnftTpCd == "20"){
							$("#PayBenefitTitle").text("제품별 결제일할인");
						} else if(payBenefitInfo.chrgBnftTpCd == "30"){
							// 결제일할인 예외
							$('#payBenefitInfo').remove();

							// 하단 카드혜택 무이자 할부 세팅(결제일할인 예외) 부분 삭제(KDP-45851 [FO][B2C] PD 페이지 무이자 혜택 안내 개선)
							break;
						}

						// 1-4-2. 바잉툴 > 결제일 할인 영역 > 체크박스 세팅
						html = '';
						html += '<dd>';
						html +=		'<div class="info-group">';
						html += 		'<div class="chk-form-hidden disabled" id="PayBenefitCard-'+ payBenefitInfo.cardcCd  +'">';
						html +=				'<input type="checkbox" id="chkPayBenefitCard-'+ payBenefitInfo.cardcCd +'" data-cardcCd="'+payBenefitInfo.cardcCd+'" data-omni="my account_price_paymentday_save" name="" required="" title="" disabled>';
						html +=				'<label for="chkPayBenefitCard-'+ payBenefitInfo.cardcCd +'"><span>선택되지 않음</span></label>';
						html +=				'<div class="info-txt-group">';
						html +=					'<span class="info-txt" id="PayBenefitCardNm-'+ payBenefitInfo.cardcCd +'">';

						if(payBenefitInfo.chrgAplTpCd == "10"){
							html += payBenefitInfo.cardcNm + "카드로 결제 시";
						} else if(payBenefitInfo.chrgAplTpCd == "20"){
							html += payBenefitInfo.cardcNm + "카드로 결제 시 " + payBenefitInfo.dcAmt + "%"
						}

						html +=					'</span>';
						html +=				'</div>';
						html +=				'<div class="price-group" id="PayBenefitCardPrice-'+ payBenefitInfo.cardcCd +'">';

						var benefitAmt = fnComma($("#beforeBenefitPrice").val() - payBenefitInfo.expectBenefitAmt);

						html +=					'<span class="price">- '+ benefitAmt +'</span>';
						html +=					'<span class="krw">원</span>';
						html +=				'</div>';
						html +=				'<input type="hidden" name="payBenefitPrice" id="payBenefitPrice-'+ payBenefitInfo.cardcCd +'" value="'+ payBenefitInfo.expectBenefitAmt +'"/>';
						html +=			'</div>';
						html +=		'</div>';
						html += '</dd>';

						$('.itm-card-benefit > .gray-box > #payBenefitDl ').append(html);

						// 1-4-3. 하단 카드혜택 영역 > 카드사 타이틀 세팅
						let idx = $('#cardBenefitTitle>li').length;
						html = '	<li><a href="javascript:;" class="on" role="tab" id="cardTabContent'+idx+'" tabindex="0" aria-controls="cardTabContent'+idx+'" aria-selected="false" data-omni="'+payBenefitInfo.cardcNm+'카드">'+payBenefitInfo.cardcNm+'카드</a></li>';
						$('#cardBenefitTitle').append(html);

						// 1-4-4. 하단 카드혜택 영역 > 카드사 별 카드혜택 컨텐츠 영역 선언
						html = '';
						html += '<div class="product-purchase-caus_contents tab-content" id="cardTabContent'+idx+'" role="tabpanel" style="display:none;">';

						// 1-4-5. 하단 카드혜택 영역 > 카드혜택 종류 타이틀 세팅
						if(payBenefitInfo.chrgBnftTpCd == "10"){
							html += '<dl class="product-purchase-sec_note">';
							html += '<dt class="product-purchase-sec_note-title">금액대별 결제일할인</dt>';
							html += '<dd class="product-purchase-sec_note-cont"></dd>';
							html += '</dl>';
							html += '<br>';
						} else if(payBenefitInfo.chrgBnftTpCd == "20"){
							html += '<dl class="product-purchase-sec_note">';
							html += '<dt class="product-purchase-sec_note-title">제품별 결제일할인</dt>';
							html += '<dd class="product-purchase-sec_note-cont"></dd>';
							html += '</dl>';
							html += '<br>';
						}

						// 1-4-6. 하단 카드혜택 영역 > 카드혜택 컨텐츠 , 무이자 할부 세팅
						html += payBenefitInfo.pgBnftMsg;
						// 해당 부분 삭제(KDP-45851 [FO][B2C] PD 페이지 무이자 혜택 안내 개선)
						html += '</div>';
						$('#cardBenefitTitle').after(html);
					}

				} else {
					
					// 2-1. 하단 카드혜택 영역 초기화
					$('#cardBenefitMsg').html('');

					// 2-2. 하단 카드혜택 영역 > 카드사 타이틀 영역 선언
					html = '';
					html += '<ul class="product-purchase-caus_tab tab-style-btn target" role="tablist" id="cardBenefitTitle">';
					html += '</ul>';
					html += '<br>';
					$('#cardBenefitMsg').html(html);


					if(data.noneAchivePayBenefit.benefitList.length > 0){
						
						// 3-1. 바잉툴 > 결제일할인 영역 초기화
						$('.itm-card-benefit > .gray-box > #payBenefitDl > dd').remove();

						for(let i = 0; i < data.noneAchivePayBenefit.benefitList.length ; i++){
							let htmlBuyingTool = '';
							html = '';
							// 3-2. 바잉툴 > 카드혜택 체크박스 : 금액대 미달성 세팅
							htmlBuyingTool += '<dd>';
							htmlBuyingTool +=		'<div class="info-group">';
							htmlBuyingTool += 		'<div class="chk-form-hidden disabled" id="PayBenefitCard">';
							htmlBuyingTool +=				'<input type="checkbox" id="chkPayBenefitCard" data-omni="my account_price_paymentday_save" name="" required="" title="" disabled>';
							htmlBuyingTool +=				'<label for="chkPayBenefitCard"><span>체크박스 클릭</span></label>';
							htmlBuyingTool +=				'<div class="info-txt-group">';
							htmlBuyingTool +=					'<span class="info-txt" id="PayBenefitCardNm">' + data.noneAchivePayBenefit.benefitList[i].cardcNm + '카드로 결제 시</span>';
							htmlBuyingTool +=				'</div>';
							htmlBuyingTool +=				'<div class="price-group" id="PayBenefitCardPrice">';
							htmlBuyingTool +=					'<span class="price">금액대 미달성</span>';
							htmlBuyingTool +=				'</div>';
							htmlBuyingTool +=				'<input type="hidden" name="payBenefitPrice" id="payBenefitPrice" value="0"/>';
							htmlBuyingTool +=			'</div>';
							htmlBuyingTool +=		'</div>';
							htmlBuyingTool += '</dd>';

							$('.itm-card-benefit > .gray-box > #payBenefitDl ').append(htmlBuyingTool);

							// 3-2. 하단 카드혜택


							let idx = $('#cardBenefitTitle>li').length;
							html = '	<li><a href="javascript:;" class="on" role="tab" id="cardTabContent'+idx+'" tabindex="0" aria-controls="cardTabContent'+idx+'" aria-selected="false" data-omni="'+payBenefitInfo.cardcNm+'카드">'+data.noneAchivePayBenefit.benefitList[i].cardcNm+'카드</a></li>';
							$('#cardBenefitTitle').append(html);

							// 1-4-4. 하단 카드혜택 영역 > 카드사 별 카드혜택 컨텐츠 영역 선언
							html = '';
							html += '<div class="product-purchase-caus_contents tab-content" id="cardTabContent'+idx+'" role="tabpanel" style="display:none;">';

							// 1-4-5. 하단 카드혜택 영역 > 카드혜택 종류 타이틀 세팅
							html += '<dl class="product-purchase-sec_note">';
							html += '<dt class="product-purchase-sec_note-title">금액대별 결제일할인</dt>';
							html += '<dd class="product-purchase-sec_note-cont"></dd>';
							html += '</dl>';
							html += '<br>';

							// 1-4-6. 하단 카드혜택 영역 > 카드혜택 컨텐츠 , 무이자 할부 세팅
							html += data.noneAchivePayBenefit.benefitList[i].pgBnftMsg;
							html += '<br><br>';
							// 해당 부분 삭제(KDP-45851 [FO][B2C] PD 페이지 무이자 혜택 안내 개선)
							html += '</div>';
							$('#cardBenefitTitle').after(html);
						}

					}else{
						

						// 4-1. 바잉툴 > 결제일할인 영역 삭제
						$('#payBenefitInfo').remove();
						
						// 4-2. 하단 카드혜택 영역 > 무이자 할부 세팅
						// 해당 부분 삭제(KDP-45851 [FO][B2C] PD 페이지 무이자 혜택 안내 개선)

						$('#cardBenefitMsg').html(html);
					}


				}

				
				// 3-1. 하단 카드혜택 영역 > 카드사 타이틀 : 기본 선택
				$('a[id="cardTabContent0"]').attr('aria-selected', true);
				$('div[id="cardTabContent0"]').css('display', 'block');


				if(html != ''){
					paymentBenefitValidation();
				}

				// 3-2. 바잉툴 > 결제일 할인 영역 > 체크박스 onClick : 가격 반영
				$('input[id^="chkPayBenefitCard-"]').off().on("click", function(){
					if('1' == '200'){
						// 선택된 항목 말고는 초기화
						if ($(this).is(':checked')) {
							let chkId = 'chkPayBenefitCard-' + $(this)[0].dataset.cardccd;
							$('input[id^="chkPayBenefitCard-"]').not($('#' + chkId)).prop('checked', false);
						}
						omniSetting();
					}else{
						let priceId = 'payBenefitPrice-'+$(this)[0].dataset.cardccd;
						if ($(this).is(':checked')){
							// 선택된 항목 말고는 초기화
							let chkId = 'chkPayBenefitCard-'+$(this)[0].dataset.cardccd;
							$('input[id^="chkPayBenefitCard-"]').not($('#'+chkId)).prop('checked', false);

							$('label[for^="'+chkId+'"] span').text("선택됨");
							$('div[id^="payBenefitInfo"] .chk-form-hidden label:not([for^="'+chkId+'"]) span').text("선택되지 않음");

							$('.itm-total-bottom .pd-total-price').text(format.num($("#"+priceId).val()));
						} else {
							$('.itm-total-bottom .pd-total-price').text(format.num($("#beforeBenefitPrice").val()));
						}
					}
				});

				// 3-3. 하단 카드혜택 영역 > 카드사 타이틀 onClick : 콘텐츠 보이기
				$('a[id^="cardTabContent"]').off().on("click", function(){
					$('a[id^="cardTabContent"]').attr('aria-selected', false);
					$(this).attr('aria-selected', true);
					$('div[id^="cardTabContent"]').css('display', 'none');
					let id = $(this).attr('id');
					$('div[id="'+ id +'"]').css('display', 'block');
				});
			}
		}
		ajax.call(options);
	}

	function paymentBenefitValidation(){
		if ($("#PayBenefitCardPrice>.price").text() == "금액대 미달성"){
			$("#PayBenefitTitle").addClass('disabled');
			$("#PayBenefitCard").addClass('disabled');
			$('#chkPayBenefitCard').prop('disabled', true);
			$('#chkPayBenefitCard').prop('checked', false);

			$('.itm-total-bottom .pd-total-price').text(format.num($("#beforeBenefitPrice").val()));
		} else {

			$("#PayBenefitTitle").removeClass('disabled');
			$('[id^="PayBenefitCard-"]').removeClass('disabled');
			$('input[id^="chkPayBenefitCard-"]').prop('disabled', false);

			if ($('input[id^="chkPayBenefitCard-"]').is(':checked')){
				let priceId  = 'payBenefitPrice-' + $('input[id^="chkPayBenefitCard-"]:checked')[0].dataset.cardcCd;
				$('.itm-total-bottom .pd-total-price').text(format.num($("#"+priceId).val()));
			} else {
				$('.itm-total-bottom .pd-total-price').text(format.num($("#beforeBenefitPrice").val()));
			}

		}
	}

	

	// 매장 픽업 매장 선택 완료
	function setChoosenPickupStore(data, pickupCount, buyNowYn){

		$('.select-store').show();
		<!-- 2022.11.09 소상공인몰 매장픽업Only일때 팝업 노출 시작-->
		$('.type01').show();
		$('.type02').css("display", "none");
		<!-- 2022.11.09 소상공인몰 매장픽업Only일때 팝업 노출 끝-->
		$('.select-store .box-txt ul>li').text(data.plazaNm);
		//$('.select-store .box-txt').find('#store-addr').text("(" + data.roadAddr + ")");
		$('.select-store .box-txt').find('#store-addr').text("(" + storePickupManager.genFullAddress(data) + ")");
		$('#countPrd').val(pickupCount);
		$('#pckStrNo').val(data.plazaNo);
		$(".goods-count > .count-prd").trigger('change');
		
		// CAPA 매장 선택 날짜/시간대 전송
		if('1' == 1 || '1' == 122){
            $("#pickupCapaDate").val(data.pickupCapaDate);
			$("#pickupCapaTime").val(data.pickupCapaTime);
			$("#plazaRsvYn").val(data.plazaRsvYn);
        }
		// PD페이지 상품 수량 버튼 비활성화
		$('#pd-goods-count-miner').css("pointer-events", "none");
		$('#pd-goods-count-plus').css("pointer-events", "none");
		$(".goods-count").addClass("disabled");
		$(".goods-count > .count-prd").prop("disabled", true);
		
		if($("#dlvrGenYn").val() == 'Y') {
			//소상공인몰 매장픽업 + 웹 재고 가능한 상품만 장바구니 버튼 활성화
			if($("input[name=stGbCd]").val() != '50') {
				// PD페이지 장바구니 버튼 비활성화
				$("#btnCart").addClass("btn-type6");
				$("#btnCart").removeClass("btn-type1");
				$("#btnCart").prop("disabled", true);
			}
			// PD페이지 선물하기 버튼 비활성화
			$("#btnPresent").addClass("btn-disable");
			$("#btnPresent").prop("disabled", true);
		}

		if(buyNowYn == 'Y') {
			// goodsDetail.fnValidMinCount 내용
			var minQty = $("#countPrd").data('min-ord-qty');

			if(minQty && minQty > 1 && $("#countPrd ").val() < minQty){
				let alertData = {
					title: ""
					, content : "수량은 "+minQty+"개 이상 선택되어야 합니다."
					, callback : function(){
						$("#pd-goods-count-miner").focus();
					}
					, btnText : "확인"
				};
				commonAlert(alertData);
				openLayer('commonAlert');
				return false;
			}

			$("input[name=nowBuyYn]").val("Y");


			if($("#netfunnelYn").val() == "Y" || $("#netfunnelYn").val() == "ALL"){
				NetFunnel_Action({action_id : $("#netfunnelStGrp").val() + '_checkout'},function(ev, ret){
					if($("input[name=stGbCd]").val() == '10' && $("input[name=winePickupGoodsYn]").val() != null && $("input[name=winePickupGoodsYn]").val() =='Y' ){
						fnWinePickupCheckForPickUp(fnReqDataForPickUp());
					} else if ("Y" == $("#activatePhoneYn").val()) {
						$("#btnActvPhoneApply").trigger('click');
					} else {
						fnCartNowBuyForPickUp(fnReqDataForPickUp());
					}
				});
			}else{
				if($("input[name=stGbCd]").val() == '10' && $("input[name=winePickupGoodsYn]").val() != null && $("input[name=winePickupGoodsYn]").val() =='Y' ){
					fnWinePickupCheckForPickUp(fnReqDataForPickUp());
				} else if ("Y" == $("#activatePhoneYn").val()) {
					$("#btnActvPhoneApply").trigger('click');
				} else {
					fnCartNowBuyForPickUp(fnReqDataForPickUp());
				}
			}
		}
	}

	function fnWinePickupCheckForPickUp(reqData) {
		if( $("#dlvrPckYn").val() != 'Y' || $("#dlvrGenYn").val() == 'Y') {
			var alertData = {
				title: ""
				,content : "와인 상품을 준비중입니다."
				,btnText : "확인"
			};
			commonAlert(alertData);
			openLayer('commonAlert');
			return false;
		} else {
			var loginCheck = {
				url : goodsMain.fnAjaxUrl("loginCheck")
				, type: 'POST'
				, done : function(data) {
					if(!data.isLogin) {
						var urlNm = $(".itm-info-detail", goodsMain.vGoodsWrapId).data("url-nm");
						location.href = $(goodsMain.vGoodsWrapId).data("ctpath")  + "member/indexLogin/?returnUrl="+ $(goodsMain.vGoodsWrapId).data("ctpath") + urlNm + "/all-" + urlNm + "/";
						return;
					} else {
						var cerificationCheck = {
							url : goodsMain.fnAjaxUrl("cerificationCheck", "xhr/pf/")
							, type: 'POST'
							, done : function(data) {
								if(data.adultCerification == "F"){//계정 성인체크 여부가 없을때
									let alertData = {
										title: "alert",
										content: "로그인이 필요합니다."
									};
									alertData.callback = function(){
										var urlNm = $(".itm-info-detail", goodsMain.vGoodsWrapId).data("url-nm");
										location.href =  $(goodsMain.vGoodsWrapId).data("ctpath")  + "member/indexLogin/?returnUrl=" + $(goodsMain.vGoodsWrapId).data("ctpath") + urlNm + "/all-" + urlNm + "/";
									}
									commonAlert(alertData);
									openLayer('commonAlert');
									return;
								} else if ( data.adultCerification == "N" || data.kcbAdultCerification == "F" || data.kcbAdultCerification == "N" ) { // 계정 성인체크 여부가 N일때 (미성년) || KCB 본인 인증 안했을때 || KCB 본인 인증 했으나 미성년일때
									let alertData = {
										title: "본인인증 시 19세 미만자",
										content: "만 19세 이상만 구매할 수 있습니다."
									};
									alertData.callback = function(){
										var urlNm = $(".itm-info-detail", goodsMain.vGoodsWrapId).data("url-nm");
										location.href =  $(goodsMain.vGoodsWrapId).data("ctpath") + urlNm + "/all-" + urlNm + "/";
									}
									commonAlert(alertData);
									openLayer('commonAlert');
									return;
								} else{
									fnCartNowBuyForPickUp(reqData);
								}
							}
						};
						ajax.call(cerificationCheck);
					}
				}
			};
			ajax.call(loginCheck);
		}
	}
	//goodsDetail.fnReqData 참고
	function fnReqDataForPickUp(){

		if('1' == '1' || '1' == '2' || '1' == '3' || '1' == '122'){
			const chkMxCarePlus = $("#mxCarePlusYn").val();
			var newGoodsOrdTpCd = $("#goodsOrdTpCd").val();
			if(newGoodsOrdTpCd.indexOf("MXCP") == -1){
				if(chkMxCarePlus == 'Y'){
					if (newGoodsOrdTpCd == "")	newGoodsOrdTpCd = "MXCPY";
					else					newGoodsOrdTpCd += "^MXCPY";
				} else if(chkMxCarePlus == 'N'){
					if (newGoodsOrdTpCd == "")	newGoodsOrdTpCd = "MXCPN";
					else					newGoodsOrdTpCd += "^MXCPN";
				}
				$("#goodsOrdTpCd").val(newGoodsOrdTpCd);
			}
		}

		var reqData = $("#goodsCartForm").serializeJson();

		// 사은품
		var freebieArr = new Array();

		$.each($(".freebies .dropdownMenu", goodsMain.vGoodsWrapId), function(){
			if($(this).find('input:checked').next('label').data('key') == 'noChoice'){
				var prmt = $(this).find('.box-itm-option').eq(0);
				var str = prmt.data("goodsid") + ":" +prmt.data("prmtno") +":"+"0";
				freebieArr.push(str);
			}
		})

		$.each($(".freebies .dropdownMenu", goodsMain.vGoodsWrapId).siblings('.list-prd-optional').find('.box-itm-option'), function(){
			if($(this).data("goodsid")){
				var str = $(this).data("goodsid") + ":" + $(this).data("prmtno") +":" + $(this).data("freeno");
				freebieArr.push(str);
			}
		})
		reqData.frbInfo = freebieArr;

		// 옵션상품 (추가 상품)
		var goodsIds = new Array();
		var buyQtys = new Array();
		goodsIds.push(reqData.goodsIds);
		buyQtys.push(reqData.buyQtys);
		$.each($(".option .list-prd-optional", goodsMain.vGoodsWrapId).find('.box-itm-option'), function(){
			goodsIds.push($(this).data("option-id"));
			buyQtys.push($(this).find(".number").val());
		})

		// reqData.goodsIds = goodsIds;
		// reqData.buyQtys = buyQtys;

		if($("#goodsFnetCountLimitForm").find("input[name=goodsIds]").val() === null || $("#goodsFnetCountLimitForm").find("input[name=goodsIds]").val() === undefined || $("#goodsFnetCountLimitForm").find("input[name=goodsIds]").length == 0){
			reqData.goodsIds = goodsIds;
			reqData.buyQtys = buyQtys;
		}else{
			reqData.goodsIds = $("#goodsFnetCountLimitForm").find("input[name=goodsIds]").val();
			reqData.buyQtys = $("#goodsFnetCountLimitForm").find("input[name=buyQtys]").val();
			$("#goodsFnetCountLimitForm").remove();
		}

		if( $('#optRegularDel').is(':checked') ) {
			reqData.rglrDlvrYn = 'Y';
			reqData.rglrDlvrCycl = $('.itm-radiobtn-list input[name="itm-deliver-type"]:checked').data().key;
		}

		return reqData;
	}

	//goodsDetail.fnCartNowBuy 참고
	function fnCartNowBuyForPickUp(reqData){
		if ($("input[name=stGbCd]").val() == '10' && $("#dlvrPckYn").val() == 'Y' && $("#winePickupGoodsYn").val() != 'Y' && $("#thirdPartyYn").val() == 'Y') {
			var alertData = {
				title: ""
				,content : "와인 상품을 준비중 입니다."
				,btnText : "확인"
			};
			commonAlert(alertData);
			openLayer('commonAlert');
			return false;
		}

		if(($("input[name=stGbCd]").val() == '10' || $("input[name=stGbCd]").val() == '80') && $("#shop-storeYN").val() == 'Y' && $("#dlvrPckYn").val() == 'Y' && $("#dlvrGenYn").val() != 'Y') {
			var alertMsg = "매장픽업 상품은 매장을 선택 후 구매하기가 가능합니다.";

			if($("#omsSendYn").val() != 'N') {
				alertMsg += "<br/>상품을 준비중입니다.";
			}


			if (reqData.pckStrNo === null || reqData.pckStrNo === undefined || $.trim(reqData.pckStrNo).length == 0) {
				var alertData = {
					title: ""
					,content : alertMsg
					,callback : openPopDlvrPck
					,btnText : "확인"
				};
				commonAlert(alertData);
				openLayer('commonAlert');
				return false;
			}
		}

		$('#outCheck').val('Y');
		// 트레이드인 체크 후 구매하기 시 팝업
		if($("input[name=goodsOrdTpCd]").val() == 'TRD' || $("input[name=goodsOrdTpCd]").val() == 'CETRD' /* $(frontConstants.TRADE_IN */) {

			var nowBuyOptions = {
				url : goodsMain.fnAjaxUrl("insertCart", "xhr/order/")
				, data : reqData
				, done : function(data){
					// 삼성닷컴 큐커식품관 비회원 로그인 구매 불가
					if(data.qookerNonMemYn != null && data.qookerNonMemYn != '' && data.qookerNonMemYn == 'Y'){
						let alertData = {
							content : data.exMsg
						};
						alertData.callback = function(){
							location.href = "/sec/member/indexLogin/?returnUrl=" + location.pathname;
						}
						commonAlert(alertData);
						openLayer('commonAlert');
						return;
					} else {
						var options2 = {
							url : goodsMain.fnAjaxUrl("loginCheck")
							, type: 'POST'
							, done : function(data) {
								if(!data.isLogin) {
									let confirmData = {
										content : "로그인 후 구매하기 가능 합니다<br/>로그인 하시겠습니까?"
										,okBtnText : "확인"
										,cancelBtnText : "취소"
									};
									commonConfirm(confirmData);
									openLayer('commonConfirm');

									var isTrdLoginPopupClicked = false;

									$("#closeCommonConfirmBtn").hide();

									$("#commonConfirmOkBtn").on('click' , function(){
										if($("#pdAlertYn").val() == "Y"){
											var msgOptions = {};
											$.extend(msgOptions, { content : $("#pdAlertMsg").val(), yes : '확인' });
											goodsMain.fnOpenLayer($(".popup-msg"), $("#popupMsgTempl").render(msgOptions)).find('a').off().on('click', function() {
												var _ = $(this)
														, layerClass = 'div.layer-pop';
												location.href=$(goodsMain.vGoodsWrapId).data("ctpath") + "member/indexLogin/?returnUrl="+$(goodsMain.vGoodsWrapId).data("ctpath")+"order/";
											});
										}else{
											location.href=$(goodsMain.vGoodsWrapId).data("ctpath") + "member/indexLogin/?returnUrl="+$(goodsMain.vGoodsWrapId).data("ctpath")+"order/";
										}
										return false;
									});

									$("#commonConfirmCancelBtn").on('click' , function(){
										return false;
									});
								} else {
									if($("#pdAlertYn").val() == "Y"){
										var msgOptions = {};
										$.extend(msgOptions, { content : $("#pdAlertMsg").val(), yes : '확인' });
										goodsMain.fnOpenLayer($(".popup-msg"), $("#popupMsgTempl").render(msgOptions)).find('a').off().on('click', function() {
											var _ = $(this)
													, layerClass = 'div.layer-pop';

											location.href = $(goodsMain.vGoodsWrapId).data("ctpath") + "order/";
										});
									}else{
										location.href = $(goodsMain.vGoodsWrapId).data("ctpath") + "order/";
									}
								}
							}
						};
						ajax.call(options2);
						return false;
					}
				},
				error : function(response, status, error) {
					var alertData = {
						title : "",
						content : "오류가 발생하였습니다.",
						callBack : "",
						btnText : "확인"
					};
					commonAlert(alertData);
					openLayer('commonAlert');
					return false;
				},
				beforeSend : function(xhr) {
					xhr.setRequestHeader("ajax", true);
				},
				complete : function() {
				}
			};
			ajax.call(nowBuyOptions);

			return false;
		}

		// My 갤럭시 클럽 체크 후 구매하기 시 팝업
		if($("input[name=goodsOrdTpCd]").val() == 'GC' || $("input[name=goodsOrdTpCd]").val() == 'TRDGC') {
			var nowBuyOptions = {
				url : goodsMain.fnAjaxUrl("insertCart", "xhr/order/")
				, data : reqData
				, done : function(data){
					// 삼성닷컴 큐커식품관 비회원 로그인 구매 불가
					if(data.qookerNonMemYn != null && data.qookerNonMemYn != '' && data.qookerNonMemYn == 'Y'){
						let alertData = {
							content : data.exMsg
						};
						alertData.callback = function(){
							location.href = "/sec/member/indexLogin/?returnUrl=" + location.pathname;
						}
						commonAlert(alertData);
						openLayer('commonAlert');
						return;
					} else {
						var options2 = {
							url : goodsMain.fnAjaxUrl("galaxyClubCheck")
							, type: 'POST'
							, data : reqData
							, done : function(data) {
								if(!data.isLogin) {
									let confirmData = {
										content : "로그인 이후 구매하기 가능 합니다<br/>로그인 하시겠습니까?"
										,okBtnText : "확인"
										,cancelBtnText : "취소"
									};
									commonConfirm(confirmData);
									openLayer('commonConfirm');

									var isTrdLoginPopupClicked = false;

									$("#closeCommonConfirmBtn").hide();

									$("#commonConfirmOkBtn").on('click' , function(){
										if($("#pdAlertYn").val() == "Y"){
											var msgOptions = {};
											$.extend(msgOptions, { content : $("#pdAlertMsg").val(), yes : '확인' });
											goodsMain.fnOpenLayer($(".popup-msg"), $("#popupMsgTempl").render(msgOptions)).find('a').off().on('click', function() {
												var _ = $(this)
														, layerClass = 'div.layer-pop';
												var returnUrl = $("input[name=returnUrl]").val();
												location.href=$(goodsMain.vGoodsWrapId).data("ctpath") + "member/indexLogin/?returnUrl="+returnUrl;
											});
										}else{
											var returnUrl = $("input[name=returnUrl]").val();
											location.href=$(goodsMain.vGoodsWrapId).data("ctpath") + "member/indexLogin/?returnUrl="+returnUrl;
										}
										return false;
									});

									$("#commonConfirmCancelBtn").on('click' , function(){
										return false;
									});
								} else {
									// 멤버십 가입 여부
									if(data.membershipNo != null){
										// 캠페인 가입 여부
										if(data.isGalaxyCmpnYn != null){
											if(data.isGalaxyCmpnYn == 'N' && data.prgrStatCd == null){
												// 주문화면
												location.href = $(goodsMain.vGoodsWrapId).data("ctpath") + "order/";
											}else if(data.isGalaxyCmpnYn == 'N' && data.prgrStatCd != null){
												if(data.prgrStatCd == '01'){// 가입상태:접수
													let confirmData = {
														content : "<span class='blue-color'>" + data.clubNm + "</span>에<br class='pc-ver'> 가입신청이 진행 중이므로<br class='pc-ver'> My 갤럭시 클럽 대상 제품을<br class='pc-ver'> 추가 구매할 수 없습니다."
														,cancelBtnText : "닫기"
													};
													commonConfirm(confirmData);
													openLayer('commonConfirm');

													$("#commonConfirmOkBtn").hide();

													$("#commonConfirmCancelBtn").on('click' , function(){
														return false;
													});
												}else if(data.prgrStatCd == '02'){// 가입상태:가입대기
													let confirmData = {
														content : "<span class='blue-color'>" + data.clubNm + "</span>에<br class='pc-ver'> 가입신청이 완료되었으므로<br class='pc-ver'> My 갤럭시 클럽 대상 제품을<br class='pc-ver'> 추가 구매할 수 없습니다."
														,cancelBtnText : "닫기"
													};
													commonConfirm(confirmData);
													openLayer('commonConfirm');

													$("#commonConfirmOkBtn").hide();

													$("#commonConfirmCancelBtn").on('click' , function(){
														return false;
													});
												}else if(data.prgrStatCd == '03'){// 가입상태:가입완료
													let confirmData = {
														content : "<span class='blue-color'>" + data.clubNm + "</span>에<br class='pc-ver'> 가입이 완료되었으므로<br class='pc-ver'> My 갤럭시 클럽 대상 제품을<br class='pc-ver'> 추가 구매할 수 없습니다."
														,cancelBtnText : "닫기"
													};
													commonConfirm(confirmData);
													openLayer('commonConfirm');

													$("#commonConfirmOkBtn").hide();

													$("#commonConfirmCancelBtn").on('click' , function(){
														return false;
													});
												}
											}else{
												let confirmData = {
													content : "이미 <span class='blue-color'>" + data.clubNm + "</span>에<br class='pc-ver'> 포함되어 있는 제품을 구매하셨습니다.<br>"
															+ "동일 " + data.clubNm + "에<br class='pc-ver'> 포함되어 있는 제품은<br class='pc-ver'> 회원 1인당 1대만 구매 가능합니다."
													,cancelBtnText : "닫기"
												};
												commonConfirm(confirmData);
												openLayer('commonConfirm');

												$("#commonConfirmOkBtn").hide();

												$("#commonConfirmCancelBtn").on('click' , function(){
													return false;
												});
											}
										}
									}else{
										let confirmData = {
											content : "My 갤럭시 클럽 제품을 구매하시려면<br class='pc-ver'> 멤버십 회원으로 먼저 가입하셔야 합니다.<br>멤버십 회원으로 가입 하시겠습니까?"
											,okBtnText : "확인"
											,cancelBtnText : "취소"
										};
										commonConfirm(confirmData);
										openLayer('commonConfirm');

										$("#commonConfirmOkBtn").on('click' , function(){
											if($("#pdAlertYn").val() == "Y"){
												var msgOptions = {};
												$.extend(msgOptions, { content : $("#pdAlertMsg").val(), yes : '확인' });
												goodsMain.fnOpenLayer($(".popup-msg"), $("#popupMsgTempl").render(msgOptions)).find('a').off().on('click', function() {
													var _ = $(this)
															, layerClass = 'div.layer-pop';
													location.href="/sec/membership/point/";
												});
											}else{
												location.href="/sec/membership/point/";
											}
											return false;
										});

										$("#commonConfirmCancelBtn").on('click' , function(){
											return false;
										});
									}
								}
							}
						};
						ajax.call(options2);
						return false;
					}
				},
				error : function(response, status, error) {
					var alertData = {
						title : "",
						content : "오류가 발생하였습니다.",
						callBack : "",
						btnText : "확인"
					};
					commonAlert(alertData);
					openLayer('commonAlert');
					return false;
				},
				beforeSend : function(xhr) {
					xhr.setRequestHeader("ajax", true);
				},
				complete : function() {
				}
			};
			ajax.call(nowBuyOptions);

			return false;
		}

		var nowBuyOptions = {
			url : goodsMain.fnAjaxUrl("insertCart", "xhr/order/")
			, data : reqData
			, done : function(data){
				// 삼성닷컴 큐커식품관 비회원 로그인 구매 불가
				if(data.qookerNonMemYn != null && data.qookerNonMemYn != '' && data.qookerNonMemYn == 'Y'){
					let alertData = {
						content : data.exMsg
					};
					alertData.callback = function(){
						location.href = "/sec/member/indexLogin/?returnUrl=" + location.pathname;
					}
					commonAlert(alertData);
					openLayer('commonAlert');
					return;
				} else {
					if ( (reqData.pckStrNo !== null && reqData.pckStrNo !== undefined && $.trim(reqData.pckStrNo).length > 0 ) || reqData.rglrDlvrYn != null || data.isHomefitnessPrivateGoodsYn == "Y"
							|| (($("input[name=stGbCd]").val() == '50' || $("input[name=stGbCd]").val() == '60') && $("input[id=disp2ClsfEnNm]").val() == 'soho')) {
						var options2 = {
							url : goodsMain.fnAjaxUrl("loginCheck")
							, type: 'POST'
							, done : function(data) {
								if(!data.isLogin) {
									if($("#pdAlertYn").val() == "Y"){
										var msgOptions = {};
										$.extend(msgOptions, { content : $("#pdAlertMsg").val(), yes : '확인' });
										goodsMain.fnOpenLayer($(".popup-msg"), $("#popupMsgTempl").render(msgOptions)).find('a').off().on('click', function() {
											var _ = $(this)
													, layerClass = 'div.layer-pop';
											location.href=$(goodsMain.vGoodsWrapId).data("ctpath") + "member/indexLogin/?returnUrl="+$(goodsMain.vGoodsWrapId).data("ctpath")+"order/";
										});
									}else{
										location.href=$(goodsMain.vGoodsWrapId).data("ctpath") + "member/indexLogin/?returnUrl="+$(goodsMain.vGoodsWrapId).data("ctpath")+"order/";
									}

								} else {
									if($("#pdAlertYn").val() == "Y"){
										var msgOptions = {};
										$.extend(msgOptions, { content : $("#pdAlertMsg").val(), yes : '확인' });
										goodsMain.fnOpenLayer($(".popup-msg"), $("#popupMsgTempl").render(msgOptions)).find('a').off().on('click', function() {
											var _ = $(this)
													, layerClass = 'div.layer-pop';
											location.href = $(goodsMain.vGoodsWrapId).data("ctpath") + "order/";
										});
									}else{
										location.href = $(goodsMain.vGoodsWrapId).data("ctpath") + "order/";
									}
								}
							}
						};
						ajax.call(options2);

					} else {
						if($("#pdAlertYn").val() == "Y"){
							var msgOptions = {};
							$.extend(msgOptions, { content : $("#pdAlertMsg").val(), yes : '확인' });
							goodsMain.fnOpenLayer($(".popup-msg"), $("#popupMsgTempl").render(msgOptions)).find('a').off().on('click', function() {
								var _ = $(this)
										, layerClass = 'div.layer-pop';
								location.href = $(goodsMain.vGoodsWrapId).data("ctpath") + "order/";
							});
						}else{
							location.href = $(goodsMain.vGoodsWrapId).data("ctpath") + "order/";
						}
					}
					_satellite.track('buy now');
				}
			},
			error : function(response, status, error) {
				var alertData = {
					title : "",
					content : "오류가 발생하였습니다.",
					callBack : "",
					btnText : "확인"
				};
				commonAlert(alertData);
				openLayer('commonAlert');
				return false;
			},
			beforeSend : function(xhr) {
				xhr.setRequestHeader("ajax", true);
			},
			complete : function() {
			}
		};

		var checkGoodsLimitOptions = {
			url : goodsMain.fnAjaxUrl("limit", "xhr/order/check/goods/")
			, data : reqData
			, done : function(data) {
				ajax.call(nowBuyOptions);
			}

		};

		ajax.call(checkGoodsLimitOptions);
	}

	// 매장 픽업 선택 매장 삭제 (x버튼 클릭시)
	$('.select-store .box-txt .delete').on('click', function() {
		//var that =
		var msgOptions = {};
		$.extend(msgOptions, { content : '픽업 매장을 삭제 하시겠습니까?', yes : '확인', no : '취소' });

		goodsMain.fnOpenLayer($(".popup-msg"), $("#popupMsgTempl").render(msgOptions)).find('a').off().on('click', function() {
			var _ = $(this)
					, layerClass = 'div.layer-pop';

			// 취소
			if (_.hasClass('btn-type1')) {

				// 픽업 매장 삭제
			} else if (_.hasClass('btn-type2')) {
				$('.select-store').css("display", "none");
				<!-- 2022.11.09 소상공인몰 매장픽업Only일때 팝업 노출 시작-->
				$('.type01').css("display", "none");
				$('.type02').show();
				<!-- 2022.11.09 소상공인몰 매장픽업Only일때 팝업 노출 끝-->
				$('#countPrd').val("1");
				$('#pckStrNo').val("");
				$(".goods-count > .count-prd").trigger('change');

				if($("#dlvrGenYn").val() == 'Y') {
					fnGalaxyClubOnClick();
				}
			}

			goodsMain.fnCloseLayer(_.closest(layerClass));
		});

	});

	var mintitCheckFlag = true;
	var mintitHisData = null;


	$("input[name=option-trade-ce]").on('click', function(){
		fnTradeInOnClick();
	});

	$("input[name=option-trade-in]").on('click', function(){
		var reqData = $("#goodsCartForm").serializeJson();
		var chkTrd = $("#option-trade-in-yes").is(':checked');
		if(chkTrd == true){
			var galCheck = {
				url : goodsMain.fnAjaxUrl("galaxyClubOrderHistoryCheck")
				, type: 'POST'
				, data : reqData
				, done : function(data) {
					if(data.membershipNo != null && data.isGalaxyCmpnYn == 'Y'){
						if(!mintitCheckFlag){
							if(mintitHisData.prgrStatYn=='Y'){
								openLayer('popupTradeIn')
							}else{
								fnTradeInOnClick();
							}
						}else{
							var galMintCheck={
								url : goodsMain.fnAjaxUrl("galaxyClubMintitCheck")
								, type: 'POST'
								, data : reqData
								, done : function(data) {
									mintitHisData = data;
									if(data.prgrStatYn=='Y'){
										openLayer('popupTradeIn')
									}else{
										fnTradeInOnClick();
									}
								}
							};
							mintitCheckFlag = false;
							ajax.call(galMintCheck);
						}
					}else{
						fnTradeInOnClick();
					}
				},
				error : function(response, status, error) {
					var alertData = {
						title : "",
						content : "오류가 발생하였습니다.",
						callBack : "",
						btnText : "확인"
					};
					commonAlert(alertData);
					openLayer('commonAlert');
					return false;
				},
				beforeSend : function(xhr) {
					xhr.setRequestHeader("ajax", true);
				},
				complete : function() {
				}
			};
			ajax.call(galCheck);
		}else{
			fnTradeInOnClick();
		}
	});

	function fnRefreshBtnStatusCart(status) {
		// PD페이지 장바구니 버튼
		if(status == 0){
			// 비활성화
			$("#btnCart").addClass("btn-disable");
			// $("#btnCart").prop("disabled", true);
		}else{
			// 활성화
			$("#btnCart").removeClass("btn-disable");
			// $("#btnCart").prop("disabled", false);
		}
	}

	function fnRefreshBtnStatusPresent(status) {
		// PD페이지 선물하기 버튼
		if(status == 0){
			$("#btnPresent").addClass("btn-disable");
			// $("#btnPresent").prop("disabled", true);
		}else{
			// 활성화
			$("#btnPresent").removeClass("btn-disable");
			// $("#btnPresent").prop("disabled", false);
		}
	}

	function fnRefreshBtnStatusPickup(status) {
		// PD페이지 매장픽업 버튼
		if(status == 0){
			$("#btnStorePickUp").addClass("btn-disable");
			// $("#btnStorePickUp").prop("disabled", true);
		}else{
			// 활성화
			$("#btnStorePickUp").removeClass("btn-disable");
			// $("#btnStorePickUp").prop("disabled", false);
		}
	}

	function fnRefreshBtnStatus(){

		// 갤럭시클럽, 트레이드인, 중고보상, 청구할인, 매장픽업 매장선택유무, 예외 모델코드
		var chkTrd 			= $("#option-trade-in-yes").is(':checked') 			== true ? 1 : 1;
		var chkGc 			= $("#option-galaxy-club-yes").is(':checked') 		== true ? 0 : 1;
		var chkCeTrd 		= $("#option-trade-ce-yes").is(':checked') 			== true ? 1 : 1;
		var chkMid 			= $("#midYn").val() 								== 'Y' 	? 0 : 1;
		var chkPickupStore 	= $('.select-store').is(':visible') 				== true ? 0 : 1;
		let chkTrial        = $("#option-trial-yes").is(':checked')             == true ? 0 : 1;
		var chkDividePayment = $("#option-divide-payment-yes").is(':checked') 	== true ? 0 : 1;
		var chkMxCarePlus 	= $("#option-mxCarePlus-yes").is(':checked') 		== true ? 0 : 1;

		fnRefreshBtnStatusCart(chkTrd*chkGc*chkCeTrd*chkPickupStore*chkMid* chkTrial);

		chkTrd 			= $("#option-trade-in-yes").is(':checked') 			== true ? 0 : 1;
		chkGc 			= $("#option-galaxy-club-yes").is(':checked') 		== true ? 0 : 1;
		chkCeTrd 		= $("#option-trade-ce-yes").is(':checked') 			== true ? 0 : 1;
		chkMid 			= $("#midYn").val() 								== 'Y' 	? 1 : 1;
		chkPickupStore 	= $('.select-store').is(':visible') 				== true ? 0 : 1;

		// 봄상품 수량 1개 이상인 경우
		var bomYn = $("#bomYn").val();
		var count = $("#countPrd").val();
		var chkBomCnt 	= (bomYn == "Y" && parseInt(count) == 1) || bomYn != "Y" == true ? 1 : 0;

		fnRefreshBtnStatusPresent(chkTrd*chkGc*chkCeTrd*chkPickupStore*chkMid*chkBomCnt*chkTrial*chkDividePayment*chkMxCarePlus);

		fnRefreshBtnStatusPickup(chkTrial*chkDividePayment);

	}
	
	function fnRefreshGoodsOrdTpCd() {
		if($("#option-trade-in-yes").is(':checked') && $("#option-galaxy-club-yes").is(':checked')){
			$("#goodsOrdTpCd").val("TRDGC");
		}else if($("#option-trade-in-yes").is(':checked') && $("#option-divide-payment-yes").is(':checked')) {
			$("#goodsOrdTpCd").val("TRD^DIV");
		}else if($("#option-trade-ce-yes").is(':checked') && $("#option-divide-payment-yes").is(':checked')) {
			$("#goodsOrdTpCd").val("CETRD^DIV");
		}else if($("#option-trade-in-yes").is(':checked')){
			$("#goodsOrdTpCd").val("TRD");
		}else if($("#option-trade-ce-yes").is(':checked')){
			$("#goodsOrdTpCd").val("CETRD");
		}else if($("#option-galaxy-club-yes").is(':checked')){
			$("#goodsOrdTpCd").val("GC");
		}else {
			$("#goodsOrdTpCd").val($("#option-divide-payment-yes").is(':checked') ? "DIV" : "");
		}
	}
	
	/* 트레이드 인 선택 여부 */
	function fnTradeInOnClick() {
		
		var depthCtgNm = $("#2depthCtgNm").val();
		var startDate= new Date("2024/01/16 00:00:00");
		if(Date.now() >= startDate){
			if(depthCtgNm == "스마트폰"){
				var chkTradeIn = $("#option-trade-in-yes").is(':checked');
				if($('input[name="stGbCd"]').val() == '10' || $('input[name="stGbCd"]').val() == '20'){
					if (chkTradeIn){
						$("#showFamilyPhoneMsg").show();
					} else {
						$("#showFamilyPhoneMsg").hide();
					}
				}
			}
		}
		fnRefreshBtnStatus();
		fnRefreshGoodsOrdTpCd();
	}

	$("input[name=option-galaxy-club]").on('click', function(){
		var reqData = $("#goodsCartForm").serializeJson();
		var chkGc = $("#option-galaxy-club-yes").is(':checked');
		if(chkGc == true) {
			var chkDp = $("#option-divide-payment-yes").is(':checked');
			if (chkDp) {
				// 기존에 선택한 기프트 펀딩(분할 결제) YES를 NO로 바꿈
				$("#option-divide-payment-no").prop('checked',true);
				
				// 팝업 노출
				let alertData = {
					title: ""
					, content : "※ My 갤럭시 클럽 이용 시,<br> 기프트 펀딩 이용이 불가합니다."
					, btnText : "확인"
				};
				commonAlert(alertData);
				openLayer('commonAlert');
			}

			// 기존에 선택한 mx케어플러스 YES를 NO로 바꿈
			var chkMcp = $("#option-mxCarePlus-yes").is(':checked');
			if(chkMcp){
				$("#option-mxCarePlus-no").prop('checked',true);
				$("#mxCarePlusYn").val("N");
				$("#showMxCarePlusMsg").hide();
				// 팝업 노출
				let alertData = {
					title: ""
					, content : "My갤럭시클럽과 삼성케어플러스는 동시에 <br> 신청할 수 없습니다."
					, btnText : "확인"
				};
				commonAlert(alertData);
				openLayer('commonAlert');
			}

			var galCheck = {
				url : goodsMain.fnAjaxUrl("galaxyClubOrderHistoryCheck")
				, type: 'POST'
				, data : reqData
				, done : function(data) {
					if(data.membershipNo != null && data.isGalaxyCmpnYn == 'Y'){
						if(!mintitCheckFlag){
							if(mintitHisData.prgrStatYn=='Y'){
								openLayer('popupGlxClubJoin')
							}else{
								fnGalaxyClubOnClick();
							}
						}else{
							var galMintCheck={
								url : goodsMain.fnAjaxUrl("galaxyClubMintitCheck")
								, type: 'POST'
								, data : reqData
								, done : function(data) {
									mintitHisData = data;
									if(data.prgrStatYn=='Y'){
										openLayer('popupGlxClubJoin')
									}else{
										fnGalaxyClubOnClick();
									}
								}
							};
							mintitCheckFlag = false;
							ajax.call(galMintCheck);
						}
					}else{
						fnGalaxyClubOnClick();
					}
				},
				error : function(response, status, error) {
					var alertData = {
						title : "",
						content : "오류가 발생하였습니다.",
						callBack : "",
						btnText : "확인"
					};
					commonAlert(alertData);
					openLayer('commonAlert');
					return false;
				},
				beforeSend : function(xhr) {
					xhr.setRequestHeader("ajax", true);
				},
				complete : function() {
				}
			};
			ajax.call(galCheck);
		}else{
			fnGalaxyClubOnClick();
		}
	});

	/* 갤럭시클럽 선택 여부 */
	function fnGalaxyClubOnClick(e) {
		var chkGc = $("#option-galaxy-club-yes").is(':checked');
		
		// KDP-39644 [B2C/갤캠스] 갤럭시클럽 쿠폰 관련 내용 수정
		if($('input[name="stGbCd"]').val() == '10' || $('input[name="stId"]').val() == '122'){
			if (chkGc){
				$("#showGalaxyClubMsg").show();
			} else {
				$("#showGalaxyClubMsg").hide();
			}
		}
		
		if(chkGc == true) {
			//갤럭시클럽 청구할인 불가 안내
			// $("#billDiscount").find('span:first').removeClass();
			// $("#billDiscount").find('span:first').addClass("ico-sscard galaxy-club-msg");
			// $("#billDiscount").find('strong').after("<br>");

			// PD페이지 상품 수량 버튼 비활성화
			$('#pd-goods-count-miner').css("pointer-events", "none");
			$('#pd-goods-count-plus').css("pointer-events", "none");
			$(".goods-count").addClass("disabled");
			$(".goods-count > .count-prd").prop("disabled", true);
			$('#countPrd').val("1");
			// 상품 1개 적용
			$(".count-prd", goodsMain.vGoodsWrapId).val("1");

		} else if ($('.select-store').is(':visible') == true) {

			// PD페이지 상품 수량 버튼 비활성화
			$('#pd-goods-count-miner').css("pointer-events", "none");
			$('#pd-goods-count-plus').css("pointer-events", "none");
			$(".goods-count").addClass("disabled");
			$(".goods-count > .count-prd").prop("disabled", true);
			$('#countPrd').val("1");
			// 상품 1개 적용
			$(".count-prd", goodsMain.vGoodsWrapId).val("1");

		} else {
			// PD페이지 상품 수량 버튼 활성화
			$('#pd-goods-count-miner').css("pointer-events", "auto");
			$('#pd-goods-count-plus').css("pointer-events", "auto");
			$(".goods-count").removeClass("disabled");
			$(".goods-count > .count-prd").prop("disabled", false);

			// $("#billDiscount").find('span:first').removeClass("ico-sscard galaxy-club-msg");
			// $("#billDiscount").find('span:first > br').remove();
		}

		fnRefreshBtnStatus();
		fnRefreshGoodsOrdTpCd();
	}

	$("input[name=option-mxCarePlus]").on('click', function(){

		var chkMcp = $("#option-mxCarePlus-yes").is(':checked');
		if(chkMcp == true) {			
			$("#mxCarePlusYn").val("Y");
			$("#showMxCarePlusMsg").show();			
			var chkGc = $("#option-galaxy-club-yes").is(':checked');
			// 기존에 선택한 갤럭시 클럽 YES를 NO로 바꿈
			if (chkGc) {
				$("#option-galaxy-club-no").prop('checked',true);
				$("#showGalaxyClubMsg").hide();
				// 팝업 노출
				let alertData = {
					title: ""
					, content : "My갤럭시클럽과 삼성케어플러스는 동시에 <br> 신청할 수 없습니다."
					, btnText : "확인"
				};
				commonAlert(alertData);
				openLayer('commonAlert');
			}
		}else {
			$("#mxCarePlusYn").val("N");
			$("#showMxCarePlusMsg").hide();
		}
		fnRefreshBtnStatus();
	});


	$("input[name=option-divide-payment]").on('click', function(){
		var chkDp = $("#option-divide-payment-yes").is(':checked');	// 기프트 펀딩(분할 결제) 체크 여부
		var chkGc = $("#option-galaxy-club-yes").is(':checked');	// My 갤럭시 클럽 체크 여부
		var chkCp = $('input:radio[name="careplusOpt"]').is(":checked") && $('input:radio[name="careplusOpt"]:checked').data("key") != 'noChoice';	// 케어플러스 체크 여부

		var chkOptArr = [];

		var $prd =  $(".itm-freebies-option").find('.dropdownMenu').siblings(".list-prd-optional");
		var $ul = $prd.find("ul");

		$.each($(".option .list-prd-optional").find('.box-itm-option'), function(){
			if ($(this).data("divide-payment-apl-yn") != 'Y') {
				chkOptArr.push($(this).data("option-id"));
			}
		})

		// 바잉툴 카드 혜택 영역
		$(".itm-card-benefit").show();
		// 하단 카드 혜택 영역
		$("#compCardBenefit").show();
		// 배너 카드 혜택 영역
		$("#compCardBenefitLi").show();

		if (chkDp) {
			// 바잉툴 카드 혜택 영역 숨김 처리
			$(".itm-card-benefit").hide();
			// 하단 카드 혜택 영역 숨김 처리
			$("#compCardBenefit").hide();
			// 배너 카드 혜택 영역 숨김 처리
			$("#compCardBenefitLi").hide();

			// 기프트 펀딩(분할 결제) 유의문구 노출 처리
			$("#divide-payment-desc").show();

			// 카드 혜택 체크 초기화
			$('input[id^="chkPayBenefitCard-"]').each(function () {
				if ($(this).prop('checked')) {
					$(this).trigger('click');
				}
			});

			if (chkGc == true && chkOptArr.length != 0) {
				// 기존에 선택한 My 갤럭시 클럽 YES를 NO로 바꿈
				$("#option-galaxy-club-no").prop('checked', true);

				// 선택한 추가 상품 선택 해제
				for (let optGoodsId of chkOptArr) {
					$ul.find("." + optGoodsId).find(".delete").click();
				}

				// 팝업 노출
				let alertData = {
					title: ""
					, content : "※ 해당 옵션상품과 My 갤럭시 클럽은 <br>기프트 펀딩과 함께 이용 불가합니다."
					, btnText : "확인"
				};
				commonAlert(alertData);
				openLayer('commonAlert');
			} else if (chkGc == true) {
				// 기존에 선택한 My 갤럭시 클럽 YES를 NO로 바꿈
				$("#option-galaxy-club-no").prop('checked',true);

				let alertData = {
					title: ""
					, content : "※ 기프트 펀딩 이용 시 ,<br>My 갤럭시 클럽 이용이 불가합니다."
					, btnText : "확인"
				};
				commonAlert(alertData);
				openLayer('commonAlert');
			} else if (chkOptArr.length != 0) {
				// 선택한 추가 상품 선택 해제
				for (let optGoodsId of chkOptArr) {
					$ul.find("." + optGoodsId).find(".delete").click();
				}

				let alertData = {
					title: ""
					, content : "※ 기프트 펀딩 시, <br>함께 구매할 수 없는 상품입니다."
					, btnText : "확인"
				};
				commonAlert(alertData);
				openLayer('commonAlert');
			}

			if (chkCp) {
				let alertData = {
					title: ""
					, content : "※ 기프트 펀딩 시, <br>함께 구매할 수 없는 상품입니다."
					, callback : function (){
						// 기존에 선택한 케어플러스를 '선택 안함' 으로 바꿈
						$("#carePlusOpt-noChoice").prop('checked',true);
						$("#carePlusOpt-noChoice").click();
					}
					, btnText : "확인"
				};
				commonAlert(alertData);
				openLayer('commonAlert');

				// 본품 수량 조절 버튼 활성화
				$('#pd-goods-count-miner').css("pointer-events", "auto");
				$('#pd-goods-count-plus').css("pointer-events", "auto");
				$(".goods-count").removeClass("disabled");
				$(".goods-count > .count-prd").prop("disabled", false);
			}
		} else {
			// 기프트 펀딩(분할 결제) 유의문구 숨김 처리
			$("#divide-payment-desc").hide();
		}

		fnRefreshBtnStatus();
		fnRefreshGoodsOrdTpCd();
	});

	$(document).ready(function () {

		if((($("input[name=stGbCd]").val() == '10' || $("input[name=stGbCd]").val() == '80') && $("#shop-storeYN").val() == 'Y' && $("#dlvrPckYn").val() == 'Y' && $("#dlvrGenYn").val() != 'Y')
				|| ("" != null && "" != "" && "" != 'N' && "" != 'CP') //케어플러스
				|| ("" != null && "" != "" && "" != 'N')
				|| ($("input[name=stGbCd]").val() == '50' && "false" == "true")) {
			// PD페이지 상품 수량 버튼 비활성화
			$('#pd-goods-count-miner').css("pointer-events", "none");
			$('#pd-goods-count-plus').css("pointer-events", "none");
			$(".goods-count").addClass("disabled");
			$(".goods-count > .count-prd").prop("disabled", true);

			//소상공인몰 매장픽업Only 상품일때 PD페이지 장바구니 버튼 활성화
			if($("input[name=stGbCd]").val() == '50' && "false" == "true") {
				// PD페이지 장바구니 버튼 활성화
				if($("#midYn").val()=='N'){
					$("#btnCart").addClass("btn-type1");
					$("#btnCart").removeClass("btn-type6");
					$("#btnCart").prop("disabled", false);
				}
			} else {
				// PD페이지 장바구니 버튼 비활성화
				$("#btnCart").addClass("btn-type6");
				$("#btnCart").removeClass("btn-type1");
				$("#btnCart").prop("disabled", true);
			}
			// 선물하기 - 케어플러스 전문세척 한정 선물하기 가능
			if("W" != "") {
				// PD페이지 선물하기 버튼 비활성화
				$("#btnPresent").addClass("btn-disable");
				$("#btnPresent").prop("disabled", true);
			}
		}

		if( 'Y' == $('input[name=customGoodsYn]').val() || 'D' == $('input[name=customGoodsYn]').val()){
            $('#pd-goods-count-miner').css("pointer-events", "none");
			$('#pd-goods-count-plus').css("pointer-events", "none");
			$(".goods-count").addClass("disabled");
			$(".goods-count > .count-prd").prop("disabled", true);
        }

		if("" != null && typeof "" != "" && "" != 'N'){
			$("#goodsOrdTpCd").val("");
			$("#linkSubCd").val("");
			$("#itemCd").val("");
		}
		console.log($("#goodsCartForm").serializeJson())
		freebiesToggle('.dropButton.frbs');
		/* 			var goodsOrdTpCd = ""

			if (goodsOrdTpCd != '') {
				var tradeInStr = goodsOrdTpCd.split(';');
				tradeInStr = tradeInStr[0];
			}

			 */

	});

	$(document).ready(function() {

		checkPdDropOption($('.itm-option-choice .dropButton'));
		checkPdDropOption($('.itm-eventInfo .dropButton'));
		checkPdDropOption($('.itm-freebies-option .dropButton'));

		$('.itm-option-choice .dropButton').on('click', function() {
			checkPdDropOption($(this));
		});
		$('.itm-eventInfo .dropButton').on('click', function() {
			checkPdDropOption($(this));
		});
		$('.itm-freebies-option .dropButton').on('click', function() {
			checkPdDropOption($(this));
		});
	})

	function checkPdDropOption(e) {
		var $e = $(e);
		clearTimeout(timer);
		var timer = setTimeout(function(){
			$e.find($('span.blind')).remove();
			$e.each(function() {
				if ($(this).hasClass("open")) {
					$(this).append('<span class="blind">열림</span>');
				} else {
					$(this).append('<span class="blind">닫힘</span>');
				}
			});
		}, 500)
	}

	$("#tradeCancelBtn").on("click", function(e){
		var chkTrd = $("#option-trade-in-yes").is(':checked');
		if(chkTrd == true){
			$("#option-trade-in-no").prop('checked',true);
			$("#option-trade-in-no").click();
		}
		e.preventDefault();
		$(this).parents('.layer-pop').hide();
		$("body").css("overflow","");
		$("#mask").fadeOut("fast").remove();
	});

	$("#galClubCancelBtn").on("click", function(e){
		var chkGc = $("#option-galaxy-club-yes").is(':checked');
		if(chkGc == true) {
			$("#option-galaxy-club-no").prop('checked',true);
			$("#option-galaxy-club-no").click();
		}
		e.preventDefault();
		$(this).parents('.layer-pop').hide();
		$("body").css("overflow","");
		$("#mask").fadeOut("fast").remove();
	});

	$("#tradeOkBtn").on("click", function(e){
		var chkTrd = $("#option-trade-in-yes").is(':checked');
		if(chkTrd == true){
			fnTradeInOnClick();
		}
		e.preventDefault();
		$(this).parents('.layer-pop').hide();
		$("body").css("overflow","");
		$("#mask").fadeOut("fast").remove();
	});

	$("#galClubOkBtn").on("click", function(e){
		var chkGc = $("#option-galaxy-club-yes").is(':checked');
		if(chkGc == true) {
			fnGalaxyClubOnClick();
		}
		e.preventDefault();
		$(this).parents('.layer-pop').hide();
		$("body").css("overflow","");
		$("#mask").fadeOut("fast").remove();
	});

	// 갤럭시 트라이얼 프로그램
	$("input[name=option-trial]").on("click", function(e){
		fnRefreshBtnStatus();

		if($("#option-trial-yes").is(':checked')){
			if($('.select-store').is(':visible')){
				let alertData = {
					title: ""
					, content : "※ Galaxy Trial Program 신청 시,<br>매장픽업 이용이 불가합니다."
					, callback : function (){
						// 기존에 선택한 매장 정보 삭제됨
						$('.select-store').css("display", "none");
						$('.type01').css("display", "none");
						$('.type02').show();
						$('#pckStrNo').val("");
					}
					, btnText : "확인"
				};
				commonAlert(alertData);
				openLayer('commonAlert');
			}
		}
	});

	function popupStoreSelect() {
		const currentStoreIndex = $("#displaySaleCurrentStoreIndex").val();
		const currentStore = $("#popupStoreSelect").find("ul li").eq(currentStoreIndex);

		const strCode = currentStore.find(".location-store-code").text();
		const strName = currentStore.find(".location-store-name").text();
		const strAddress = currentStore.find(".location-store-address").text();
		const strPhone = currentStore.find(".location-store-phone").text();

		$("#strCode").val(strCode);
		$(".select-store").find("#store-name strong").text(strName);
		$(".select-store").find("#store-addr").text(strAddress);
		$(".select-store").find("#store-phone span").text(strPhone);

		$("#display-sale-store-select").hide();
		$("#display-sale-current-store").show();
	}

	$("#popupStoreSelectConfirm").on("click", function(e) {
		const chkStore = $("#popupStoreSelect").find("input[type='radio']").filter(":checked");
		const chkStoreIndex = $(chkStore).closest("li").index();

		$("#displaySaleCurrentStoreIndex").val(chkStoreIndex);

		popupStoreSelect();

		e.preventDefault();
		$(this).parents('.layer-pop').hide();
		$("body").css("overflow","");
		$("#mask").fadeOut("fast").remove();
	});

	$(document).ready(function () {
		if ($("#displaySaleYn").val() === "Y") {
			$("#postNoNew").val($("#displaySalePostNoNew").val())
			if ($("#displaySaleCurrentStoreIndex").val() >= 0) {
				popupStoreSelect();
			}

			// 매장 선택 x버튼 클릭
			$('.select-store .box-txt .delete').off().on('click', function() {
				$("#displaySaleCurrentStoreIndex").val(-1)
				$("#strCode").val("");

				$("#display-sale-store-select").show();
				$("#display-sale-current-store").hide();
			});

			$('#pd-goods-count-miner').css("pointer-events", "none");
			$('#pd-goods-count-plus').css("pointer-events", "none");
			$(".goods-count").addClass("disabled");
			$(".goods-count > .count-prd").prop("disabled", true);
		}
	});

	$(document).ready(function () {
		if($('input:radio[name="careplusOpt"]').is(":checked") && $('input:radio[name="careplusOpt"]:checked').data("key") != 'noChoice') {
			$('#pd-goods-count-miner').css("pointer-events", "none");
			$('#pd-goods-count-plus').css("pointer-events", "none");
			$(".goods-count").addClass("disabled");
			$(".goods-count > .count-prd").prop("disabled", true);
		}

		if($('input[name=goodsAddTpCd]').val() == '160'){
			$(".itm-option-choice").addClass("add-line");
		}

	});

	var holidayList = [];
	var holidayArr = [];
	
		holidayArr = [];
		holidayArr.push("20240101".substr(0,4));
		holidayArr.push("20240101".substr(4,2));
		holidayArr.push("20240101".substr(6,2));
		holidayList.push(holidayArr.join(""));
	
		holidayArr = [];
		holidayArr.push("20240209".substr(0,4));
		holidayArr.push("20240209".substr(4,2));
		holidayArr.push("20240209".substr(6,2));
		holidayList.push(holidayArr.join(""));
	
		holidayArr = [];
		holidayArr.push("20240210".substr(0,4));
		holidayArr.push("20240210".substr(4,2));
		holidayArr.push("20240210".substr(6,2));
		holidayList.push(holidayArr.join(""));
	
		holidayArr = [];
		holidayArr.push("20240211".substr(0,4));
		holidayArr.push("20240211".substr(4,2));
		holidayArr.push("20240211".substr(6,2));
		holidayList.push(holidayArr.join(""));
	
		holidayArr = [];
		holidayArr.push("20240212".substr(0,4));
		holidayArr.push("20240212".substr(4,2));
		holidayArr.push("20240212".substr(6,2));
		holidayList.push(holidayArr.join(""));
	
		holidayArr = [];
		holidayArr.push("20240301".substr(0,4));
		holidayArr.push("20240301".substr(4,2));
		holidayArr.push("20240301".substr(6,2));
		holidayList.push(holidayArr.join(""));
	
		holidayArr = [];
		holidayArr.push("20240410".substr(0,4));
		holidayArr.push("20240410".substr(4,2));
		holidayArr.push("20240410".substr(6,2));
		holidayList.push(holidayArr.join(""));
	
		holidayArr = [];
		holidayArr.push("20240505".substr(0,4));
		holidayArr.push("20240505".substr(4,2));
		holidayArr.push("20240505".substr(6,2));
		holidayList.push(holidayArr.join(""));
	
		holidayArr = [];
		holidayArr.push("20240506".substr(0,4));
		holidayArr.push("20240506".substr(4,2));
		holidayArr.push("20240506".substr(6,2));
		holidayList.push(holidayArr.join(""));
	
		holidayArr = [];
		holidayArr.push("20240515".substr(0,4));
		holidayArr.push("20240515".substr(4,2));
		holidayArr.push("20240515".substr(6,2));
		holidayList.push(holidayArr.join(""));
	
		holidayArr = [];
		holidayArr.push("20240606".substr(0,4));
		holidayArr.push("20240606".substr(4,2));
		holidayArr.push("20240606".substr(6,2));
		holidayList.push(holidayArr.join(""));
	
		holidayArr = [];
		holidayArr.push("20240815".substr(0,4));
		holidayArr.push("20240815".substr(4,2));
		holidayArr.push("20240815".substr(6,2));
		holidayList.push(holidayArr.join(""));
	
		holidayArr = [];
		holidayArr.push("20240916".substr(0,4));
		holidayArr.push("20240916".substr(4,2));
		holidayArr.push("20240916".substr(6,2));
		holidayList.push(holidayArr.join(""));
	
		holidayArr = [];
		holidayArr.push("20240917".substr(0,4));
		holidayArr.push("20240917".substr(4,2));
		holidayArr.push("20240917".substr(6,2));
		holidayList.push(holidayArr.join(""));
	
		holidayArr = [];
		holidayArr.push("20240918".substr(0,4));
		holidayArr.push("20240918".substr(4,2));
		holidayArr.push("20240918".substr(6,2));
		holidayList.push(holidayArr.join(""));
	
		holidayArr = [];
		holidayArr.push("20241003".substr(0,4));
		holidayArr.push("20241003".substr(4,2));
		holidayArr.push("20241003".substr(6,2));
		holidayList.push(holidayArr.join(""));
	
		holidayArr = [];
		holidayArr.push("20241009".substr(0,4));
		holidayArr.push("20241009".substr(4,2));
		holidayArr.push("20241009".substr(6,2));
		holidayList.push(holidayArr.join(""));
	
		holidayArr = [];
		holidayArr.push("20241225".substr(0,4));
		holidayArr.push("20241225".substr(4,2));
		holidayArr.push("20241225".substr(6,2));
		holidayList.push(holidayArr.join(""));
	

	var goodsDlvrDsalwList = [];
	

	var dlvrPlcMinDate = "2024-06-20";
</script>

<div class="itm-info-detail" id="itmInfoDetail"
data-mdl-code="SM-S711NZPWKOD" data-url-nm="smartphones" data-fmy-grp-nm="galaxy-s23-fe-5g-s711" data-fmy-dist-url="galaxy-s23-fe-5g-s711"
data-goods-nm="갤럭시 S23 FE 통신사폰 (SKT/KT/LG U+)" data-sale-stat="12" data-mdl-nm="SM-S711NZPWKOD" data-grp-mdl-nm="SM-S711N"
data-fmy-eng-nm="galaxy-s23-fe-5g-s711" data-goods-id="G000381004"  data-envmt-gb-cd="prd"
data-fast-dlvr-yn="N">
<input type="hidden" name="goodsId" value="G000381004" />
<input type="hidden" name="masterGoodsFlag" id="masterGoodsFlag" value="M" />
<input type="hidden" name="masterGoodsId" id="masterGoodsId" value="" />
<input type="hidden" name="goodsTpCd" value="10" />
<input type="hidden" name="compNo" value="415"/>
<input type="hidden" name="goodsAddTpCd" value=""/>
<input type="hidden" name="goodsAddTpSubCd" value=""/><!-- B2C 홈클래스 VOD 신규 강좌 추가의 건 2023.06.20 jjj -->
<input type="hidden" name="bspkGoodsYn" value="N"/>
<input type="hidden" id="shop-storeYN" value="Y"/>
<input type="hidden" name="mhdjTgYn" value="N" />
<input type="hidden" name="tradeInType" value="" />
<input type="hidden" name="stContextPath" value="/sec/" />
<input type="hidden" name="dlvrGenYn" id="dlvrGenYn" value="N"/>
<input type="hidden" name="dlvrPckYn" id="dlvrPckYn" value="Y"/>
<input type="hidden" name="dlvrVstYn" id="dlvrVstYn" value=""/>
<input type="hidden" name="omsSendYn" id="omsSendYn" value="N"/>
<input type="hidden" name="goodsNm" id="goodsNm" value="갤럭시 S23 FE 통신사폰 (SKT/KT/LG U+)"/>
<input type="hidden" name="mdlCode" id="mdlCode" value="SM-S711NZPWKOD"/>
<input type="hidden" name="netfunnelYn" id="netfunnelYn" value="N"/>
<input type="hidden" name="isLoginYn" id="isLoginYn" value="N"/>
<input type="hidden" name="discountRate" id="discountRate" value="0"/>
<input type="hidden" name="discountRateYn" id="discountRateYn" value=""/>
<input type="hidden" name="outletFlgYn" id="outletFlgYn" value=""/>
<input type="hidden" name="winePickupGoodsYn" id="winePickupGoodsYn" value=""/>
<input type="hidden" name="thirdPartyYn" id="thirdPartyYn" value="N"/>
<input type="hidden" name="1depthCtgNm" id="1depthCtgNm" value="모바일"/>
<input type="hidden" name="2depthCtgNm" id="2depthCtgNm" value="갤럭시 스마트폰"/>
<input type="hidden" id="imgPath" value="//images.samsung.com/kdp/goods/2024/02/16/571a4958-8e41-41b9-8613-59fa75074431.png" />
<input type="hidden" name="useStkCd" id="useStkCd" value="80"/>
<input type="hidden" name="qookerYn" id="qookerYn" value="N"/>
<input type="hidden" name="showCpAmtYn" id="showCpAmtYn" value="Y"/>
<input type="hidden" name="showAppCpAmtYn" id="showAppCpAmtYn" value="Y"/>
<input type="hidden" name="midYn" id="midYn" value="N"/>
<input type="hidden" name="contsReloadYn" id="contsReloadYn" value="Y"/>
<input type="hidden" name="homeClsGoodsYn" id="homeClsGoodsYn" value=""/><!-- KDP-41178[B2C][상품] 홈클래스 수정사항 - 찜하기 -->
<input type="hidden" name="ga4OptionString" id="ga4OptionString" value="퍼플/256 GB"/>
<input type="hidden" name="beforeBenefitPrice" id="beforeBenefitPrice" value="0"/>
<input type="hidden" name="goodsInstallType" id="goodsInstallType" value=""/><!-- 상품 설치 타입 -->
<input type="hidden" name="theFrameExpGoodsYn" id="theFrameExpGoodsYn" value=""/><!-- 더프레임(벽걸이 스탠드구분 예외대상) 적용 상품인지 여부 -->
<input type="hidden" name="optSelLmtCnt" id="optSelLmtCnt" value=""/>
<input type="hidden" name="cpAutoSetMdlYr" id="cpAutoSetMdlYr" value=""/> 
<input type="hidden" name="qookerRglrDlvrYn" id="qookerRglrDlvrYn" value=""/>
<input type="hidden" name="qookerRglrDlvrPrdTp" id="qookerRglrDlvrPrdTp" value=""/>
<input type="hidden" name="qookerRglrDlvrPrd" id="qookerRglrDlvrPrd" value=""/>
<input type="hidden" name="qookerRglrDlvrCnt" id="qookerRglrDlvrCnt" value=""/>
<input type="hidden" name="memberShipYn" id="memberShipYn" value="N" />
<input type="hidden" name="fnetMembershipJoinUrl" id="fnetMembershipJoinUrl" value="" />
<form id="goodsCartForm" name="goodsCartForm" method="post">
	<input type="hidden" name="goodsIds" id="goodsIds" value="G000381004" />
	<input type="hidden" name="stGbCd" value="10" />
	<input type="hidden" name="stId" value="1" />
	<input type="hidden" name="empPrcStYn" value="N" />
	<input type="hidden" name="nowBuyYn" value="N" />
	<input type="hidden" name="buyQtys" class="count-prd" value="1" />
	<input type="hidden" name="orderType" value="ONCE">
	<input type="hidden" name="frbInfo">
	<input type="hidden" name="pckStrNo" id="pckStrNo" value="" />
	<input type="hidden" name="goodsOrdTpCd" id="goodsOrdTpCd" value="" />
	<input type="hidden" name="ordOptMap" id="ordOptMap" value="" />
	<input type="hidden" name="galaxyClubYn" id="galaxyClubYn" value="" />
	<input type="hidden" name="clsMtdCd" id="clsMtdCd" value=""/>
	<input type="hidden" name="clsCtgryCd" id="clsCtgryCd" value=""/><!-- B2C 홈클래스 VOD 신규 강좌 추가의 건 2023.06.20 jjj -->
	<input type="hidden" name="galaxyClubTpCd" id="galaxyClubTpCd" value=""/>
	<input type="hidden" name="linkSubCd" id="linkSubCd" value="" />
	<input type="hidden" name="itemCd" id="itemCd" value="" />
	<input type="hidden" name="secApp" id="secApp" value="false" />
	<input type="hidden" name="secIos" id="secIos" value="false" />
	<input type="hidden" name="price" id="price" value="" />
	<input type="hidden" name="displaySaleYn" id="displaySaleYn" value="N" />
	<input type="hidden" name="strCode" id="strCode" value="" />
	<input type="hidden" name="postNoNew" id="postNoNew" value="" />
	<input type="hidden" name="directYn" id="directYn" value="Y" />
	<input type="hidden" name="pickupCapaDate" id="pickupCapaDate" value=""/>
	<input type="hidden" name="pickupCapaTime" id="pickupCapaTime" value=""/>
	<input type="hidden" name="plazaRsvYn" id="plazaRsvYn" value=""/>
	<input type="hidden" name="qookerDlvrDates" id="qookerDlvrDates" value=""/>
	<input type="hidden" name="mxCarePlusYn" id="mxCarePlusYn" value=""/>
</form>
<input type="hidden" name="customGoodsYn" id="customGoodsYn" value="N">

<!--구매수량별 혜택가 추가 2020.12.18 -->
<!-- 화면 필요 변수 SET START -->
<!-- 화면 필요 변수 SET END -->

<div class="itm-info-head">
	<div class="itm-flag">
		<!-- KDP-17720 B2B 소상공인몰 매장픽업only won1.id  -->
		<span class="flag-tag">매장픽업 가능</span>
				<!-- 아웃렛 상품 여부 -->
			<!-- 케어플러스 -->
			<!-- 상품 플래그명 -->
			<!-- 할인율 표시 -->
			<!-- 22.03.23_kjh_KDP-10791 -->
			</div>
	<div class="social-box">
				<button type="button" class="btn-sns-link" data-title="공유" data-content="" data-close="툴팁 닫기"  ><i class="icon ico-large ico-share">소셜공유</i></button>
				<div class="tooltip-content" style="display:none;">
					<ol class="share-tooltip-box">
						<li>
							<a href="javascript:void(0);" class="pd-copylink" onkeydown="tabKeyCnt();">
								<img src="/sec/static/_images/common/icon-copylink.svg" alt="링크복사 아이콘">
								<span>링크복사</span>
							</a>
							<script>
								function tabKeyCnt() {
									$('.pd-copylink').on('keydown', function(e) {
										if(event.shiftKey && (event.keyCode || event.which) === 9) {
											event.preventDefault();
											$('#pd-tooltip-close').focus();
										}
									});
								}
							</script>
						</li>
						<li>
							<a href="javascript:void(0);" class="pd-sns-kakao" title="새 창으로 열림">
								<img src="/sec/static/_images/common/sns-kakao@3x.png" alt="카카오톡 아이콘(공유하기)">
								<span>카카오톡</span>
							</a>
						</li>
						<li>
							<a href="javascript:void(0);" class="pd-sns-facebook" title="새 창으로 열림">
								<img src="/sec/static/_images/common/sns-facebook@3x.png" alt="페이스북 아이콘">
								<span>페이스북</span>
							</a>
						</li>
						<!-- s: 221007 선물조르기 추가 (닷컴만) -->
						<li>
								<a href="javascript:void(0);" class="pd-picking-gift" title="새 창으로 열림">
									<img src="/sec/static/_images/common/icon_pickingGift.png" alt="선물 아이콘">
									<span>선물 조르기</span>
								</a>
							</li>
						<!-- e: 221007 선물조르기 추가 -->
					</ol>
				</div>
			<button type="button" class="btn-good " title=""><i class="icon ico-large ico-goods">좋아요 미선택</i></button>
						<div class="bookmarkTooltip flashTooltip bookmarkOn">
							<div><p><span>찜</span>이 되었습니다.</p><a href="javascript:void(0);" class="btn-underline">전체보기</a></div>
						</div>
						<div class="bookmarkTooltip flashTooltip bookmarkOff">
							<div><p><span>찜</span>이 취소되었습니다.</p></div>
						</div>
					</div>
	<h1 class="itm-info-title" id="goodsDetailNm">갤럭시 S23 FE 통신사폰 (SKT/KT/LG U+)</h1>
	<div class="itm-sku b2c-itm-sku compare-box-align">SM-S711NZPWKOD</div>
		<!-- B2C, 패넷, 패넷 디플 PD페이지 비교하기 버튼 추가 s -->
		<div class="compare">
				<a href="javascript:void(0);" class="link-compare-i" onClick="readyCompare(this)"
				   data-goods-id="G000381004" data-goods-nm="갤럭시 S23 FE 통신사폰 (SKT/KT/LG U+)" data-mdl-code="SM-S711NZPWKOD " data-comp-disp-clsf-en-nm="smartphones">
					비교하기
				</a>
			</div>
		<!-- B2C, 패넷, 패넷 디플 PD페이지 비교하기 버튼 추가 e -->
		<!-- 2023.08.30 홈클래스 VOD 상품 상품평쓰기 노출 제외-->
			<div class="itm-rating-con">
				<div class="itm-rating b2c-itm-rating">
					<div class="itm-sart-rating" role="img" aria-label="별점 4.8점">
						<!--
										별점 1점일때 클래스 star-yellow 적용
										별점 0.5점일때 클래스 star-half-yellow 적용
										별점 0점일때 클래스 star-gray 적용
									-->
						<i class="star-yellow"></i><!-- 별점 1점 -->
								<i class="star-yellow"></i><!-- 별점 1점 -->
								<i class="star-yellow"></i><!-- 별점 1점 -->
								<i class="star-yellow"></i><!-- 별점 1점 -->
								<i class="star-half-yellow"></i><!-- 별점 0.5점 -->
										<span>4.8</span>
					</div>
					<!-- <div class="itm-sart-rating">
									<i class="icon ico-default ico-star">별점</i>
									<span>4.0</span>
								</div> -->
					<a href="javascript:;" class="itm-review-count" title="상품평 보러가기">(600건)</a>
				</div>
				<div class="itm-rating itm-review">
					<span class="itm-review-write"><a href="javascript:void(0);" class="btn-underline" title="상품평 쓰기 바로가기">상품평 쓰기</a></span>
				</div>

			</div>
		</div>
	<!-- 가격이 없을 경우 영역 노출 X -->
			<div class="itm-price itm-type" style="display:none">

				<div>
					<input type="hidden" id="originalPrice" value="847000">
							<input type="hidden" id="discountAmount" value="0">
							<input type="hidden" id="lastPrice" value="847000">
						<dl class='event-price' >
											<dt>
												기준가<button type="button" class="btn-tooltop02 price-tooltip" data-title="기준가 안내" data-content="" data-close="툴팁 닫기" data-width="360"><span>기준가 안내 보기</span></button>
														<div class="tooltip-content" style="display:none;">
															<p>판매가는 <strong>삼성닷컴에만 적용</strong>됩니다.</p>
																</div>
													</dt>
											<dd>
												<span data-price="847000" class='pd-total-price'>847,000</span>원
											</dd>
										</dl>
									<script type="text/javascript">
						if('847000' == '0'){
							$(".itm-price").hide();
						}
					</script>

					<!-- s : 220920 kdp60추가 -->
					<!-- e : 220920 kdp60추가 -->
				</div>
			</div>
			<div class="itm-option-choice droptoggle ">
				<dl class="colorchip-group">
										<dt><span>색상</span>
											<span class="selectedOption">퍼플</span>
											</dt>
										<dd>
											<div id="dropOption-1001-1" class="pdGoodsOption">
												<ol class="dropList itm-color-list"  style="display:block">
													<li id="itmLi-1001-1">
																<input type="radio" id="itm-1001-1" name="1001" data-mdl-code="SM-S711NZPWKOD" data-goods-id="G000381004" checked>
																<label for="itm-1001-1">
																	<!-- <span tabindex="0" class="itm-color-object-large" style="background-color:#614B79;" data-omni="color_Purple">퍼플</span> -->
																			<span class="itm-color-object-large" style="background-color:#614B79;" data-omni="color_Purple">퍼플</span>
																				</label>
															</li>
														<li id="itmLi-1001-2">
																<input type="radio" id="itm-1001-2" name="1001" data-mdl-code="SM-S711NZAWKOD" data-goods-id="G000381005" >
																<label for="itm-1001-2">
																	<!-- <span tabindex="0" class="itm-color-object-large" style="background-color:#53565A;" data-omni="color_Graphite">그라파이트</span> -->
																			<span class="itm-color-object-large" style="background-color:#53565A;" data-omni="color_Graphite">그라파이트</span>
																				</label>
															</li>
														<li id="itmLi-1001-3">
																<input type="radio" id="itm-1001-3" name="1001" data-mdl-code="SM-S711NLGWKOD" data-goods-id="G000381006" >
																<label for="itm-1001-3">
																	<!-- <span tabindex="0" class="itm-color-object-large" style="background-color:#CAD9D3;" data-omni="color_Mint">민트</span> -->
																			<span class="itm-color-object-large" style="background-color:#CAD9D3;" data-omni="color_Mint">민트</span>
																				</label>
															</li>
														<li id="itmLi-1001-4">
																<input type="radio" id="itm-1001-4" name="1001" data-mdl-code="SM-S711NZWWKOD" data-goods-id="G000381007" >
																<label for="itm-1001-4">
																	<!-- <span tabindex="0" class="itm-color-object-large" style="background-color:#F0EAE0;" data-omni="color_Gold">크림</span> -->
																			<span class="itm-color-object-large" style="background-color:#F0EAE0;" data-omni="color_Gold">크림</span>
																				</label>
															</li>
														</ol>
											</div>
										</dd>
									</dl>
								<dl class="">
										<dt><span>스토리지 (저장 용량)</span>
											</dt>
										<dd>
											<div id="dropOption-1003-2" class="pdGoodsOption">
												<ol class="dropList itm-radiobtn-list">
														<li id="itmLi-1003-1">
																<input type="radio" id="itm-1003-1" name="1003" data-mdl-code="SM-S711NZPWKOD" data-goods-id="G000381004" checked>
																<label for="itm-1003-1">
																	<!-- <span tabindex="0" data-omni="device-memory_256 GB">256 GB</span> -->
																			<span data-omni="device-memory_256 GB">256 GB</span>
																		</label>
															</li>
														</ol>
											</div>
										</dd>
									</dl>
								<!-- 개통폰 통신사 구간 -->
					<dl class="pa-group">
						<dt>
							<span>통신사</span>
							<a class="btn-underline" href="javascript:$('#compGoodsOtherServiceA').trigger('click');$('#activatePhoneTab a').trigger('click');" data-di-id="">자세히 보기</a>
						</dt>
						<dd>
							<div id="" class="agency-form">
								<ol class="dropList itm-radiobtn-list">
									<li class="">
										<input type="radio" id="itm-SKT" name="activatePhoneCarrier" value="SKT">
										<label for="itm-SKT">
											<span data-omni=""><img src="/sec/static/_images/icon_pd/icon_btn_sk.svg" alt="SKT"></span>
										</label>
									</li>
									<li class="">
										<input type="radio" id="itm-KTF" name="activatePhoneCarrier" value="KTF">
										<label for="itm-KTF">
											<span data-omni=""><img src="/sec/static/_images/icon_pd/icon_btn_kt.svg" alt="KT"></span>
										</label>
									</li>
									<li class="">
										<input type="radio" id="itm-LGT" name="activatePhoneCarrier" value="LGT">
										<label for="itm-LGT">
											<span data-omni=""><img src="/sec/static/_images/icon_pd/icon_btn_lg.svg" alt="LG U+"></span>
										</label>
									</li>
									</ol>
							</div>
						</dd>
						<dd>
							<div class="itm_option-discbox">
								<p class="txt-option-disc">※ 본 모델은 통신사 이동 없이 휴대폰 변경이 가능합니다. (기기변경)<br>고객님의 기존 통신사를 선택해 주세요</p>
							</div>
						</dd>
					</dl>
				<!-- s : KDP-51485 [B2C] TV PD페이지 바잉툴 옵션 추가 건(무타공) -->
				<!-- e : KDP-51485 [B2C] TV PD페이지 바잉툴 옵션 추가 건(무타공) -->

				<!-- e : KDP-44557 [B2C][FO] 케어플러스 무상수리서비스 옵션/번들 -->

				<!-- 개통폰은 수량조절 불가 -->
					<!-- 판매중 상태 or (일시품절인 매장 픽업 상품) 일때만 트레이드인, 갤클 옵션 표시 -->
				</div>

			<!-- 판매중 상태 or (일시품절인 매장 픽업 상품) 일때만 기프트 펀딩(분할 결제) 표시 -->
			<!-- e : 제품 옵션 -->

			<div id="divDividePaymentArea"></div>

			<!-- s : 제품 이벤트 안내 -->
			<div class="dropDown-content itm-eventInfo">
				<!-- B2B 소상공인몰 시 TV 크기 팝업 노출 -->
				<!-- B2B 소상공인몰 시 에어컨 에어컨 추가 설치비 pdf 보기 링크 -->
				<!-- B2B 소상공인몰 시 사이니지/ 모니터 제품 클릭시 플립2 구매 안내 팝업 노출 -->
				<!-- 2023.08.30 홈클래스 VOD 상품 카드혜택 노출 제외-->
				<!-- 머천다이징 텍스트가 있을 경우 노출 -->
				<!-- B2B 소상공인몰 매장픽업only일때 노출 시작-->
				<!-- B2B 소상공인몰 매장픽업only일때 노출 끝-->
			</div>
			<!-- e : 제품 이벤트 안내 -->
			<!-- 201120 매장픽업-선택된 매장 -->
					<div class="select-store" style="display:none">
						<strong class="tit">선택매장</strong>
						<dl class="box-txt">
							<ul>
								<li><strong></strong></li>
								<li id="store-addr"></li>
							</ul>
							<button type="button" class="delete"><span class="blind">삭제</span></button>
						</dl>
					</div>
				<div class="dropDown-content itm-eventInfo memberpoint">
						<div id="membership-info">
										</div>
								</div>
					<div class="itm-total-bottom">
							<div class="box-btn">
								<div class="box-cto" >
									<ul  >
											<!-- B2C 홈클래스 VOD 신규 강좌 추가의 건 2023.06.20 jjj : 홈클래스 VOD 상품인 경우 선물하기/ 장바구니 버튼 비노출-->
												<!-- 선물하기 버튼 S -->
												<!-- 선물하기 버튼 E -->
												<!-- 매장픽업 버튼 S -->
												<li>
														<button id="btnStorePickUp" type="button" class="btn btn-l btn-type1" data-fast-dlvr="N" data-omni="pick up_offline">매장픽업</button>
													</li>
												<!-- 매장픽업 버튼 E -->
												<li>
															<button id="btnActvPhoneApply" type="button" class="btn btn-l btn-type2 btn-subscription">신청하기</button>
															<input type="hidden" id="netfunnelStGrp" value="b2c" />
														</li>
													</ul>
									<!-- 빠른배송 -->
									</div>
								<div class="regular" style="display:none;">
										<button id="btnRegular" type="button" class="btn btn-l btn-type2 opt-regular-btn" style="width:100%" data-omni="shop regular">정기 구매하기</button>
									</div>
								<!-- 큐커식품관 정기배송 -->
								<!-- 삼성닷컴 선물하기 이벤트 오픈 시 주석 해제 -->
									</div>
						</div>
					<ul class="sub-btn-box ">
							<!-- 갤럭시 캠퍼스 스토어일때 조건 임시 추가 -->
							</ul>
						<div class="box-bann" >
					<!--  class="promotionBtn"  가 있을때 구매혜택으로 anchor 이동,  없을땐 일반 링크 배너일때 2가지 type이 있음. -->
					<!-- <a href="javascript:;"> -->
					<a   href="https://www.samsung.com/sec/event/galaxy-s24-series/?anc=reviewevent" target="_blank"  title="새 창으로 열림">
							<img src="//images.samsung.com/kdp/goods_banner/G000380067/4edd177d-02ca-43b4-b738-23ea0462b12a.jpg" alt="통신사폰 구매 후 포토/동영상 상품평 작성 시 해피머니 온라인상품권 교환권 5만원 추첨 증정!">
						</a>
						</div>
			</div>
<!-- e : 제품 구매영역 전체 노출 -->

<div class="layer-pop layer-normal layer-company layer-tvRuler" id="PfLayerTvRuler" tabindex="0" data-popup-layer="PfLayerTvRuler" data-focus="PfLayerTvRuler">
	<div class="layer-header">
		<h2>일러두기 : TV크기 쉽게 알아보기</h2>
	</div>
	<div class="layer-content">
		<!-- <h3><strong>Samsung TV</strong></h3> -->
		<div class="wrap-scroll">
			<!-- s : 버튼 선택 시 -->
			<div class="search-content selected-inp">
				<div class="ul-tbl-box tbl-white-simple t-left">
					<!-- KDP-21609 [FO][B2B] 모바일 웹접근성_p58 LMJ START -->
					<table class="ul-tbl mile-tbl2">
						<tr class="ul-tr">
							<th class="ul-td ul-head">cm</th>
							<th class="ul-td ul-head">인치</th>
						</tr>
						<tr class="ul-tr"> <!-- 20201029 추가 -->
							<td class="ul-td">330 cm</td>
							<td class="ul-td">130"</td>
						</tr>
						<tr class="ul-tr"> <!-- 20201029 추가 -->
							<td class="ul-td">305 cm</td>
							<td class="ul-td">120"</td>
						</tr>
						<tr class="ul-tr"> <!-- 20210125 추가 -->
							<td class="ul-td">278 cm</td>
							<td class="ul-td">110"</td>
						</tr>
						<tr class="ul-tr"> <!-- 20201029 추가 -->
							<td class="ul-td">254 cm</td>
							<td class="ul-td">100"</td>
						</tr>
						<tr class="ul-tr">
							<td class="ul-td">247 cm</td>
							<td class="ul-td">98"</td>
						</tr>
						<tr class="ul-tr"> <!-- 20201029 추가 -->
							<td class="ul-td">229 cm</td>
							<td class="ul-td">90"</td>
						</tr>
						<tr class="ul-tr">
							<td class="ul-td">223 cm</td>
							<td class="ul-td">88"</td>
						</tr>
						<tr class="ul-tr">
							<td class="ul-td">214 cm</td>
							<td class="ul-td">85"</td>
						</tr>
						<tr class="ul-tr">
							<td class="ul-td">207 cm</td>
							<td class="ul-td">82"</td>
						</tr>
						<tr class="ul-tr">
							<td class="ul-td">189 cm</td>
							<td class="ul-td">75"</td>
						</tr>
						<tr class="ul-tr"> <!-- 20201029 추가 -->
							<td class="ul-td">176 cm</td>
							<td class="ul-td">70"</td>
						</tr>
						<tr class="ul-tr">
							<td class="ul-td">163 cm</td>
							<td class="ul-td">65"</td>
						</tr>
						<tr class="ul-tr"> <!-- 20210514 추가 -->
							<td class="ul-td">152 cm</td>
							<td class="ul-td">60"</td>
						</tr>
						<tr class="ul-tr"> <!-- 20201029 추가 -->
							<td class="ul-td">146 cm</td>
							<td class="ul-td">58"</td>
						</tr>
						<tr class="ul-tr">
							<td class="ul-td">138 cm</td>
							<td class="ul-td">55"</td>
						</tr>
						<tr class="ul-tr">
							<td class="ul-td">125 cm</td>
							<td class="ul-td">50"</td>
						</tr>
						<tr class="ul-tr">
							<td class="ul-td">123 cm</td>
							<td class="ul-td">49"</td>
						</tr>
						<tr class="ul-tr">
							<td class="ul-td">108 cm</td>
							<td class="ul-td">43"</td>
						</tr>
						<tr class="ul-tr">
							<td class="ul-td">80 cm</td>
							<td class="ul-td">32"</td>
						</tr>
					</table>
					<!-- KDP-21609 [FO][B2B] 모바일 웹접근성_p58 LMJ START -->
				</div>
				<p class="txt-info">* 약 2.54 cm = 1 인치</p>
			</div>
		</div>
	</div>
	<button type="button" class="pop-close" data-focus-next="PfLayerTvRuler">팝업닫기</button>
</div>
<!-- e : 일러두기 : TV크기 쉽게 알아보기 -->

<!-- s : 소상공인몰 구매확인서 popup - 210331 -->
<div class="layer-pop layer-normal popup-smallb-purchase" id="popupSmallbPurchase" tabindex="0" data-popup-layer="popupSmallbPurchase" data-focus="popupSmallbPurchase">
	<div class="layer-header">
		<h2>소상공인몰 제품 구매확인서</h2>
	</div>
	<div class="layer-content">
		<div class="box-clause-content clause-family">
			<p class="set txt-box">삼성전자판매 주식회사 &#40;이하 &#39;판매자&#39; 라 한다&#41; 와의 사업자 납품 거래를 아래와 같이 확인합니다.</p>
			<p class="set ac">&#45;	아 래 &#45;</p>
			<div class="set">
				<p class="set-tit">제1조 &#40;목적&#41;</p>
				<ul class="list-dash">
					<li class="item">본 판매건은 사업자 납품 계약 제품 &#40;이하 &#39;제품&#39;이라 한다&#41; 을 구매자 에게 납품하고  &#39;구매자&#39;가 그 제품대금을 결재함에 있어 필요한 제반사항을 규정하여 상호간 거래를 명확히 함에 목적이 있다.</li>
				</ul>
			</div>
			<div class="set">
				<p class="set-tit">제2조 &#40;설치&#41;</p>
				<ul class="list-dash">
					<li class="item">&#39;판매자&#39;는 &#39;구매자&#39;가 요청한 인도처 로 설치배송을 해야하며 &#39;구매자&#39;는 제품설치를 받아야한다</li>
					<li class="item">&#39;구매자&#39;가 제품설치를 거부하는 경우 &#39;판매자&#39;는 제품회수 처리를 할 수도 있다.</li>
				</ul>
			</div>
			<div class="set">
				<p class="set-tit">제3조 &#40;물량유출금지&#41;</p>
				<ul class="list-dash">
					<li class="item">&#39;구매자&#39;는 &#39;판매자&#39;의 제품을 실사용 용도 이외에 다른 용도로 판매, 전용&#40;이하 &#39;물량유출&#39;이라 칭함&#41; 하여서는 아니되며, &#39;구매자&#39;가 이를 위한한 경우 &#39;판매자&#39;는 &#39;구매자&#39;와 의 거래를 중단조치 할 수 있다.</li>
				</ul>
			</div>
		</div>
		<!-- 버튼 두개시 클래스 double 추가 -->
		<div class="btn-box double">
			<a href="javascript:void(0)" onclick="javascript:closeLayer('popupSmallbPurchase');" class="btn btn-d btn-type1">취소</a>
			<a href="javascript:void(0)" id="smallbPurchaseAgreeBtn" class="btn btn-d btn-type2">동의</a>
		</div>
	</div>
	<button type="button" class="pop-close" data-focus-next="popup-pica">팝업닫기</button>
	<input type="hidden" id="smallbPurchaseAgree" name="smallbPurchaseAgree" value="N" />
</div>
<!-- e : 소상공인몰 구매확인서 popup-->

<!-- s : 20211210 소상공인몰 PF 팝업 - 에어컨 추가 설치비 -->
<div class="layer-pop layer-normal max850" id="PfLayerPdfView" tabindex="0" data-popup-layer="PfLayerPdfView" data-focus="PfLayerPdfView">
	<div class="layer-header">
		<h2>에어컨 추가 설치비</h2>
	</div>
	<div class="layer-content">
		<div class="wrap-scroll">
			<div>
				<img src="https://images.samsung.com/kdp/sohomall/images/img_sohoAirConditioner01.png" alt="23년 일반 에어컨 추가 설치비 운영 기준">
				<img src="https://images.samsung.com/kdp/sohomall/images/img_sohoAirConditioner02.png" alt="23년 중대형 에어컨(냉/난방기) 스탠드 추가 설치비 운영 기준">
			</div>
		</div>
	</div>
	<button type="button" class="pop-close" data-focus-next="PfLayerPdfView">팝업닫기</button>
</div>
<!-- e : 20211210 소상공인몰 PF 팝업 - 에어컨 추가 설치비 -->

<!-- s : 소상공인몰 PF 팝업 - 플립2 구매 안내 -->
<div class="layer-pop layer-normal max850" id="popupFilp2" tabindex="0" data-popup-layer="popupFilp2" data-focus="popupFilp2">
	<div class="layer-header">
		<h2>플립2 구매 안내</h2>
	</div>
	<div class="layer-content">
		<div class="wrap-scroll">
			<div>
				<img src="//images.samsung.com/kdp/editor/common/202203/d7f1da5a-82c2-491f-943f-d906da6820e1.jpg">
			</div>
		</div>
	</div>
	<button type="button" class="pop-close" data-focus-next="PfLayerPdfView">팝업닫기</button>
</div>
<!-- e : 소상공인몰 PF 팝업 - 플립2 구매 안내 -->

<!-- s : KDP-54271 갤럭시링 사이즈 가이드 -->
		<div class="layer-pop layer-normal max750" id="layerGalaxyringSizeguide" tabindex="0" data-popup-layer="layerGalaxyringSizeguide" data-focus="layerGalaxyringSizeguide" aria-hidden="false" data-zindex="300" style="z-index: 300;">
			<div class="layer-header">
				<h2>갤럭시 링 사이즈 가이드</h2>
			</div>

			<div class="layer-content ring_guide_popup">

				<div class="tab-style-btn tab-style-line col2 auto" role="tablist">
					<a href="javascript:void(0)" role="tab" aria-controls="tabContent-sizeguide1" aria-selected="true">주문안내</a>
					<a href="javascript:void(0)" role="tab" aria-controls="tabContent-sizeguide2" aria-selected="false">사용 방법</a>
				</div>
				<div class="tab-content" id="tabContent-sizeguide1" role="tabpanel">
					<!-- KDP-48636 MX제품 Buying Configurator - GalaxyringSizeguide : DOM 가져옴-->
					<br>
					<h3 class="step_tit_top">
						사이즈를 알고 있거나 모르고 있을 때의 배송 과정이 다릅니다.
					</h3>
					<div class="order_step">
						<h4 class="step_tit">사이즈를 모르고 있다면</h4>
						<ul class="process_list">
							<li class="process_box">
								<svg xmlns="http://www.w3.org/2000/svg" width="65.012" height="64" viewBox="0 0 65.012 64">
									<path transform="translate(.5)" style="fill:transparent" d="M0 0h64v64H0z"></path>
									<path d="M46.885 46.67a7.823 7.823 0 0 1-5.159-1.938 7.744 7.744 0 0 1-2.578-4.777H22.669a7.74 7.74 0 0 1-2.577 4.777 7.834 7.834 0 0 1-10.318 0A7.739 7.739 0 0 1 7.2 39.954H2.431A2.424 2.424 0 0 1 0 37.542V2.411A2.424 2.424 0 0 1 2.431 0h37.508a2.424 2.424 0 0 1 2.431 2.411v5.167h11.4a6.091 6.091 0 0 1 5.835 4.778l4.3 22.167a4.567 4.567 0 0 1-.923 3.812 4.64 4.64 0 0 1-3.6 1.619h-4.761a7.743 7.743 0 0 1-2.578 4.777 7.821 7.821 0 0 1-5.158 1.939zm0-12.4a4.693 4.693 0 0 0-4 2.238 4.667 4.667 0 0 0-.688 2.41 4.661 4.661 0 0 0 1.749 3.618 4.692 4.692 0 0 0 7.507-2.583 4.545 4.545 0 0 0-.565-3.445 4.695 4.695 0 0 0-4-2.238zm-31.952 0a4.695 4.695 0 0 0-4 2.238 4.607 4.607 0 0 0-.686 2.411 4.69 4.69 0 0 0 9.253 1.035 4.559 4.559 0 0 0-.566-3.445 4.695 4.695 0 0 0-4-2.238zm31.952-3.1a7.818 7.818 0 0 1 7.422 5.338h5.08a1.168 1.168 0 0 0 .921-.368 1.146 1.146 0 0 0 .191-.967l-1.813-9.342h-9.04a2.069 2.069 0 0 1-2.067-2.067v-7.576a2.069 2.069 0 0 1 2.067-2.067h6.768l-.214-1.113a2.636 2.636 0 0 0-2.424-1.987H42.37v21.586a7.794 7.794 0 0 1 4.515-1.436zm-31.952 0a7.819 7.819 0 0 1 7.422 5.338H38.9V3.445H3.473v33.064h4.038a7.818 7.818 0 0 1 7.422-5.338zm35.424-14.293v6.2h7.795l-1.2-6.2z" transform="translate(.5 8.439)" style="stroke:transparent;stroke-miterlimit:10"></path>
								</svg>
								<div class="txt_box">
									<strong class="process_tit">
										Step 1.<br>
										사이즈 키트와 함께 주문
									</strong>
									<p class="process_txt">
										사이즈를 모른다면 사이즈 키트와 함께 주문하세요. 사이즈 키트를 먼저 배송해드립니다.
									</p>
								</div>
							</li>
							<li class="process_box">
								<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64">
									<defs>
										<clipPath id="zevyqoh3ha">
											<path transform="translate(0 .043)" d="M0 0h64v64H0z"></path>
										</clipPath>
									</defs>
									<g transform="translate(0 -.043)" style="clip-path:url(#zevyqoh3ha)">
										<path transform="translate(0 .043)" style="fill:none" d="M0 0h64v64H0z"></path>
										<g data-name="그룹 14947">
											<path d="M53.388 64.118v-2.687H10.314v2.687H7.622v-8.729h2.692v3.357h7.269v-3.357h2.692v3.357h5.923v-3.357h2.692v3.357h5.923v-3.357h2.692v3.357h5.917v-3.357h2.7v3.357h7.269v-3.357h2.692v8.729z"></path>
											<path d="M31.259.211a26.085 26.085 0 0 1 18.45 44.542A26.092 26.092 0 1 1 21.102 2.262 25.93 25.93 0 0 1 31.259.211zm0 48.828a22.742 22.742 0 0 0 8.849-43.685 22.743 22.743 0 0 0-17.7 41.9 22.592 22.592 0 0 0 8.851 1.785z"></path>
											<path d="M31.259 5.963a20.334 20.334 0 0 1 14.383 34.723A20.34 20.34 0 1 1 23.341 7.563a20.214 20.214 0 0 1 7.918-1.6zm0 37.995a17.66 17.66 0 0 0 6.872-33.923 17.66 17.66 0 0 0-13.743 32.536 17.543 17.543 0 0 0 6.871 1.387z"></path>
											<path d="M29.229 42.801h4.038a1.138 1.138 0 0 1 1.138 1.138v1.162h-6.314v-1.162a1.138 1.138 0 0 1 1.138-1.138z"></path>
											<path d="m39.754 40.536 5.696-5.696a1.138 1.138 0 0 1 1.61 0l.821.822-7.306 7.305-.821-.821a1.138 1.138 0 0 1 0-1.61z"></path>
											<path d="m21.971 42.964-7.306-7.306.819-.819a1.138 1.138 0 0 1 1.612-.002l5.697 5.696a1.138 1.138 0 0 1-.003 1.612z"></path>
											<path style="fill:none" d="M0 0h54v54H0z" transform="translate(5 .044)"></path>
										</g>
									</g>
								</svg>
								<div class="txt_box">
									<strong class="process_tit">
										Step 2.<br>
										사이즈 측정
									</strong>
									<p class="process_txt">
										샘플 반지는 미국 표준
										사이즈를 기반으로 합니다.
										자주 착용하는 손가락에
										가장 편안한 사이즈를
										찾아보세요.
									</p>
								</div>
							</li>
							<li class="process_box">
								<svg xmlns="http://www.w3.org/2000/svg" data-name="MO_Conﬁrmation-result" width="64" height="64" viewBox="0 0 64 64">
									<path style="fill:none" d="M0 0h64v64H0z"></path>
									<path data-name="Icon / Regular / Action / Conﬁrmation_result" d="M21.858 56.93a27.138 27.138 0 1 1 10.53 2.126 26.952 26.952 0 0 1-10.53-2.126zm1.156-47.12a24.158 24.158 0 1 0 9.374-1.893 23.987 23.987 0 0 0-9.374 1.893zm-5.353 19.7 2.1-2.1 9.941 9.928 15.311-15.292 2.1 2.1-17.41 17.389z"></path>
								</svg>
								<div class="txt_box">
									<strong class="process_tit">
										Step 3.<br>
										사이즈 측정
									</strong>
									<p class="process_txt">
										사이즈 키트 배송 완료 후 14일 이내 사이즈를
										확정해주세요.
										삼성닷컴 마이페이지에서 원하는 사이즈를 선택할 수 있습니다.
									</p>
									<span class="process_notice">
								* <strong>사이즈 교환이 불가</strong>하오니
								24시간 이상 착용 후 정확한
								사이즈로 측정해주세요.
							</span>
								</div>
							</li>
							<li class="process_box">
								<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64">
									<path style="fill:transparent" d="M0 0h64v64H0z"></path>
									<path data-name="Icon / Regular / Shopping / In_stock" d="M43.015 59.674a12.844 12.844 0 1 1 16.894-17.209 12.7 12.7 0 0 1 1.255 5.5 12.872 12.872 0 0 1-12.857 12.86 12.665 12.665 0 0 1-5.292-1.151zm-4.431-11.707a9.722 9.722 0 0 0 19.443 0 9.833 9.833 0 0 0-.065-1.09 9.62 9.62 0 0 0-1.189-3.67 9.818 9.818 0 0 0-3.5-3.59 9.714 9.714 0 0 0-14.691 8.349zm-7.607 12.128a.629.629 0 0 1-.069-.025l-.052-.019-.128-.043-.063-.028L4.036 46.496a2.152 2.152 0 0 1-1.2-1.814V18.296a1.6 1.6 0 0 1 .055-.408.381.381 0 0 1 .028-.071v-.005c.008-.013.017-.026.017-.038a1.646 1.646 0 0 1 .112-.262l.047-.065.049-.064a1.5 1.5 0 0 1 .158-.195.959.959 0 0 1 .085-.072h.006l.043-.042.085-.074.013-.01a.179.179 0 0 1 .026-.019l.076-.037.056-.037L30.389 3.408a2.182 2.182 0 0 1 1.847-.058l.125.058 26.687 13.489.057.037.069.033a.578.578 0 0 1 .081.065.64.64 0 0 0 .049.042l.043.034a.874.874 0 0 1 .091.077 1.094 1.094 0 0 1 .108.127l.05.066.027.037.01.013a.763.763 0 0 1 .058.081 1.713 1.713 0 0 1 .114.262l.046.117a1.551 1.551 0 0 1 .049.269l.007.139v18.678a16.261 16.261 0 0 0-2.794-2.348l-.341-.221v-13.61L32.936 32.322v23.707l1.228-.62a16.383 16.383 0 0 0 1.492 2.327l.244.308-3.819 1.93-.064.028-.129.043-.023.008-.023.008a.541.541 0 0 1-.077.028 1.589 1.589 0 0 1-.393.054 1.618 1.618 0 0 1-.395-.048zM5.972 43.964l23.832 12.065V32.322L5.972 20.795zm11.93-30.733-9.966 5.034 23.437 11.332 10.186-4.923zm13.471-6.8-9.948 5.021L45.159 22.93l9.645-4.665L31.373 6.426zm10.953 41.5 2.01-1.988 2.986 3.031 4.957-5 2.006 1.986-6.967 7.03z"></path>
								</svg>
								<div class="txt_box">
									<strong class="process_tit">
										Step 4.<br>
										갤럭시 링 받기
									</strong>
									<p class="process_txt">
										가장 잘 맞는 갤럭시 링이<br>배송됩니다!
									</p>
									<span class="process_notice">
								* 링 수령 후 반품 시 고객님께
								반품 배송비가 부과됩니다.
								(배송비 차감 후 환불)
							</span>
								</div>
							</li>
						</ul>
					</div>
					<div class="order_step">
						<h4 class="step_tit">사이즈를 알고 있다면</h4>
						<ul class="process_list">
							<li class="process_box">
								<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64">
									<defs>
										<clipPath id="zevyqoh3ha">
											<path transform="translate(0 .043)" d="M0 0h64v64H0z"></path>
										</clipPath>
									</defs>
									<g transform="translate(0 -.043)" style="clip-path:url(#zevyqoh3ha)">
										<path transform="translate(0 .043)" style="fill:none" d="M0 0h64v64H0z"></path>
										<g data-name="그룹 14947">
											<path d="M53.388 64.118v-2.687H10.314v2.687H7.622v-8.729h2.692v3.357h7.269v-3.357h2.692v3.357h5.923v-3.357h2.692v3.357h5.923v-3.357h2.692v3.357h5.917v-3.357h2.7v3.357h7.269v-3.357h2.692v8.729z"></path>
											<path d="M31.259.211a26.085 26.085 0 0 1 18.45 44.542A26.092 26.092 0 1 1 21.102 2.262 25.93 25.93 0 0 1 31.259.211zm0 48.828a22.742 22.742 0 0 0 8.849-43.685 22.743 22.743 0 0 0-17.7 41.9 22.592 22.592 0 0 0 8.851 1.785z"></path>
											<path d="M31.259 5.963a20.334 20.334 0 0 1 14.383 34.723A20.34 20.34 0 1 1 23.341 7.563a20.214 20.214 0 0 1 7.918-1.6zm0 37.995a17.66 17.66 0 0 0 6.872-33.923 17.66 17.66 0 0 0-13.743 32.536 17.543 17.543 0 0 0 6.871 1.387z"></path>
											<path d="M29.229 42.801h4.038a1.138 1.138 0 0 1 1.138 1.138v1.162h-6.314v-1.162a1.138 1.138 0 0 1 1.138-1.138z"></path>
											<path d="m39.754 40.536 5.696-5.696a1.138 1.138 0 0 1 1.61 0l.821.822-7.306 7.305-.821-.821a1.138 1.138 0 0 1 0-1.61z"></path>
											<path d="m21.971 42.964-7.306-7.306.819-.819a1.138 1.138 0 0 1 1.612-.002l5.697 5.696a1.138 1.138 0 0 1-.003 1.612z"></path>
											<path style="fill:none" d="M0 0h54v54H0z" transform="translate(5 .044)"></path>
										</g>
									</g>
								</svg>
								<div class="txt_box">
									<strong class="process_tit">
										Step 1.<br>
										사이즈 선택하기
									</strong>
									<p class="process_txt">
										현재 링 사이즈를 선택하고 주문하세요.
									</p>
								</div>
							</li>
							<li class="process_box">
								<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64">
									<path style="fill:transparent" d="M0 0h64v64H0z"></path>
									<path data-name="Icon / Regular / Shopping / In_stock" d="M43.015 59.674a12.844 12.844 0 1 1 16.894-17.209 12.7 12.7 0 0 1 1.255 5.5 12.872 12.872 0 0 1-12.857 12.86 12.665 12.665 0 0 1-5.292-1.151zm-4.431-11.707a9.722 9.722 0 0 0 19.443 0 9.833 9.833 0 0 0-.065-1.09 9.62 9.62 0 0 0-1.189-3.67 9.818 9.818 0 0 0-3.5-3.59 9.714 9.714 0 0 0-14.691 8.349zm-7.607 12.128a.629.629 0 0 1-.069-.025l-.052-.019-.128-.043-.063-.028L4.036 46.496a2.152 2.152 0 0 1-1.2-1.814V18.296a1.6 1.6 0 0 1 .055-.408.381.381 0 0 1 .028-.071v-.005c.008-.013.017-.026.017-.038a1.646 1.646 0 0 1 .112-.262l.047-.065.049-.064a1.5 1.5 0 0 1 .158-.195.959.959 0 0 1 .085-.072h.006l.043-.042.085-.074.013-.01a.179.179 0 0 1 .026-.019l.076-.037.056-.037L30.389 3.408a2.182 2.182 0 0 1 1.847-.058l.125.058 26.687 13.489.057.037.069.033a.578.578 0 0 1 .081.065.64.64 0 0 0 .049.042l.043.034a.874.874 0 0 1 .091.077 1.094 1.094 0 0 1 .108.127l.05.066.027.037.01.013a.763.763 0 0 1 .058.081 1.713 1.713 0 0 1 .114.262l.046.117a1.551 1.551 0 0 1 .049.269l.007.139v18.678a16.261 16.261 0 0 0-2.794-2.348l-.341-.221v-13.61L32.936 32.322v23.707l1.228-.62a16.383 16.383 0 0 0 1.492 2.327l.244.308-3.819 1.93-.064.028-.129.043-.023.008-.023.008a.541.541 0 0 1-.077.028 1.589 1.589 0 0 1-.393.054 1.618 1.618 0 0 1-.395-.048zM5.972 43.964l23.832 12.065V32.322L5.972 20.795zm11.93-30.733-9.966 5.034 23.437 11.332 10.186-4.923zm13.471-6.8-9.948 5.021L45.159 22.93l9.645-4.665L31.373 6.426zm10.953 41.5 2.01-1.988 2.986 3.031 4.957-5 2.006 1.986-6.967 7.03z"></path>
								</svg>
								<div class="txt_box">
									<strong class="process_tit">
										Step 2.<br>
										갤럭시 링 받기
									</strong>
									<p class="process_txt">
										갤럭시 링을 바로 받아보세요.
									</p>
								</div>
							</li>
						</ul>
					</div>
				</div>
				<div class="tab-content" id="tabContent-sizeguide2" role="tabpanel" style="display: none;">
					<!-- KDP-48636 MX제품 Buying Configurator - GalaxyringSizeguide : DOM 가져옴 -->
					<script>
						// 갤럭시 링 비디오
						let vid = document.getElementById("guideVideo");
						function playVid(type) {
							if (type === 'play') {
								vid.play();
								$('.btn_video_play').hide();
							} else if (type === 'pause') {
								vid.pause();
								$('.btn_video_play').show();
							}
						}
					</script>
					<div class="process_video">
						<video id="guideVideo" onclick="playVid('pause')" poster="//images.samsung.com/kdp/cms_contents/361801/1ea304d9-2553-45e0-8760-c31bc0e64cd9.jpg?$ORIGIN_JPG$" class="target lozad" data-loaded="true"><source data-src="//images.samsung.com/kdp/cms_contents/358180/b763b6c0-f331-4344-85cb-465c0e377c86.mp4" type="video/mp4" src="//images.samsung.com/kdp/cms_contents/358180/b763b6c0-f331-4344-85cb-465c0e377c86.mp4"></video>
						<button onclick="playVid('play')" class="btn_video_play" type="button">
							<svg xmlns="http://www.w3.org/2000/svg" data-name="Button / Common / 6. Play / Normal" width="108" height="108" viewBox="0 0 108 108">
								<g data-name="2_Component-/-Button(CTA)-/-18">
									<path style="fill:none" d="M0 0h108v108H0z"></path>
									<circle cx="51.124" cy="51.124" r="51.124" transform="translate(2.809 2.809)" style="fill:rgba(255,255,255,.95);stroke:rgba(151,151,151,.4);stroke-width:3px"></circle>
									<g>
										<path data-name="Icon-/-Bold-/-Media-/-Play" d="M11.534 4.075A3.611 3.611 0 0 1 15 4.32l.144.094 34.312 23.51a3.689 3.689 0 0 1 .138 6.048l-.138.1-34.311 23.51a3.749 3.749 0 0 1-2.118.671 3.521 3.521 0 0 1-1.644-.407 3.606 3.606 0 0 1-1.9-3.088V7.4a3.626 3.626 0 0 1 1.768-3.175l.142-.079z" transform="translate(28.137 22.935)" style="fill:#757575"></path>
									</g>
								</g>
							</svg>
						</button>
					</div>
					<div class="use_guide">
						<h4>나에게 맞는 갤럭시 반지 사이즈를 선택하는 것은 간단합니다.</h4>
						<p>
							예시 내용입니다. 반지를 구매하실 때 “프리 사이징 키트 주문” 옵션을 선택하세요. 본인의 반지 사이즈를 알고
							있다면 사이즈를 선택하고 주문하기만 하면 일반적인 공정으로 제품을 받게 됩니다.
							<br><br>
							예시 내용입니다. 반지를 구매하실 때 “프리 사이징 키트 주문” 옵션을 선택하세요. 본인의 반지 사이즈를 알고
							있다면 사이즈를 선택하고 주문하기만 하면 일반적인 공정으로 제품을 받게 됩니다.
						</p>
						<span>* <em>제품 수령 후 사이즈 교환이 불가</em>하오니 24시간 이상 착용 후 정확한 사이즈로 측정해주세요</span>
					</div>
				</div>

				<button type="button" class="pop-close" data-focus-next="layerGalaxyringSizeguide">팝업닫기</button>
			</div>
			<!-- e : KDP-54271 갤럭시링 사이즈 가이드 -->

		</div>
<!-- s : 210402 패밀리넷 동일 품목 다량 구매 관련 안내 -->
<div class="layer-pop layer-normal component-head popupLayer104" id="fnMultiPurchaseGuidance" tabindex="0" data-popup-layer="fnMultiPurchaseGuidance" data-focus="fnMultiPurchaseGuidance">
	<div class="layer-header">
		<h2>패밀리넷 동일 품목 다량 구매 관련 안내</h2>
			</div>

	<div class="layer-content">
		<div class="privacy-terms">
			<div class="terms-box">
				<div class="point" id="fnMultiPurchasePrivacyTermsPoint">
					귀하는 동일 품목을
					<strong>3대째(4대째)</strong>
					구매하고 계십니다.
				</div>
				<p class="mt20">
							패밀리넷은 제품의 사외 유출 및 부정 사용 예방을 위해 동일품목 다량 구매 시 본 서약 절차를 진행하고 있습니다.<br><br>
							B2B 용도, 재판매 등 패밀리넷 운영 취지에 맞지 않는 구매인 경우 인사상 징계 조치 될 수 있음을 안내 드립니다.
						</p>
					</div>
		</div>
		<div class="q-txt">본인은 상기 내용에 동의합니다.
			<strong class="red-color">(필수)</strong>
		</div>
		<div class="flex-btw-c mt20">
			<label for="inp01" class="lb-line">
				본인입력
				<span class="ico-required">*<span>필수입력</span></span>
			</label>
			<div class="inp-wrap">
				<input type="text" id="agreeInput" class="inp-line" placeholder="본인은 상기 내용에 동의합니다.">
				<!-- case : 에러 시 클래스 block 추가 -->
				<div class="error-msg" id="agreeInputErrorMsg">
					<p>본인입력 내용을 입력 해주세요.</p>
				</div>
			</div>
		</div>
		<div class="btn-box double">
			<!-- case : 버튼 두개시 클래스 double 추가 -->
			<button type="button" class="btn btn-d btn-type1" title="동의 안함" id="multiPurchaseCancelBtn">동의 안함</button>
			<button type="button" class="btn btn-d btn-type2" title="동의함" id="multiPurchaseAgreeBtn">동의함</button>
		</div>

	</div>
	<button type="button" class="pop-close" id="multiPurchasePopupClose" data-focus-next="fnMultiPurchaseGuidance">팝업닫기</button>
</div>
<!-- e : 210402 패밀리넷 동일 품목 다량 구매 관련 안내 -->

<!-- s : 210402 패밀리넷 품목별 초과 구매 관련 신청 안내 -->
<div class="layer-pop layer-normal component-head" id="fnOverpurchaseApplyGuidance" tabindex="0" data-popup-layer="fnOverpurchaseApplyGuidance" data-focus="fnOverpurchaseApplyGuidance">
	<div class="layer-header">
		<h2>패밀리넷 품목별 초과 구매 관련 신청 안내</h2>
	</div>

	<div class="layer-content">
		<div class="privacy-terms">
			<div class="terms-box">
				<div class="point">귀하는 품목별 구매 가능 수량을 초과하여 구매하고 계십니다.</div><br>
				<div class="txt-box"> 패밀리넷은 임직원들이 저렴한 가격으로 자사 제품을 구매할 수 있도록 마련되었지만,
					일부 직원이 같은 품목의 제품을 다수 구매하고 재판매 했던 사례가 있어
					품목별 구매 수량을 제한하여 운영 중입니다.<br><br>
					그러나, 지정 수량을 초과하여 구매가 필요한 경우에는 부서장 승인 후 구매가 가능하오니 아래 &#39;바로가기&#39; 를 클릭하셔서 품의를 진행해주시기 바랍니다.<br><br>
					※ 실제 지정 수량까지 구매하신 경우에만 초과 구매 추가신청이 가능합니다.
				</div>
			</div>
		</div>
		<p class="q-txt">품목별 초과 구매 신청하시겠습니까?</p>
		<div class="btn-box double">
			<!-- 버튼 두개시 클래스 double 추가 -->
			<button type="button" class="btn btn-d btn-type1" title="취소" id="overpurchaseApplyCancelBtn">취소</button>
			<button type="button" class="btn btn-d btn-type2" title="바로가기" id="overpurchaseApplyDirectBtn">바로가기</button>
		</div>
	</div>
	<button type="button" class="pop-close" id="fnOverpurchasePopupClose" data-focus-next="fnOverpurchaseApplyGuidance">팝업닫기</button>
</div>
<!-- e : 210402 패밀리넷 품목별 초과 구매 관련 신청 안내 -->

<!-- s : 혼수/이사 바로 구매 -->
<div class="layer-pop layer-default" id="popupFamilyWeddingOrder" tabindex="0" data-popup-layer="popupFamilyWeddingOrder" data-focus="popupFamilyWeddingOrder"></div>
<div class="layer-pop layer-default" id="popupFamilyWeddingOrderReal" tabindex="0" data-popup-layer="popupFamilyWeddingOrder" data-focus="popupFamilyWeddingOrder">
	<div class="layer-header blind">
		<h2>혼수/이사 장바구니 일반 구매 주문</h2>
	</div>
	<div class="layer-content">
		<p>현재 동일 카테고리의 상품이 혼수/이사 장바구니에 담겨 있기 때문에 본 상품은 일반 구매 주문으로 진행됩니다.</p>
		<p>구매를 진행하시겠습니까?</p>
		<p>(혼수/이사 장바구니의 기존 상품 삭제 후, 혼수/이사 적용하여 구매 가능합니다.)</p>
		<div class="btn-box double">
			<!-- 버튼 두개시 클래스 double 추가 -->
			<a href="javascript:void(0)" class="btn btn-d btn-type1">확인</a>
			<a href="javascript:void(0)" class="btn btn-d btn-type2">취소</a>
		</div>
	</div>
	<button type="button" class="pop-close" data-focus-next="popupFamilyWeddingOrder">팝업닫기</button>
</div>
<!-- e : 혼수/이사 바로 구매 -->

<!-- s : 혼수/이사 장바구니 -->
<div class="layer-pop layer-default" id="popupFamilyWeddingCart" tabindex="0" data-popup-layer="popupFamilyWeddingCart" data-focus="popupFamilyWeddingCart"></div>
<div class="layer-pop layer-default" id="popupFamilyWeddingCartReal" tabindex="0" data-popup-layer="popupFamilyWeddingCart" data-focus="popupFamilyWeddingCart">
	<div class="layer-header blind">
		<h2>혼수/이사 장바구니 추가</h2>
	</div>
	<div class="layer-content">
		<p>현재 동일 카테고리의 상품이 혼수/이사 장바구니에 담겨 있기 때문에 본 상품은 일반장바구니에 이동됩니다.</p>
		<p>해당상품을 장바구니에 추가하시겠습니까?</p>
		<p>(혼수/이사 장바구니의 기존 상품 삭제 후, 혼수/이사 장바구니 담기가 가능합니다.)</p>
		<div class="btn-box double">
			<!-- 버튼 두개시 클래스 double 추가 -->
			<a href="javascript:void(0)" class="btn btn-d btn-type1">담기</a>
			<a href="javascript:void(0)" class="btn btn-d btn-type2">이동</a>
		</div>
	</div>
	<button type="button" class="pop-close" data-focus-next="popupFamilyWeddingCart">팝업닫기</button>
</div>
<div class="layer-pop layer-normal layer-agreement"
	 id="popupBannerPopup01" tabindex="0"
	 data-popup-layer="popupBannerPopup01"
	 data-focus="popupBannerPopup01">
	<div class="layer-header blind">
		<h2></h2>
	</div>
	<div class="layer-content">
	</div>
	<button type="button" class="pop-close"
			data-focus-next="popupOrderDeliveryAgrm07">팝업닫기</button>
</div>
<!-- e : 혼수/이사 장바구니 -->

<!-- EPP몰 품목별 초과 구매 관련 안내 -->
<div class="layer-pop layer-normal component-head" id="fnOverpurchaseGuidanceByEppmall" tabindex="0" data-popup-layer="fnOverpurchaseGuidanceByEppmall" data-focus="fnOverpurchaseGuidanceByEppmall">
	<div class="layer-header">
		<h2>패밀리몰 품목별 초과 구매 관련 안내</h2>
			</div>
	<div class="layer-content">
		<div class="privacy-terms">
			<div class="point">귀하는 품목별 구매 가능 수량을 초과하여 구매하고 계십니다.</div><br>
			<div class="txt-box">
						패밀리몰은 임직원들이 저렴한 가격으로 자사 제품을 구매할 수 있도록 마련되었지만, 일부 직원이 같은 품목의 제품을 다수 구매하고 재판매 했던 사례가 있어 품목별 구매 수량을 제한하여 운영 중입니다.
					</div>
				</div>
	</div>
	<button type="button" class="pop-close" id="fnOverpurchasePopupClose" data-focus-next="fnOverpurchaseGuidanceByEppmall">팝업닫기</button>
</div>

<!-- EPP몰 품목별 초과 구매 결재 관련 안내 -->
<!-- 230404 기준 로지텍몰만 사용 -->
<div class="layer-pop layer-normal component-head" id="fnOverpurchaseApplyGuidanceByEppmall" tabindex="0" data-popup-layer="fnOverpurchaseApplyGuidanceByEppmall" data-focus="fnOverpurchaseApplyGuidanceByEppmall">
	<div class="layer-header">
		<h2>패밀리몰 품목별 초과 구매 관련 신청 안내</h2>
			</div>
	<div class="layer-content">
		<div class="privacy-terms">
			<div class="terms-box">
				<div class="point">귀하는 품목별 구매 가능 수량을 초과하여 구매하고 계십니다.</div><br>
				<div class="txt-box">
					<div class="txt-box">
								패밀리몰은 임직원들이 저렴한 가격으로 자사 제품을 구매할 수 있도록 마련되었지만, 일부 직원이 같은 품목의 제품을 다수 구매하고 재판매 했던 사례가 있어 품목별 구매 수량을 제한하여 운영 중입니다.
							</div>
						<br><br>
					그러나, 지정 수량을 초과하여 구매가 필요한 경우에는 부서장 승인 후 구매가 가능하오니 아래 &#39;바로가기&#39; 를 클릭하셔서 품의를 진행해주시기 바랍니다.<br><br>
					※ 실제 지정 수량까지 구매하신 경우에만 초과 구매 추가신청이 가능합니다.
				</div>
			</div>
		</div>
		<p class="q-txt">품목별 초과 구매 신청하시겠습니까?</p>
		<div class="btn-box double">
			<!-- 버튼 두개시 클래스 double 추가 -->
			<button type="button" class="btn btn-d btn-type1" title="취소" id="overpurchaseApplyByEppmallCancelBtn">취소</button>
			<button type="button" class="btn btn-d btn-type2" title="바로가기" id="overpurchaseApplyByEppmallDirectBtn">바로가기</button>
		</div>
	</div>
	<button type="button" class="pop-close" id="fnOverpurchasePopupClose" data-focus-next="fnOverpurchaseApplyGuidanceByEppmall">팝업닫기</button>
</div>

<!-- s : 비교하기 b2c, fnet, fnet 디플(고도화) -->
<!-- <script src="/sec/static/_script/goods/goods-detail-view.js"></script> -->

<!-- s : 비교하기 카드 -->
<div id="pfpd-compare" class="pfpd-compare if2item" style="display:none">
	<div class="compare-innerWrap">
		<div class="toggle-toast">
			<a href="javascript:;" class="arrow-i" onclick="openCloseArrow()"><span class="blind">비교하기 펼치기</span></a>
		</div>
	    <input type="hidden" id="compDispClsfEnNm" value="smartphones">
    	<input type="hidden" id="compDispClsfNm" value="">
		<div class="compare-inner flex-box">
			<div class="compare-catagory">
				<div class="box-droplist" id="compareDiv">

				</div>
			</div>
			
			<div class="compare-contentGroup">
				<div class="compare-content">
					<div class="slider-prd-compare" tabindex="-1">
						<div id="pfpdSlideCompare" class="">
						
						</div>
					</div>
				</div>
				
				<div class="compare-btns">
					<ul>
						<li class="reset-i"><button class="btn-underline btn-reset"
								onclick="btnReset(this)" data-omni="compare:reset" value="">비우기</button></li>
						<li><button class="btn btn-d btn-type2 btn-compare" 
								id="compareBtn"
								data-popup-target="popupPrdCompare" 
								value=""
								onclick="openCompareWindow(this)" data-omni="compare:pop-up">비교하기</button></li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- e : 비교하기 카드 -->

<!-- s : 제품을 선택하세요(alert) -->
<div class="layer-pop layer-default alert" id="choicePrdAlert" data-popup-layer="choicePrdAlert" data-focus="choicePrdAlert">
	<div class="layer-header blind"><h2> 제품을 선택하세요.</h2></div>
	<div class="layer-content" tabindex="0">
		<p>제품을 선택하세요.</p>
		<div class="btn-box">
			<a href="javascript:void(0)" class="btn btn-d btn-type2">확인</a>
		</div>
	</div>
</div>
<!-- e : 제품을 선택하세요(alert) -->

<!-- s : 제품 추가 팝업 -->
<div class="layer-pop layer-normal chooseComparePrd" id="chooseComparePrd" data-popup-layer="chooseComparePrd" data-focus="chooseComparePrd">
	<div class="layer-header-compare">
		<span>비교할 제품을 선택하세요</span>
	</div>
	<div class="layer-content-compare" tabindex="0">
		<section class="box-content-rounded product" id="selectProductList">
		
		</section>
	</div>
	<div class="btn-box">
		<button type="button" class="btn btn-d btn-type1" onclick="compareSelect()">비교하기</button> <!-- 제품 selected 되면 btn-type2 -->
	</div>
	<button type="button" class="pop-close" data-focus-next="chooseComparePrd">팝업닫기</button>
</div>
<!-- e : 제품 추가 팝업 -->

<!-- s : 비교하기 팝업 -->
<div class="layer-pop layer-normal popupPrdCompare" id="popupPrdCompare" data-popup-layer="popupPrdCompare" data-focus="popupPrdCompare" style="display:none">
	<div class="layer-header-compare">
		<span>비교하기</span>
		<div class="selectBox-right">
			<div class="box-droplist" id="compareDiv">

			</div>
		</div>
	</div>
	<div class="layer-difference-compare">
		<div class="toggleCheck only-toggle">
		<input type="checkbox" id="toggle-check-on" checked="" role="switch">
			 <label for="toggle-check-on">차이점만 비교하기</label>
			 <span class="labeltxt on" aria-hidden="true" role="none presentation">차이점만 비교하기</span>
			 <span class="labeltxt off" role="none presentation">차이점만 비교하기</span>
		</div>
	</div>
	<div class="layer-filter-compare">

	</div>

	<div class="layer-content-compare-wrap">
		<div class="layer-content-compare" tabindex="0">
			<section class="box-content-rounded products">
				<div class="part1">
					
				</div>
			</section>
			<section class="box-content-rounded specDetails">
				<div class="part2">
					
				</div>
			</section>	
		</div>
	</div>
	<button type="button" class="pop-close" data-focus-next="popupPrdCompare">팝업닫기</button>
</div>
<!-- e : 비교하기 팝업-->

<!-- s : 비교하기 mobile > select 221110 -->
<div class="layer-pop moSelectPop" id="popupMobileSelect" data-popup-layer="popupMobileSelect" data-focus="popupMobileSelect">
	<div class="layer-header blind"> <h2>다른 카테고리 비교하기 선택</h2></div>
	<section>
		<ul id="moPopUp">
			<!-- <li class="select-title">다른 카테고리 제품 비교하기</li> -->
		</ul>
	</section>
	<button type="button" class="pop-close" data-focus-next="popupMobileSelect">팝업닫기</button>
</div>
<!-- e : 비교하기 mobile > select 221110 -->

<script type="text/javascript">
	var pfpdCompare = document.querySelector('.pfpd-compare');
	var toggleToast = document.querySelector('.pfpd-compare .toggle-toast .arrow-i'); /* 221124 : pf랑 통일 */
	var stId = 1;
	
	var stStorageNm = 	{	1 : '/sec/',
							2 : '/sec/'+'fnet/',
							3 : '/sec/'+'fnet_sol/',
							200 : '/sec/'+'b2b2c_cm/',
							471 : '/sec/'+'b2b2c_fnet_secsales/'
						};
	
	/* 로컬 스토리지 key prefix 생성 */
	var storageNmPrefix = stStorageNm[stId] + 'compare/';
	
	/* 비교하기 만료일자 스토리지 생성 */
	var expireDateDataStorageNm = storageNmPrefix +'expireDate';
	/* 비교하기 만료일자 스토리지 생성 */
	var expireDateData = JSON.parse(localStorage.getItem(expireDateDataStorageNm)) ?? {};
	
	/* 비교하기 스토리지 이름 */
	var compareDataStorageNm;
	/* 비교하기 스토리지 */
	var compareData;
	
	/* 카테고리 스토리지 이름 */
	var categoryDataStorageNm = storageNmPrefix + 'category';
	/* 카테고리 스토리지 */
	var categoryData = JSON.parse(localStorage.getItem(categoryDataStorageNm)) ?? {};
	
	/* goodsId 스토리지 이름 */
	var goodsIdDataStorageNm = storageNmPrefix + 'goodsId';
	/* goodsId 스토리지 */
	var goodsIdData = JSON.parse(localStorage.getItem(goodsIdDataStorageNm)) ?? {};
	
	/* 마지막 담은 상품 스토리지 이름 */
	var lastCompDataStorageNm = storageNmPrefix + 'lastComp';
	/* 마지막 담은 상품 스토리지 */
	var lastCompData = JSON.parse(localStorage.getItem(lastCompDataStorageNm)) ?? {};
	
	var compDispClsfEnNm;
	
	/* 비교하기 팝업 버튼 이벤트 */
	function openCompareWindow(self) {
		/* 차이점 비활성화 */
		// $('#compareBtn').val($('.prd').attr('value'));
		// $('.btn-reset').val($('.prd').attr('value'));
		setCompInfoStrg(compDispClsfEnNm,false,true);
	}
	
	/* 비교하기 제품 삭제 */
	function deleteCompare(self, isPopUp) {
		var val = $(self).val();
		var lan;
		// var compDispClsfEnNm = '';
		// if($('.btn-reset').val() == ''){
		// 	$('#compareBtn').val($('.prd.compare').attr('value'));
		// 	$('.btn-reset').val($('.prd.compare').attr('value'));
		// }
		// compDispClsfEnNm = $('.btn-reset').val();
		
		/* 1. 해당 카테고리 내 goods 삭제 */
		// compareDataStorageNm = storageNmPrefix + compDispClsfEnNm;
		// compareData = JSON.parse(localStorage.getItem(compareDataStorageNm)) ?? {};
		lan = Object.keys(compareData).length;
		
		if (lan == 1) {/* 해당 카테고리의 비교하기 1개인 경우 로컬 스토리지 비우고 팝업/카드 닫기 */
			delete categoryData[compDispClsfEnNm];
			localStorage.setItem(categoryDataStorageNm, JSON.stringify(categoryData));

			openCloseArrow();
			$('#chooseComparePrd').find('.pop-close').click();
			$('#popupPrdCompare').find('.pop-close').click();
		}
		delete compareData[val];
		localStorage.setItem(compareDataStorageNm, JSON.stringify(compareData));

		/* 2. goodsId 로컬 스토리지에서 삭제 */
		delete goodsIdData[val];
		localStorage.setItem(goodsIdDataStorageNm, JSON.stringify(goodsIdData));

		/* 3. 마지막 비교하기 상품 삭제 */
		delete lastCompData[val];
		localStorage.setItem(lastCompDataStorageNm, JSON.stringify(lastCompData));
		
		/* 4. 비교하기 데이터 없으면 slider 숨김 */
		if(Object.keys(goodsIdData).length == 0){
			$(".pfpd-compare").css("display","none");
			$(".pfpd-compare").addClass("empty");
			$(".itm-total-bottom").removeClass("hasCompare");
		}
		
		/* 5. 해당 카테고리 상품은 없지만, 타 카테고리 상품이 비교하기에 담겨있는 경우 */
		if(lan == 1 && Object.keys(goodsIdData).length != 0){
			/* goodsIdStorage의 가장 앞에 있는 상품의 카테고리로 재설정 */
			updateCtgInfo(Object.values(goodsIdData)[0]);
			// compareDataStorageNm = storageNmPrefix+Object.values(goodsIdData)[0];
			// compareData = JSON.parse(localStorage.getItem(compareDataStorageNm)) ?? {};
			// localStorage.setItem(compareDataStorageNm, JSON.stringify(compareData));
			
			// $('.btn-reset').val(Object.values(goodsIdData)[0]);
			// $('#compareBtn').val(Object.values(goodsIdData)[0]);
			setCompInfoStrg(compDispClsfEnNm, true, false);
			updateBtnNum(Object.values(compareData).length);
		}else{
			setCompInfoStrg(compDispClsfEnNm, true, isPopUp);
			updateBtnNum(Object.values(compareData).length);
		}
		categoryBtn();
		disabledCompareButton();
		setSpeclongestBox();
	}
	
	/* PF페이지 내 +비교하기 버튼 활성화/비활성화 처리(PF) */
	function disabledCompareButton() {
		$('.link-compare-i').each(function(i) {
			if ($(this).is('.disabled')) { 
				if (!isCompareDataStorageGoods($(this).data('goodsId'))) { 
					$(this).removeClass('disabled'); 
				}
			} 
			else {
				if (isCompareDataStorageGoods($(this).data('goodsId'))) {
					$(this).addClass('disabled');
				}
			}
		});
	}
	
	<!-- 비교하기 카드(빈상자) 템플릿 -->
	function htmlCompareCardEmptyTmpl(){
        var html = '';
		html +=	'<div class="prd" id="">';
		html +=		'<div class="box compare-emptyBox">';
		html +=			'<a href="#none" role="button" title="비교하기 제품 선택 팝업 열기" class="" onclick="openCompareAddPop(this)">';
		html +=				'<div class="prd-info">';
		html +=					'<span class="plus-i"></span>';
		html +=					'<span class="notice">비교하고 싶은 제품 최대<br class="mobile"> 4개까지 선택 가능해요!</span>';
		html +=				'</div>';
		html +=			'</a>';
		html +=		'</div>';
		html +=	'</div>';
		
		return html;
	}
	
	<!-- 비교하기 카드 템플릿 -->
	function htmlCompareCardTmpl(compData){
		var html = '';
		if('1' == compData.pfGoods.stId || '200' == compData.pfGoods.stId || '471' == compData.pfGoods.stId){
			html += '<div class="prd" value="'+compData.goodsDetail.compDispClsfEnNm+'">';
		}else if('2' == compData.pfGoods.stId || '3' == compData.pfGoods.stId) {
            html += '<div class="prd" value="' + compData.goodsDetail.disp2ClsfEnNm + '">';
        }
		
		html +=			'<div class="box">';
		html +=				'<div class="prd-left">';
		html +=					'<a href="'+compData.pfGoods.stContextPath+compData.summary.goodsDetailUrl+'" onclick="_netFunnel_Action_PF(\''+compData.pfGoods.stGrp+'\', \''+compData.pfGoods.stContextPath+compData.pfGoods.goodsDetailUrl+'\');return false;" class="prd-img">';
		html +=						'<img src="'+compData.summary.imgPath+'?$PG_PRD_CARD_PNG$" alt="'+compData.goodsDetail.goodsNm+'">';
		html +=					'</a>';
		html +=					'<div class="prd-review">';
		if('Y' == compData.pfGoods.goodsAdvCmntStYn){
            html += 				'<a class="link-review" target="_blank" href="'+compData.pfGoods.stContextPath+compData.summary.goodsDetailUrl+'?focus=review" title="상품평점" tabindex="0">'+compData.goodsDetail.commentAvg+'('+compData.goodsDetail.commentCnt+')</a>';
        }else if('200' == compData.pfGoods.stId || '471' == compData.pfGoods.stId){
        	 html += 				'<a class="link-review" target="_blank" href="'+compData.pfGoods.stContextPath+compData.summary.goodsDetailUrl+'?focus=review" title="상품평점" tabindex="0">'+compData.goodsDetail.commentAvg+'('+compData.goodsDetail.commentCnt+')</a>';
        }else{
			html += 				'<a class="" target="_blank" href="javascript:void(0);" title="상품평점">&nbsp;</a>';
        }
        html += 				'</div>';
		html += 			'</div>';
		html +=				'<div class="prd-info">';
		html +=					'<strong class="name">'+compData.goodsDetail.goodsNm+'</strong>';
		html +=					'<span class="serial">'+compData.goodsDetail.mdlCode+'</span>';
		html +=					'<span class="price" '+ (compData.summary.price == '0' ? 'style="display:none"' : '')+'>';
		
		if(compData.summary.price != 'undefined' && compData.summary.price != null && compData.summary.price.toString().length >= 1){
			if('12' == compData.pfGoods.saleStatCd || '13' == compData.pfGoods.saleStatCd || '14' == compData.pfGoods.saleStatCd){
                if('Y' == compData.pfGoods.cpUseYn && '1' == compData.pfGoods.stId){
                	// 앱 쿠폰 적용 시
					if (compData.pfGoods.secApp == 'true' && compData.pfGoods.goodsDetailVo.cpAllDcAmt > 0){
						html +=		'<span>쿠폰 적용 예상가</span>';
						html +=			'<em class="num">'+fnComma(compData.pfGoods.salePrice - compData.pfGoods.goodsDetailVo.cpAllDcAmt)+' 원</em>';
					}
					// 쿠폰 적용 예상가(웹)
					else if ('false' == compData.pfGoods.secApp && compData.pfGoods.goodsDetailVo.webCpAllDcAmt > 0){
						html +=		'<span>쿠폰 적용 예상가</span>';
						html +=			'<em class="num">'+fnComma(compData.pfGoods.salePrice - compData.pfGoods.goodsDetailVo.webCpAllDcAmt)+' 원</em>';
					}
					else{
						html +=		'<span>'+compData.summary.priceNm+'</span><em class="num">'+fnComma(compData.summary.price)+' 원</em>';
					}
                }
                else{
                		html +=		'<span>'+compData.summary.priceNm+'</span><em class="num">'+fnComma(compData.summary.price)+' 원</em>';
                }
            }else{
            	html +=				'<span></span>';
            }
		}
		html +=					'</span>';
		html +=				'</div>';
		html +=				'<button type="button" class="prd-delete prd-delete-mo" onclick="deleteCompare(this,false)" value="'+compData.goodsDetail.goodsId+'" data-goods-nm="'+compData.goodsDetail.goodsNm+'" data-mdl-code="'+compData.goodsDetail.mdlCode+'" data-omni="compare:delete"><span class="blind">삭제</span></button>'
		html +=			'</div>';
		html +=		'</div>';
		return html;
	}
	
	<!-- 비교하기 팝업 템플릿 -->
	function htmlComparePopUpTmpl(compData){
		var html = '';
		html += '<div class="prdBox">';
		html += 	'<div class="prd prdDetail" id="compareItem' + compData.goodsDetail.goodsId + '">';
		html +=			'<div class="box">';
		html +=				'<div class="prd-img">';
		html +=					'<a href="'+compData.pfGoods.stContextPath+compData.summary.goodsDetailUrl+'" onclick="_netFunnel_Action_PF(\''+compData.pfGoods.stGrp+'\', \''+compData.pfGoods.stContextPath+compData.pfGoods.goodsDetailUrl+'\');return false;" tabindex="0">';
		html +=						'<img src="'+compData.summary.imgPath+'?$PG_PRD_CARD_PNG$" alt="'+compData.goodsDetail.goodsNm+'">';
		html +=					'</a>';
		html +=					'<button type="button" class="btn-del" onclick="deleteCompare(this,true)" value="'+compData.goodsDetail.goodsId+'" data-goods-nm="'+compData.goodsDetail.goodsNm+'" data-mdl-code="'+compData.goodsDetail.mdlCode+'" tabindex="0">삭제</button>';
		html +=				'</div>';
		html +=				'<div class="prd-info">';
		html +=					'<div class="name-box">';
		html +=						'<strong class="name">'+compData.goodsDetail.goodsNm+'</strong>';
		html +=					'</div>';
		html +=					'<span class="serial">'+compData.goodsDetail.mdlCode+'</span>';
		html +=				'</div>';
		html +=		 		'<div class="prd-review">';
		if('Y' == compData.pfGoods.goodsAdvCmntStYn){
            html += 			'<a class="link-review" target="_blank" href="'+compData.pfGoods.stContextPath+compData.summary.goodsDetailUrl+'?focus=review" title="상품평점" tabindex="0">'+compData.goodsDetail.commentAvg+'('+compData.goodsDetail.commentCnt+')</a>';
        }else if('200' == compData.pfGoods.stId || '471' == compData.pfGoods.stId){
        	html += 			'<a class="link-review" target="_blank" href="'+compData.pfGoods.stContextPath+compData.summary.goodsDetailUrl+'?focus=review" title="상품평점" tabindex="0">'+compData.goodsDetail.commentAvg+'('+compData.goodsDetail.commentCnt+')</a>';
        }else{
			html += 			'<a class="" target="_blank" href="javascript:void(0);" title="상품평점">&nbsp;</a>';
        }
        html += 			'</div>';
        
        // 가격 / 쿠폰적용 예상가 / 적립 포인트 영역
        if('12' == compData.pfGoods.saleStatCd || '13' == compData.pfGoods.saleStatCd || '14' == compData.pfGoods.saleStatCd){
        	// 가격 영역
            html +=			'<div class="prd-price">';
            html +=				'<div class="price-detail type-list">';
            html +=		 			'<ul class="list-price">';
            if('1' == compData.pfGoods.stId){
                // 기준가
                if(('00' == compData.pfGoods.priceStr1 && compData.pfGoods.priceStr2 != compData.pfGoods.priceStr3) || '00' !== compData.pfGoods.priceStr1){
    				html +=				'<li><span class="tit">기준가</span><span class="sale">'+fnComma(compData.pfGoods.priceStr2)+' 원</span></li>';
                }
                // 회원가
                if(compData.pfGoods.priceStr1 === '00' || compData.pfGoods.priceStr1 !== '00'){
                    html += 			'<li><span class="tit">회원가</span><span class="sale">'+fnComma(compData.pfGoods.priceStr3)+' 원</span></li>';
                }
                // 혜택가
                if('00' !== compData.pfGoods.priceStr1 && 'Y' !== compData.pfGoods.outletFlgYn){
					html +=				'<li><span class="tit">혜택가</span><span class="sale">'+fnComma(compData.pfGoods.priceStr4)+' 원</span></li>';
                }
                // 아울렛 특가
                if('00' !== compData.pfGoods.priceStr1 && 'Y' === compData.pfGoods.outletFlgYn){
                    html += 			'<li><span class="tit">아울렛 특가</span><span class="sale">'+fnComma(compData.pfGoods.priceStr4)+' 원</span></li>';
                }
            }
            else if ('2' == compData.pfGoods.stId || '3' == compData.pfGoods.stId){
                // 출고가
                html += 				'<li><span class="tit">출고가</span><span class="sale">'+fnComma(compData.pfGoods.priceStr2)+' 원</span></li>';
                // 기준판매가
                html +=					'<li><span class="tit">기준판매가</span><span class="sale">'+fnComma(compData.pfGoods.priceStr3)+' 원</span></li>';
                // 특별판매가
                if('' !== compData.pfGoods.priceStr4 && compData.pfGoods.priceStr3 !== compData.pfGoods.priceStr4){
                    html +=				'<li><span class="tit">특별판매가</span><span class="sale">'+fnComma(compData.pfGoods.priceStr4)+' 원</span></li>';
                }
                // 회사 지원금
                if(compData.pfGoods.stGbCd === '30'){
                	html +=				'<li><span class="tit">회사 지원금</span><span class="sale">'+fnComma(compData.pfGoods.priceStr5)+' 원</span></li>';    
                }
                // 임직원가
                html +=					'<li><span class="tit">임직원가</span><span class="sale">'+fnComma(compData.pfGoods.priceStr6)+' 원</span></li>';
            } else if ('200' == compData.pfGoods.stId){
                // 기준가
                if(('00' == compData.pfGoods.priceStr1 && compData.pfGoods.priceStr2 != compData.pfGoods.priceStr3) || '00' !== compData.pfGoods.priceStr1){
    				html +=				'<li><span class="tit">기준가</span><span class="sale">'+fnComma(compData.pfGoods.priceStr2)+' 원</span></li>';
                }
                // 회원가
                if(compData.pfGoods.priceStr1 === '00' || compData.pfGoods.priceStr1 !== '00'){
                    html += 			'<li><span class="tit">회원가</span><span class="sale">'+fnComma(compData.pfGoods.priceStr3)+' 원</span></li>';
                }
                // 혜택가
                if('00' !== compData.pfGoods.priceStr1 && 'Y' !== compData.pfGoods.outletFlgYn){
					html +=				'<li><span class="tit">혜택가</span><span class="sale">'+fnComma(compData.pfGoods.priceStr4)+' 원</span></li>';
                }
                // 아울렛 특가
                if('00' !== compData.pfGoods.priceStr1 && 'Y' === compData.pfGoods.outletFlgYn){
                    html += 			'<li><span class="tit">아울렛 특가</span><span class="sale">'+fnComma(compData.pfGoods.priceStr4)+' 원</span></li>';
                }
            }else if('471' == compData.pfGoods.stId){
            	// 기준판매가
                html +=					'<li><span class="tit">기준판매가</span><span class="sale">'+fnComma(compData.pfGoods.priceStr3)+' 원</span></li>';
                // 특별판매가
                if('' !== compData.pfGoods.priceStr4 && compData.pfGoods.priceStr3 !== compData.pfGoods.priceStr4){
                    html +=				'<li><span class="tit">특별판매가</span><span class="sale">'+fnComma(compData.pfGoods.priceStr4)+' 원</span></li>';
                }
                // 임직원가
                html +=					'<li><span class="tit">임직원가</span><span class="sale">'+fnComma(compData.pfGoods.priceStr6)+' 원</span></li>';
            }
            html += 				'</ul>';
            html +=				'</div>';
            html +=			'</div>';
            
            // 쿠폰 적용 예상가 영역
            html +=			'<div class="prd-price-amount">';
			html +=				'<div class="price-detail type-list">';
			html +=					'<ul class="list-price list-price-amount">';
			if('Y' == compData.pfGoods.cpUseYn && '1' == compData.pfGoods.stId){
				// 앱 쿠폰 적용 시
                if (compData.pfGoods.secApp == 'true' && compData.pfGoods.goodsDetailVo.cpAllDcAmt > 0){
                    html +=				'<li><span class="tit blue">쿠폰 적용 예상가</span><span class="amount">'+fnComma(compData.pfGoods.salePrice - compData.pfGoods.goodsDetailVo.cpAllDcAmt)+'<span class="sale color-blue"> 원</span></span></li>';
                }
                // 쿠폰 적용 예상가(웹)
                else if ('false' == compData.pfGoods.secApp && compData.pfGoods.goodsDetailVo.webCpAllDcAmt > 0){
                    html +=				'<li><span class="tit blue">쿠폰 적용 예상가</span><span class="amount">'+fnComma(compData.pfGoods.salePrice - compData.pfGoods.goodsDetailVo.webCpAllDcAmt)+'<span class="sale color-blue"> 원</span></span></li>';
                }
            }

			html +=					'</ul>';
			html +=				'</div>';
			html +=			'</div>';
			
			// 적립 예정 포인트 영역
			html +=			'<div class="point-detail">';
			if('Y' == compData.goodsDetail.activatePhoneYn){
				html += '<span class="expect">적립 예정 포인트는 선택하신 옵션에 따라 달라질 수 있습니다.</span>'
			} else if((compData.pfGoods.mShipPtShowYn)){
                html +=			'<span class="expect">적립 예정 포인트</span>';
				html +=			'<span class="point">'+fnComma( compData.pfGoods.membershipPoint )+' 원</span>';
            }else{
                html +=			'<span class="expect">&nbsp;</span>';
            }
            html +=			'</div>';
        }else{
        	html +=			'<div class="prd-price"></div>';
        	html +=			'<div class="prd-price-amount"></div>';
        	html +=			'<div class="point-detail">';
        	html +=				'<span class="expect">&nbsp;</span>';
        	html +=			'</div>';
        }
        
        html += 			'<div class="prd-btn">';
        if('12' == compData.pfGoods.saleStatCd){
            html += 			'<button type="button" class="btn btn-d btn-type2" tabindex="0" onclick="_netFunnel_Action_PF(\''+compData.pfGoods.stGrp+'\', \''+compData.pfGoods.stContextPath+compData.pfGoods.goodsDetailUrl+'\');return false;" data-omni="'+compData.pfGoods.mdlNm+'|'+compData.pfGoods.mdlCode+'">구매하기</button>';
        }else{
            html +=				'<button type="button" class="btn btn-d btn-type1" tabindex="0" onclick="_netFunnel_Action_PF(\''+compData.pfGoods.stGrp+'\', \''+compData.pfGoods.stContextPath+compData.pfGoods.goodsDetailUrl+'\');return false;" data-omni="'+compData.pfGoods.mdlNm+'|'+compData.pfGoods.mdlCode+'">자세히 보기</button>';
        }
		html +=				'</div>';
		html +=			'</div>';
		html +=		'</div>';
		html +=	'</div>';
		return html;
	}
	
	<!-- 비교하기 팝업(빈상자) 템플릿 -->
	function htmlCompareEmptyPopUpTmpl(){
        var html = '';
        html += '<div class="prdBox">';
		html += 	'<div class="prd" id="">';
		html +=			'<div class="box compare-emptyBox">';
		html +=				'<a href="#none" role="button" title="비교하기 제품 선택 팝업 열기" class="" onclick="openCompareAddPop(this)">';
		html +=					'<div class="prd-info">';
		html +=						'<span class="plus-i"></span>';
		html +=						'<span class="notice">비교하고 싶은 제품 최대<br class="mobile"> 4개까지 선택 가능해요!</span>';
		html +=					'</div>';
		html +=				'</a>';
		html +=			'</div>';
		html += 	'</div>';
		html += '</div>';
		return html;
    }
	
	<!-- 비교하기 팝업 스펙(빈상자) 템플릿 -->
	function htmlCompareEmptySpecTmpl(){
		var html = '';
		
		html += '	<div class="prdBox">					';
		html += '		<div class="spec emptyBox">			';
		html += '			<div class="box-spec-detail">	';
		html += '			</div>							';
		html += '		<div>								';
		html += '	<div>									';
		return html;
	}
	
	/* 비교 대상이 로컬스토리지에 있는지 여부 확인 */
	function isCompareDataStorageGoods(goodsId) {
		var result = false;
		var keys;
		keys = Object.keys(goodsIdData);
		
		if (keys.length > 0) {
			for (var i = 0; i < keys.length; i++) {
				if (keys[i] == goodsId) {
					result = true;
				}
			}
		}
		return result;
	}
	
	/* 제품 선택 팝업창 확인 버튼 */
	function compareSelect() {
		var self = $("#chooseComparePrd .prd.active").find('input[name="PrdSelect"]');
		var compareDataBef;
		if($("#chooseComparePrd").find("button.btn.btn-d").hasClass("btn-type2") && $("#chooseComparePrd").find(".prd").hasClass("active")){
			ajax.call({
				data : self.data()
				, async : false
				, url : "/sec/xhr/goods/incGoodsCompare"
				, type : 'POST'
				, dataType : 'json'
				, done : function(data) {
					/* 비교하기 데이터 추가 */
					// compareDataStorageNm = storageNmPrefix+data.summary.compDispClsfEnNm;
					// compareData = JSON.parse(localStorage.getItem(compareDataStorageNm)) ?? {}; 
					// compareDataBef = compareData;
					compareData[data.goodsDetail.goodsId] = data;
					localStorage.setItem(compareDataStorageNm, JSON.stringify(compareData));
					
					/* 비교하기 활성화 goodId 추가 */
					goodsIdData[data.goodsDetail.goodsId] = data.summary.compDispClsfEnNm;
					localStorage.setItem(goodsIdDataStorageNm, JSON.stringify(goodsIdData));
					
					/* 마지막 담은 상품 추가 */
					lastCompData = {};
					lastCompData[data.goodsDetail.goodsId] = data.summary.compDispClsfEnNm;
					localStorage.setItem(lastCompDataStorageNm, JSON.stringify(lastCompData));
					
					updateBtnNum(Object.values(compareData).length);
					setCompInfoStrg(data.summary.compDispClsfEnNm, true, true);
					
					// Adobe Rule 호출
					_satellite.track("pd compare", {
						index : (Object.keys(compareData).length + 1),
						mdlInfo : data.pfGoods.mdlNm
					});
					
					$('#chooseComparePrd').find('.pop-close').click();
					//$('#popupPrdCompare').find('.pop-close').click();
					
					goodsGA4.fnGA4compareGoods(compareData);
				}
				, fail : function(data) {
					if (!isCompareDataStorageGoods($(this).data('goodsId'))){
						$(this).removeClass('disabled');
					}
				}
				, error : function(error) {
					if (!isCompareDataStorageGoods($(this).data('goodsId'))){
						$(this).removeClass('disabled');
					}
				}
			});
			$('.pfpd-compare').removeClass("empty");
			categoryBtn();/* 카테고리 select box */
			disabledCompareButton();
			if($('.popupPrdCompare .layer-difference-compare .toggleCheck .labeltxt.off').attr('aria-hidden') == 'true'){
			
			}else{
				setCompInfoDb();
			}
			
			if($('.pfpd-compare').hasClass("close") || (!$('.pfpd-compare').hasClass("close") && !$('.pfpd-compare').hasClass("open"))){
				$('.pfpd-compare').addClass("close");
				openCloseArrow();	
			}
		}else{
			commonAlert({ content : "제품을 선택 하세요." });
			openLayer('commonAlert');
		}
		setSpeclongestBox();
	}
	
	//비교하기 제품 추가(Pf에서 쓰임)
	function readyCompare(self) {
		self = $(self);
		self.parent().toggleClass('active');
		var filter = "win16|win32|win64|mac|macintel";
		if($("#pdYn").val() == 'Y'){
			$(".pfpd-compare").addClass("only-pdCompare");
			if(device.val=='m'){ /* mo */
 				$('.itm-total-bottom').addClass("hasCompare");
			}
			else{ /* pc */
				$('.pfpd-compare').css('bottom',0);
			} 
		}
		if ($(self).hasClass('link-compare-i disabled')) {
			commonAlert({ content : "이미 담은 제품 입니다." });
			openLayer('commonAlert');
			return false;
		}
		
		/* 담기 실패할 경우 복구할 카테고리명 저장 */
        let compDispClsfEnNmBef = compDispClsfEnNm;
        
        /* 비교하기 버튼 클릭한 제품의 카테고리로 카테고리명 업데이트 */
        updateCtgInfo(self.data('comp-disp-clsf-en-nm'));
        
		if (!(filter.indexOf(navigator.platform.toLowerCase()) < 0)) { /* pc 4개 */
			if (Object.keys(compareData).length == 4) {
				commonAlert({ content : "최대 4개까지 담을 수 있습니다." });
				self.parent().toggleClass('active');
				openLayer('commonAlert');
				/* 담기 실패한 경우 카테고리명 원복 */
				updateCtgInfo(compDispClsfEnNmBef);
				return false;
			}
		} else { /* mo 4개 */ 
			if (Object.keys(compareData).length == 4) {
				commonAlert({ content : "최대 4개까지 담을 수 있습니다." });
				self.parent().toggleClass('active');
				openLayer('commonAlert');
				/* 담기 실패한 경우 카테고리명 원복 */
				updateCtgInfo(compDispClsfEnNmBef);
				return false;
			}
		}
		
		if(Object.keys(compareData).length == 0){
			$('#pfpdSlideCompare').empty();
		}
		ajax.call({
			data : $(self).data()
			, url : "/sec/xhr/goods/incGoodsCompare"
			, type : 'POST'
			, dataType : 'json'
			, done : function(data) {
				// updateCtgInfo(data.summary.compDispClsfEnNm);

				/* 1. 비교하기 데이터 추가 */
				// compareDataStorageNm = storageNmPrefix+data.summary.compDispClsfEnNm;
				// compareData = JSON.parse(localStorage.getItem(compareDataStorageNm)) ?? {};
				compareData[data.goodsDetail.goodsId] = data;
				localStorage.setItem(compareDataStorageNm, JSON.stringify(compareData));

				/* 2. 비교하기 활성화 goodId 추가 */
				goodsIdData[data.goodsDetail.goodsId] = data.summary.compDispClsfEnNm;
				localStorage.setItem(goodsIdDataStorageNm, JSON.stringify(goodsIdData));

				/* 3. 마지막 담은 상품 초기화 & 추가 */
				lastCompData = {};
				lastCompData[data.goodsDetail.goodsId] = data.summary.compDispClsfEnNm;
				localStorage.setItem(lastCompDataStorageNm, JSON.stringify(lastCompData));

				/* 4. 카테고리 항목 스토리지에 추가 */
				categoryData[data.summary.compDispClsfEnNm] = data.summary.compDispClsfNm;
				localStorage.setItem(categoryDataStorageNm, JSON.stringify(categoryData));
				
				updateBtnNum(Object.values(compareData).length);

				//마지막 담은 상품의 날짜/시간/분 저장
				expireDateData = {};
				let today = new Date();
				expireDateData['date'] = dateFormat(today);
				localStorage.setItem(expireDateDataStorageNm, JSON.stringify(expireDateData));
				
				$('#pfpdSlideCompare').empty();
				
				setCompInfoStrg(data.summary.compDispClsfEnNm, true, false);
				
				categoryBtn();/* 카테고리 select box */
				disabledCompareButton();
				
				if($('.pfpd-compare').hasClass("close") || (!$('.pfpd-compare').hasClass("close") && !$('.pfpd-compare').hasClass("open"))){
					$('.pfpd-compare').addClass("close");
					openCloseArrow();
				}
				
				// Adobe Rule 호출
				_satellite.track("pd compare", {
					index : (Object.keys(compareData).length + 1),
					mdlInfo : data.pfGoods.mdlNm
				});
				
				$(".list-product li").find(".link-compare-i").removeAttr("data-compare-target");/* 웹접근성 포커싱 처리를 위한 attribute */
				$(self).attr("data-compare-target", "true");/* 웹접근성 포커싱 처리를 위한 attribute */
				$(".pfpd-compare").css("display","");
				$(".pfpd-compare").removeClass("empty");

				goodsGA4.fnGA4compareGoods(compareData);
			}
			, fail : function(data) {
				if (!isCompareDataStorageGoods($(this).data('goodsId'))){
					$(this).removeClass('disabled');
				}
			}
			, error : function(error) {
				if (!isCompareDataStorageGoods($(this).data('goodsId'))){
					$(this).removeClass('disabled');
				}
			}
		});
		//setSpeclongestBox();
	}
	
	function dateFormat(date){
		let month = date.getMonth() + 1;
		let day = date.getDate();
		let hour = date.getHours();
		let minute = date.getMinutes();
		let second = date.getSeconds();
		
		month = month >= 10 ? month : '0' + month ;
		day = day >= 10 ? day : '0' + day;
		hour = hour >= 10 ? hour : '0' + hour;
		minute = minute >= 10 ? minute : '0' + minute;
		second = second >= 10 ? second : '0' + second;
		
		return date.getFullYear() + '-' + month + '-' + day + ' ' + hour + ':' + minute + ':' + second;
	}
	
	/* 카테고리 select box 생성 */
	function categoryBtn(){
		var categoryDataBefLen = Object.values(categoryData).length;
		var categoryDataBef = categoryData;
		categoryData = JSON.parse(localStorage.getItem(categoryDataStorageNm)) ?? {};
		
        let compareDataStorageNmNew;
        let compareDataNew;
        if(categoryDataBefLen > 0) {
			var filter = "win16|win32|win64|mac|macintel";
			var max = 0;
			
			$(".compare-catagory .box-droplist").empty();
			$(".selectBox-right .box-droplist").empty();
			$("#moPopUp").empty();
			
			if ((filter.indexOf(navigator.platform.toLowerCase()) < 0)) { /* mo버전 selet box */
				max = '4';	
				var moHtml = "<button id='compareDropListBtnSelect' class='selected moSelectBtn' title='최근 비교한 카테고리' data-popup-target='popupMobileSelect'>최근 비교한 카테고리</button>";
				$(".compare-catagory .box-droplist").append(moHtml);
				
				var html = "<div id='compareDropList' class='wrap-droplist'>";
				html += "<button id='compareDropListBtnSelect' class='droplist-button selected' title='최근 비교한 카테고리'>최근 비교한 카테고리</button>";
				html += "<ul class='droplist' id='dropList' tabindex='-1' data-roll='listbox'></ul></div>";
				//$(".compare-catagory .box-droplist").append(html);
				$(".selectBox-right .box-droplist").append(html);
				
				// var i = 0;
				var moHtml2 = "<li class='select-title'>다른 카테고리 제품 비교하기</li>";
 				// for(var [key, value] of Object.entries(categoryDataBef)){
				// 	var length = '';
				// 	if(Object.keys(categoryDataBef)[i] == key){
				// 		compareDataStorageNmNew = storageNmPrefix + key;
				// 		compareDataNew = JSON.parse(localStorage.getItem(compareDataStorageNmNew)) ?? {};
				// 		length = Object.keys(compareDataNew).length;
				// 		i++;
				// 	}
				// 	moHtml2 += "<li><a href='javascript:void(0);' data-comp-disp-clsf-en-nm='"+key+"' data-comp-disp-clsf-nm='"+value+"' onClick='selectCtg(this)'>"+value+" ("+length+"/"+max+")</a></li>"
				// 	var html2 = "<li id='compareDropList' data-roll='option' class='droplist-item' data-comp-disp-clsf-en-nm='"+key+"' data-comp-disp-clsf-nm='"+value+"' onClick='selectCtg(this)'><button type='button' id='dropListBtn'>"+value+" ("+length+"/"+max+")</button></li>";
				// 	$(".selectBox-right .box-droplist #compareDropList .droplist").append(html2);
				// }
				Object.keys(categoryData).forEach(function(key, i) {
					compareDataStorageNmNew = storageNmPrefix + key;
					const length = Object.keys(JSON.parse(localStorage.getItem(compareDataStorageNmNew))).length;
					
                    moHtml2 += "<li><a href='javascript:void(0);' data-comp-disp-clsf-en-nm='"+key+"' data-comp-disp-clsf-nm='"+categoryData[key]+"' onClick='selectCtg(this)'>"+categoryData[key]+" ("+length+"/"+max+")</a></li>"
					var html2 = "<li id='compareDropList' data-roll='option' class='droplist-item' data-comp-disp-clsf-en-nm='"+key+"' data-comp-disp-clsf-nm='"+categoryData[key]+"' onClick='selectCtg(this)'><button type='button' id='dropListBtn'>"+categoryData[key]+" ("+length+"/"+max+")</button></li>";
					$(".selectBox-right .box-droplist #compareDropList .droplist").append(html2);
				}); 
 				$("#moPopUp").append(moHtml2);
 				//$(".compare-catagory .box-droplist #compareDropList .droplist").append(moHtml2);
 				
			} else { /* pc버전 selet box */
				max = '4';
				var html = "<div id='compareDropList' class='wrap-droplist'>";
				html += "<button id='compareDropListBtnSelect' class='droplist-button selected' title='최근 비교한 카테고리'>최근 비교한 카테고리</button>";
				html += "<ul class='droplist' id='dropList' tabindex='-1' data-roll='listbox'></ul></div>";
				$(".compare-catagory .box-droplist").append(html);
				$(".selectBox-right .box-droplist").append(html);
				
				// var i = 0;
				// for(var [key, value] of Object.entries(categoryDataBef)){
				// 	var length = '';
				// 	if(Object.keys(categoryDataBef)[i] == key){
				// 		compareDataStorageNm = storageNmPrefix+key;
				// 		compareData = JSON.parse(localStorage.getItem(compareDataStorageNm)) ?? {};
				// 		length = Object.keys(compareData).length;
				// 		i++;
				// 	}
				// 	var html2 = "<li id='compareDropList' data-roll='option' class='droplist-item' data-comp-disp-clsf-en-nm='"+key+"' data-comp-disp-clsf-nm='"+value+"' onClick='selectCtg(this)'><button type='button' id='dropListBtn'>"+value+" ("+length+"/"+max+")</button></li>";
				// 	$(".compare-catagory .box-droplist #compareDropList .droplist").append(html2);
				// 	$(".selectBox-right .box-droplist #compareDropList .droplist").append(html2);
				// }
				
				Object.keys(categoryData).forEach(function(key, i) {
					compareDataStorageNmNew = storageNmPrefix + key;
					const length = Object.keys(JSON.parse(localStorage.getItem(compareDataStorageNmNew))).length;
					
                    const html2 = "<li id='compareDropList' data-roll='option' class='droplist-item' data-comp-disp-clsf-en-nm='" + key + "' data-comp-disp-clsf-nm='" + categoryData[key] + "' onClick='selectCtg(this)'><button type='button' id='dropListBtn'>" + categoryData[key] + " (" + length + "/" + max + ")</button></li>";
                    $(".compare-catagory .box-droplist #compareDropList .droplist").append(html2);
					$(".selectBox-right .box-droplist #compareDropList .droplist").append(html2);
				});
			}
			// compareDataStorageNm = storageNmPrefix+$("#compDispClsfEnNm").val();
			// compareData = JSON.parse(localStorage.getItem(compareDataStorageNm)) ?? {};
		} 
		//setSpeclongestBox();
	}
	
	/* 비교하기 버튼 UI 수정 ( 갯수/4 ) */
	function updateBtnNum(length){
		var filter = "win16|win32|win64|mac|macintel";
		var max = 0;
		if (!(filter.indexOf(navigator.platform.toLowerCase()) < 0)) { max = '4';/* pc */ } else { max = '4';/* mo */ }

		var compLenMax = "비교하기 ("+length+"/"+max+")";
		if(length == 0){
			compLenMax = "비교하기";
		}
		
		$("#compareBtn").text(compLenMax);
		$("#compareDropListBtnSelect").addClass('selected');
		$("#compareDropListPfBtnSelect").addClass('selected');
		//setSpeclongestBox();
	}
	
	/* 카테고리 선택 */
	function selectCtg(self){
		var compareEnNm = $(self).data().compDispClsfEnNm;
		updateCtgInfo(compareEnNm);
		// compareDataStorageNm = storageNmPrefix + compareEnNm;
		// compareData = JSON.parse(localStorage.getItem(compareDataStorageNm)) ?? {};
        const len = Object.keys(compareData).length;
        updateBtnNum(Object.values(compareData).length);
		
		if($('.pfpd-compare').hasClass("close")){
			openCloseArrow();
		}
		
		if (len > 0) {
			setCompInfoStrg(compareEnNm, true, true);
			categoryBtn();/* 카테고리 select box 생성*/
		}
		setCompInfoDb();
		$('#popupMobileSelect').find('.pop-close').click();
		setSpeclongestBox();
	}
	
	/* 제품선택 팝업 */
	function selectProductList(data){
		var goodsAdvCmntStYn = 'Y';//$('#goodsAdvCmntStYn').val()
		$('#selectProductList').empty();
		var compareEnNm = data;
		
		const compareDataLen = Object.keys(compareData).length;
		
		/* 이미 추가된 비교하기 데이터 */
		var stGoodsIds = [];
		if (compareDataLen > 0 ) {
			Object.keys(compareData).forEach(function(v, i) {
				stGoodsIds[i] = v;
			});
		} 
		ajax.call({
			data : { filterEnNm : compareEnNm }
			, url : "/sec/xhr/pf/compGoodsList"
			, type: 'POST'
			, dataType : 'json'
			, done: function (data) {
				for(var i=0; i<data.products.length; i++){
					var html = '';
					if (data.products[i].imgPath1 != null && data.products[i].imgPath1[data.products[i].imgPath1.length -1] != '$') {
						if(data.products[i].imgPresetYn1 == 'Y'){
							data.products[i].imgPath1 += '?$PF_PRD_KDP_PNG$';
						}else{
							data.products[i].imgPath1 += '?$PF_PRD_PNG$';
						}
					}
					
					data.products[i].goodsNm = data.products[i].goodsNm.replace(/(<([^>]+)>)/ig,'').replace(/'/ig, '').replace(/"/ig, '');
					
					if(data.products[i].compareExcptYn == '' || data.products[i].compareExcptYn == 'N' || data.products[i].compareExcptYn == null){
						for(var j=0;j<stGoodsIds.length;j++){
							if(data.products[i].goodsId == stGoodsIds[j]){
								html += "<button type='button' class='prd' id=' ' disabled>";
								html += "	<div class='box disabled'>";
								html += "		<div class='prd-img'><img src='"+data.products[i].imgPath1+"' alt='"+data.products[i].goodsNm+"'></div>";
								if(goodsAdvCmntStYn == 'Y'){
								html += "		<div class='prd-review'>";
								html += "			<span class='link-review' title='상품평점'>"+data.products[i].reviewGrade+" ("+data.products[i].reviewCount+")</span>";
								html += "		</div>";
								}else if('1' == '200' || '1' == '471'){
								html += "		<div class='prd-review'>";
								html += "			<span class='link-review' title='상품평점'>"+data.products[i].reviewGrade+" ("+data.products[i].reviewCount+")</span>";
								html += "		</div>";
								}else{
								html += "		<div class='prd-review'>";
								html += "			<span class='' title='상품평점'>&nbsp;</span>";
								html += "		</div>";	
								}
								break;
							}
						}
							if(html == ''){
								html += "<button type='button' class='prd' id=' ' onclick='befAddCompCard(this)' aria-selected='false'>";
								html += "	<div class='box'>";
								html += "		<div class='prd-img'><img src='"+data.products[i].imgPath1+"' alt='"+data.products[i].goodsNm+"'></div>";
								if(goodsAdvCmntStYn == 'Y'){
								html += "		<div class='prd-review'>";
								html += "			<span class='link-review' title='상품평점'>"+data.products[i].reviewGrade+" ("+data.products[i].reviewCount+")</span>";
								html += "		</div>";
								}else if('1' == '200' || '1' == '471'){
								html += "		<div class='prd-review'>";
								html += "			<span class='link-review' title='상품평점'>"+data.products[i].reviewGrade+" ("+data.products[i].reviewCount+")</span>";
								html += "		</div>";
								}else{
								html += "		<div class='prd-review'>";
								html += "			<span class='' title='상품평점'>&nbsp;</span>";
								html += "		</div>";	
								}
								}
								html += "		<div class='prd-info'>";
								html += "			<div class='name-box'>";			
								html += "				<strong class='name'>"+data.products[i].goodsNm+"</strong>";			
								html += "			</div>";								
								html += "			<span class='serial'>"+data.products[i].mdlCode+"</span>";
								html += 				_htmlProductPrice(data.products[i]);	
								html += "		</div>";						
								html += "	</div>";
								html += "	<input type='hidden' name='PrdSelect' value='"+data.products[i].goodsId+"' data-goods-id='"+data.products[i].goodsId+"' data-mdl-code='"+data.products[i].mdlCode+"'>";
								html += "</button>";
					}
					$('#selectProductList').append(html);
				}
				
				$("#chooseComparePrd").find("button.btn.btn-d").removeClass("btn-type2");
				$("#chooseComparePrd").find("button.btn.btn-d").addClass("btn-type1");
				
				layerPopFunc('chooseComparePrd');/* 제품선택 팝업실행 */
			}
		});		
		//setSpeclongestBox();
	}
	
	/* 초기화 버튼 */
	function btnReset(self) {
		toastCtl(this);
		
		// compareDataStorageNm = storageNmPrefix + compDispClsfEnNm;
		// compareData = JSON.parse(localStorage.getItem(compareDataStorageNm)) ?? {};
		localStorage.setItem(compareDataStorageNm, JSON.stringify(compareData));
		
		/* goodsId 스토리지 데이터 삭제 */
		Object.keys(goodsIdData).forEach(function(v){
			if(compareData.hasOwnProperty(v)){
				delete goodsIdData[v];
				localStorage.setItem(goodsIdDataStorageNm, JSON.stringify(goodsIdData));
			}
		});
		
		/* 1. 초기화 시 해당 카테고리 상품 비움 */
		compareData = {};
		localStorage.setItem(compareDataStorageNm, JSON.stringify(compareData));
		
		/* 2. 초기화 시 해당 카테고리 비움 */
		delete categoryData[compDispClsfEnNm];
		localStorage.setItem(categoryDataStorageNm, JSON.stringify(categoryData));
		
		/* 3. 초기화 시 최근 비교한 제품 지움 */
		lastCompData = {};
		localStorage.setItem(lastCompDataStorageNm, JSON.stringify(lastCompData));
		
		/* 남은 비교하기 제품 없는 경우 */
		if(Object.keys(goodsIdData).length == 0){
			$(".pfpd-compare").css("display","none");
			$(".pfpd-compare").addClass("empty");
			$(".itm-total-bottom").removeClass("hasCompare");
		}else{/* 남은 비교하기 제품 있는 경우 */
			updateCtgInfo(Object.values(goodsIdData)[0]);
			// compDispClsfEnNm = Object.values(goodsIdData)[0];
			// compareDataStorageNm = storageNmPrefix + compDispClsfEnNm;
			// compareData = JSON.parse(localStorage.getItem(compareDataStorageNm)) ?? {};
			// localStorage.setItem(compareDataStorageNm, JSON.stringify(compareData));
			
			// $('.btn-reset').val(Object.values(goodsIdData)[0]);
			// $('#compareBtn').val(Object.values(goodsIdData)[0]);
			setCompInfoStrg(Object.values(goodsIdData)[0], true, false);
			updateBtnNum(Object.values(compareData).length);
		}

		categoryBtn();
		disabledCompareButton();
		$('#chooseComparePrd').find('.pop-close').click();
		$('#popupPrdCompare').find('.pop-close').click();
		//setSpeclongestBox();
	}
	
	/* 비교하기 카드(펼치기 숨기기) */
	function openCloseArrow(){
		if($('.pfpd-compare').hasClass("only-pdCompare")){
			goodsMain.fnShowOrderMenu($('.itm-total-bottom', goodsMain.vGoodsWrapId));
		}
		toastCtl(this);
	}
	
	/* 제품선택 팝업 열기 */
	function openCompareAddPop(self){
		selectProductList(compDispClsfEnNm);
	}
	
	/* 비교하기 레이아웃 초기 세팅 */
	function sliderCompareBox(){
		/*
		*  가장 마지막에 담은 상품의 카테고리로 카테고리명 설정
		*  마지막 담은 상품이 없을 경우 goodsId 스토리지에 있는 첫번째 상품으로 카테고리 변경
		* */
		updateCtgInfo(Object.values(lastCompData)[0] ?? Object.values(goodsIdData)[0]);
		// compDispClsfEnNm = Object.values(lastCompData)[0] ?? Object.values(goodsIdData)[0];
		// Object.keys(lastCompData).forEach(function(v, i) {
		// 	compDispClsfEnNm = lastCompData[v];
		// });
		// var compareDataStorageBef, compareDataBef, compareDataBefLen;
		// var goodsIdDataBefLen;
		// var categoryDataBefLen;
		// var lastCompDataBefLen;
		//
		// compareDataBef = JSON.parse(localStorage.getItem(compareDataStorageBef)) ?? {};
		// compareDataBefLen = Object.keys(compareDataBef).length;
		//
		// goodsIdDataBefLen = Object.keys(goodsIdData).length;
		// categoryDataBefLen = Object.keys(categoryData).length;
		// lastCompDataBefLen = Object.keys(lastCompData).length;
		
		/* 남은 비교하기 데이터가 하나도 없는 경우 slider 숨김 처리 */
		if(undefined == compDispClsfEnNm){
            $(".pfpd-compare").css("display","none");
			return false;
        }else{
            $(".pfpd-compare").css("display","");
        }
        
		// if(goodsIdDataBefLen == 0 && categoryDataBefLen == 0){ 
		// 	$(".pfpd-compare").css("display","none");
		// 	return false;
		// }else{ 
		// 	$(".pfpd-compare").css("display",""); 
		// }
		
		/* 선택된 카테고리의 비교하기 상품이 있는 경우 */
		// if (compareDataBefLen > 0 ) {
		// 	/* 비교하기 카드만 세팅 */
		// compareDataStorageNm = storageNmPrefix + compDispClsfEnNm;
		// compareData = JSON.parse(localStorage.getItem(compareDataStorageNm)) ?? {};
		const compareDataLen = Object.keys(compareData).length;
		setCompInfoStrg(compDispClsfEnNm, true, false);
		updateBtnNum(compareDataLen);
		// }
		
		// 카테고리 버튼 생성
		categoryBtn();
		// 비교하기 담긴 상품 disable 처리
		disabledCompareButton();
		
		/* 선택된 카테고리의 비교하기 상품이 없는 경우(or pd,pf가 아닌 경우) */
		// if(compareDataBefLen == 0){
		//
		// 	/* 마지막으로 담은 상품이 있고 goodsId 정보 있는 경우 */
		// 	if(lastCompDataBefLen != 0 && goodsIdDataBefLen != 0){
		// 		compareDataStorageBef = storageNmPrefix + Object.values(lastCompData)[0];
		// 		// $('.btn-reset').val(Object.values(lastCompData)[0]);
		// 		// $('#compareBtn').val(Object.values(lastCompData)[0]);
		// 		setCompInfoStrg(Object.values(lastCompData)[0], true, false);
		//		
		// 		compareDataBef = JSON.parse(localStorage.getItem(compareDataStorageBef)) ?? {};
		// 		updateBtnNum(Object.values(compareDataBef).length);
		//		
		// 	}else if(goodsIdDataBefLen != 0){/* goodsId 정보 있는 경우 */
		//		
		// 		compareDataStorageBef = storageNmPrefix+Object.values(goodsIdData)[0];
		// 		$('.btn-reset').val(Object.values(goodsIdData)[0]);
		// 		$('#compareBtn').val(Object.values(goodsIdData)[0]);
		// 		setCompInfoStrg(Object.values(goodsIdData)[0], true, false);
		//		
		// 		compareDataBef = JSON.parse(localStorage.getItem(compareDataStorageBef)) ?? {};
		// 		updateBtnNum(Object.values(compareDataBef).length);
		// 	}
		// }
		
		/* 모바일 pd페이지 접속시 class추가 */
		var filter = "win16|win32|win64|mac|macintel";
		if($("#pdYn").val() == 'Y'){
			$(".pfpd-compare").addClass("only-pdCompare");
			if(device.val=='m'){ /* mo */
 				$('.itm-total-bottom').addClass("hasCompare");
			}
			else{ /* pc */
				$('.pfpd-compare').css('bottom',0);
			} 
		}
		$('.arrow-i').addClass("disabled");
		$('.pfpd-compare').removeClass("close");
		$('.pfpd-compare').addClass("open");
		$('.pfpd-compare .arrow-i').focus();
		toastCtl(this);
		//setSpeclongestBox();
	}
	
	/* 제품 가격 세팅 */
	function _htmlProductPrice(prd) {
		var price = prd.priceStr.split('|');
		if (prd.priceStr == null || price[2] == '0' || (prd.saleStatCd != '12' &&  prd.saleStatCd != '13' && prd.saleStatCd != '14')){
			return '';
		}
		
		var stGbCd = '10';
		var isLogin; if(typeof isLoginCheck !== "undefined"){ isLogin= isLoginCheck; }
		var contextPath = "/sec/";
		var stId   = '1';
		
		var titPrice1 = '기준가'; var titPrice2 = '회원가'; var titPrice3 = "혜택가"; var titPrice4 = "아울렛 특가"; 
		var titPrice5 = "쿠폰 적용 예상가"; var titPrice6 = "앱 쿠폰 적용 시"; var titPrice7 = "청구할인 예상가";
		var titPrice8 = '출고가'; var titPrice9 = '기준판매가'; var titPrice10 = '특별판매가'; var titPrice11 = '회사 지원금';
		var titPrice12 = '임직원가'; var titPrice13 = '임직원가';
		
		var html = '';
		
		if(stGbCd === '10') {/* B2C */
			
			/* 쿠폰 적용 예상가 */
			if(prd.cpUseYn === "Y"){
				if('false' == 'true'){ // 앱 쿠폰 적용 시
					if(prd.goodsDetailVo.cpAllDcAmt > 0){
                        html += '<span class="price">' + titPrice5 + ' <em class="num">' + fnComma(price[price.length-1] - prd.goodsDetailVo.cpAllDcAmt) + ' 원</em></span><br>';
						return html;
                    }
                }
                else{
                	if(prd.goodsDetailVo.webCpAllDcAmt > 0){
                		html += '<span class="price">' + titPrice5 + ' <em class="num">' + fnComma(price[price.length-1] - prd.goodsDetailVo.webCpAllDcAmt) + ' 원</em></span><br>';
						return html;
                	}    
                }
			}
			
			/* 기준가 *//* if ((price[1] === '00' && price[2] !== price[3]) || price[1] !== '00') { html += '<span class="price">'+titPrice1+'<em class="num">' + fnComma(price[2]) + ' 원</em></span><br>';} */
					
			/* 회원가 *//* if ((price[1] !== '00' || price[1] === '00')) { html += '<span class="price">'+titPrice2+'<em class="num">' + fnComma(price[3]) + ' 원</em></span><br>';} */
			
			
			/* 혜택가 */
			if('00' !== price[1] && 'Y' !== prd.outletFlgYn){
				html += '<span class="price">'+titPrice3+' <em class="num">' + fnComma(price[4]) + ' 원</em></span><br>';
			}
			
			/* 아울렛 특가 */
			else if('00' !== price[1] && 'Y' === prd.outletFlgYn){
				html += '<span class="price">'+titPrice4+'<em class="num">' + fnComma(price[4]) + ' 원</em></span><br>';
			}
			
			else{
                html += '<span class="price"> <em class="num"> </em></span>';
            }
		}else if(stId === '2'){/* 패넷 */
			/* 출고가 *//* html += '<span class="price">'+titPrice8+'<em class="num">' + fnComma(price[2]) + ' 원</em></span><br>'; */
			/* 기준판매가 *//* html += '<span class="price">'+titPrice9+'<em class="num">' + fnComma(price[3]) + ' 원</em></span><br>'; */
			/* 특별판매가 */if(price[4] !== '' && price[3] !== price[4]){ html += '<span class="price">'+titPrice10+'<em class="num">' + fnComma(price[4]) + ' 원</em></span><br>'; }
			/* 회사 지원금 *//* if(stGbCd === '30'){ html += '<span class="price">'+titPrice11+'<em class="num">' + fnComma(price[5]) + ' 원</em></span><br>'; } */
			/* 임직원가 *//* html += '<span class="price">'+titPrice12+'<em class="num">' + fnComma(price[6]) + ' 원</em></span><br>'; */
		}else if(stId === '3'){/* 패넷_디플 */
			/* 출고가 *//* html += '<span class="price">'+titPrice8+'<em class="num">' + fnComma(price[2]) + ' 원</em></span><br>'; */
			/* 기준판매가 *//* html += '<span class="price">'+titPrice9+'<em class="num">' + fnComma(price[3]) + ' 원</em></span><br>'; */
			/* 특별판매가 */if(price[4] !== '' && price[3] !== price[4]){ html += '<span class="price">'+titPrice10+'<em class="num">' + fnComma(price[4]) + ' 원</em></span><br>'; }
			/* 회사 지원금 *//* if(stGbCd === '30'){ html += '<span class="price">'+titPrice11+'<em class="num">' + fnComma(price[5]) + ' 원</em></span><br>'; } */
			/* 임직원가 *//* html += '<span class="price">'+titPrice13+'<em class="num">' + fnComma(price[6]) + ' 원</em></span><br>'; */
		}else if(stId === '200'){/* 삼성스토어*/
		
			/* 혜택가 */
			if('00' !== price[1] && 'Y' !== prd.outletFlgYn){
				html += '<span class="price">'+titPrice3+' <em class="num">' + fnComma(price[4]) + ' 원</em></span><br>';
			/* 회원가 */
			}else if ((price[1] !== '00' || price[1] === '00')) { html += '<span class="price">'+titPrice2+'<em class="num">' + fnComma(price[3]) + ' 원</em></span><br>';}
		
		
			/* 특별판매가 *//* if(price[4] !== '' && price[3] !== price[4]){ 
			html += '<span class="price">'+titPrice10+'<em class="num">' + fnComma(price[4]) + ' 원</em></span><br>'; }
			html += '<span class="price">'+titPrice3+' <em class="num">' + fnComma(price[4]) + ' 원</em></span><br>'; */
		}else if(stId === '471'){/* 삼판 패몰 */
			/* 임직원가 */
			html += '<span class="price">'+titPrice12+' <em class="num">' + fnComma(price[6]) + ' 원</em></span><br>';
		}
		
		if(html === ''){
			html += '<span class="price"> <em class="num"> </em></span>';
		}
		
		return html;
	}
	
	/* 제품 선택 팝업에서 제품 선택 시 */
	function befAddCompCard(prd) {
		if($(prd).hasClass("active")){
			$("#chooseComparePrd").find(".prd.active").removeClass("active");
			$("#chooseComparePrd").find(".prd").attr('aria-selected',false);
			$(prd).removeClass("active");
			$(prd).attr('aria-selected',false);
			$("#chooseComparePrd").find("button.btn.btn-d").removeClass("btn-type2");
			$("#chooseComparePrd").find("button.btn.btn-d").addClass("btn-type1");
		}else{
			$("#chooseComparePrd").find(".prd.active").removeClass("active");
			$("#chooseComparePrd").find(".prd").attr('aria-selected',false);
			$(prd).addClass("active");
			$(prd).attr('aria-selected',true);
			$("#chooseComparePrd").find("button.btn.btn-d").removeClass("btn-type1");
			$("#chooseComparePrd").find("button.btn.btn-d").addClass("btn-type2");
		}
		//setSpeclongestBox();
	}

	/* 비교하기 팝업 정보 세팅 스토리지
	compDispClsfEnNm : 2뎁스 카테고리명
	compCard : T/F (비교하기 카드) T 일시 카드 업데이트
	compPopup : T/F (비교하기 팝업) T 일시 팝업 업데이트 */
	function  setCompInfoStrg(compDispClsfEnNm, compCard, compPopup){
		var goodsAdvCmntStYn = 'Y';//$('#goodsAdvCmntStYn').val()
		var resultDate = false;

		let showWaitFlag;
		if('1' == '1'){
			showWaitFlag = false;
		}else{
			showWaitFlag = true;
		}


		if(Object.keys(expireDateData).length != 0 ){
			var options = {
				url : "/sec/xhr/goods/getCompareExpireDate"
				, type : 'POST'
				, async : false
				, showWait : showWaitFlag
				, done : function(data){
						// Date type 
						if(expireDateData['date'] <= data.compExpDt) {
							resultDate = true;
						}
						
				}
			}
			ajax.call(options);
		}

		// expireDateData에 시간 셋팅X || 비교하기 만료일자 지나면 기존 스토리지 데이터 삭제 
		if(Object.keys(expireDateData).length == 0 || resultDate == true){
			for(var i = 0; i < localStorage.length; i++){
				//비교하기 로컬 스토리지 삭제
				if(localStorage.key(i).indexOf('compare') > -1){
					compareDataStorageNm = localStorage.key(i);
					compareData = {};
					localStorage.setItem(compareDataStorageNm, JSON.stringify(compareData));
				}
			}
			//스토리지 리셋
			categoryData = {};
			localStorage.setItem(categoryDataStorageNm, JSON.stringify(categoryData));
			goodsIdData = {};
			localStorage.setItem(goodsIdDataStorageNm, JSON.stringify(goodsIdData));
			lastCompData = {};
			localStorage.setItem(lastCompDataStorageNm, JSON.stringify(lastCompData));

			$(".pfpd-compare").css("display","none");
			$('.link-compare-i').removeClass('disabled');

		}
		
		// compareDataStorageNm = storageNmPrefix + compDispClsfEnNm;
		// compareData = JSON.parse(localStorage.getItem(compareDataStorageNm)) ?? {};
		
		if(compCard){/* 비교하기 카드 - s */
			if (Object.keys(compareData).length > 0) {
				$('#pfpdSlideCompare').empty();
				
				if(Object.keys(compareData).length >= 2 && $('.pfpd-compare').hasClass('if2item')){
					$('.pfpd-compare').removeClass('if2item');
				}
				else if(Object.keys(compareData).length < 2 && !$('.pfpd-compare').hasClass('if2item')){
					$('.pfpd-compare').addClass('if2item');
				}
				
				var cnt = 0;
				Object.keys(compareData).forEach(function(v, i) {
					compareData[v]["pfGoods"]["goodsAdvCmntStYn"] = goodsAdvCmntStYn;
					var tempPriceNm = compareData[v]["summary"]["priceNm"];
					var tempStId = compareData[v]["pfGoods"]["stId"];
					if(tempStId == '3' && tempPriceNm.replaceAll(' ','') == '임직원부담금'){
						compareData[v]["summary"]["priceNm"] = '임직원가';
					}
					compareData[v]["pfGoods"]["secApp"] = 'false';
					compareData[v]["pfGoods"]["stContextPath"] = "/sec/";
					compareData[v]["pfGoods"]["stGrp"] = "b2c";
					$('#pfpdSlideCompare').append(htmlCompareCardTmpl(compareData[v]));
					cnt++;
				});
				
				for(var i=cnt ; i < 4 ; i++){/* 비교하기 카드 빈카드 세팅 */
					$('#pfpdSlideCompare').append(htmlCompareCardEmptyTmpl());
				}
			}
			$('#pfpdSlideCompare').removeClass();
		}/* 비교하기 카드 - e */
		if(compPopup){/* 비교하기 팝업 - s*/
			var cnt = 0;
			var totalMShipPtShowYn = false;
			if (Object.keys(compareData).length > 0) {
				setCompInfoDb();
				/* 비교하기 제품 추가 팝업 닫기 */
				$('#chooseComparePrd').find('.pop-close').click();
				/* 스펙 높이 맞추기 */
				setSpeclongestBox();
				
				/* 가격 높이 클래스 */
				if('1' == '1'){
				
				}
				else if('1' == '2'){
					$('.prdBox .prd.prdDetail').addClass('cnt-4-li_list-price');
					$('.prdBox .prd .box.compare-emptyBox').parent().addClass('cnt-4-li_list-price');
				}
				else if('1' == '3'){
					$('.prdBox .prd.prdDetail').addClass('cnt-5-li_list-price');
					$('.prdBox .prd .box.compare-emptyBox').parent().addClass('cnt-5-li_list-price');
				}else{
					//삼판 패몰, 삼성스토어
				}
				
				if(totalMShipPtShowYn){
					$('.prdBox .prd.prdDetail').addClass('addpoint');
					$('.prdBox .prd .box.compare-emptyBox').parent().addClass('addpoint');
				}
				
				/* 비교하기 팝업 슬릭 적용 */
				// comparePopupSlickpart1($('.part1'));
				// comparePopupSlickpart2($('.part2'));
			}
		}/* 비교하기 팝업 - e*/
	}
	
	/* 비교하기 팝업 정보 DB 조회 후 팝업 내 스펙 배열 세팅 (차이점 활성화/비활성화 공통) */
	function setCompInfoDb(){
		var goodsAdvCmntStYn = 'Y';//$('#goodsAdvCmntStYn').val()
		// var compDispClsfEnNm = '';
		// if($('#compareBtn').val() == ''){
		// 	$('#compareBtn').val($('.prd.compare').attr('value')); 
		// 	$('.btn-reset').val($('.prd.compare').attr('value'));
		// }
		// compDispClsfEnNm = $('#compareBtn').val();
		
		// compareDataStorageNm = storageNmPrefix + compDispClsfEnNm;
		// compareData = JSON.parse(localStorage.getItem(compareDataStorageNm)) ?? {};
		
		var cnt = 0;
		var totalMShipPtShowYn = false;
		if (Object.keys(compareData).length > 0) {
			/* 비교하기 팝업 제품 카드 */
			$('.part1').slick('unslick'); $('.part2').slick('unslick');
			$('.part1').empty(); $('.part2').empty();
			
			Object.keys(compareData).forEach(function(v, i) {
				/* .part1 */				
				var bspkParam = '';/* 패넷 */
				if(compareData[v]["pfGoods"]["goodsAddTpCd"] === '50'){ 
					bspkParam = '&pannelYn=Y';/* 패넷 */
				}
				else{
					bspkParam = '&selModel='+compareData[v]["pfGoods"]["mdlCode"]; 
				}/* 패넷 */
				compareData[v]["pfGoods"]["bspkParam"] = bspkParam;/* 패넷 */
				compareData[v]["pfGoods"]["stCd"] = 'b2c';/* 패넷 */
				compareData[v]["pfGoods"]["secApp"] = 'false';
				compareData[v]["pfGoods"]["stGbCd"] = '10';
				if(typeof isLoginCheck !== "undefined"){
					compareData[v]["pfGoods"]["isLogin"] = isLoginCheck;/* B2C,패넷 */ 
				}
				compareData[v]["pfGoods"]["stContextPath"] = "/sec/";
				compareData[v]["pfGoods"]["stGrp"] = "b2c";
				compareData[v]["pfGoods"]["goodsAdvCmntStYn"] = goodsAdvCmntStYn;
				
				//적립포인트 - s 
				var mShipPtShowYn = false;

				if(!mShipPtShowYn){
					var stId = compareData[v]["pfGoods"]["stId"];
					if(stId == '1'){
						var mdlCode = compareData[v]["pfGoods"]["mdlCode"];
						var envmtGbCd = 'prd';
						var environmentGbLocal = 'local';
						var environmentGbDev = 'dev';
						var environmentGbStg = 'stg';
						var stGbCd = '10';
						var membershipUseExcptYn = compareData[v]["pfGoods"]["membershipUseExcptYn"];
						var carePlusType = compareData[v]["pfGoods"]["carePlusType"];
						var thirdPartyYn = compareData[v]["pfGoods"]["thirdPartyYn"];
						var isLogin = false; if(typeof isLoginCheck !== "undefined"){ isLogin = isLoginCheck;/* B2C,패넷 */ }
						var membershipYn = compareData[v]["pfGoods"]["membershipYn"];
						
						mShipPtShowYn = mShipPtShowYnB2C(stId, mdlCode, envmtGbCd, environmentGbLocal, environmentGbDev, environmentGbStg, stGbCd, membershipUseExcptYn, carePlusType, thirdPartyYn, isLogin, membershipYn);//B2C
						
					}else if(stId == '2' || stId == '3'){
						var stGbCd = '10';
						var stCd = 'b2c';/* 패넷 */
						var isLogin = false; if(typeof isLoginCheck !== "undefined"){ isLogin = isLoginCheck;/* B2C,패넷 */ }
						var membershipYn = compareData[v]["pfGoods"]["membershipYn"];
						
						mShipPtShowYn = mShipPtShowYnFNET(stId, stGbCd, stCd, isLogin, membershipYn);
					}else if(stId == '200'){
						var isLogin = false; if(typeof isLoginCheck !== "undefined"){ isLogin = isLoginCheck;/* B2C,패넷 */ }
						var membershipYn = compareData[v]["pfGoods"]["membershipYn"];
						
						mShipPtShowYn = mShipPtShowYnB2B2C(isLogin, membershipYn);
						
					}else if(stId == '471'){
						/*삼판 패몰은 포인트 적립 없음*/
					}else{
						var stGbCd = '10';
						var stCd = 'b2c';/* 패넷 */
						var isLogin = false; if(typeof isLoginCheck !== "undefined"){ isLogin = isLoginCheck;/* B2C,패넷 */ }
						var membershipYn = compareData[v]["pfGoods"]["membershipYn"];
						
						mShipPtShowYn = mShipPtShowYnFNET(stId, stGbCd, stCd, isLogin, membershipYn);
					}
				}
				if(mShipPtShowYn){
					totalMShipPtShowYn = true;
				}
				compareData[v]["pfGoods"]["mShipPtShowYn"] = mShipPtShowYn;
				//적립포인트 - e
				
				// $('.part1').append($('#compareItemTempl').render(compareData[v]));
				$('.part1').append(htmlComparePopUpTmpl(compareData[v]));
				
				cnt++;
			});
			for(var i=cnt ; i < 4 ; i++){/* 비교하기 팝업 빈카드 세팅 */
				// $('.part1').append($('#compareItemEmptyTempl').render());
				$('.part1').append(htmlCompareEmptyPopUpTmpl());
			}
			/* 비교하기 팝업 상세 스펙 */
			var goodsIds = new Array();
			var compareDataLen = Object.keys(compareData).length;
			ajax.call({
				data : { goodsIds : Object.keys(compareData) }
				, async : false
				, url : "/sec/xhr/pf/compGoodsSpecList"
				, type : 'POST'
				, dataType : 'json'
				, done : function(data) {
					$('.part2').empty();
					var cnt = 0;
					var productsSpec = data.productsSpec;
					var pSpecLen = data.productsSpec.length;
					if(data.productsSpec.length > 0){
						for(var i=0;i<compareDataLen;i++){
							var html = '';
							var dispNm1 = '';
							var tmpDispNm1 = '';
							var setCount = 0;
							var setDepth1Cnt = 0;
							dispNm1 = productsSpec[0].dispNm1;	
							html += '<div class="prdBox">';
							html += '	<div class="spec">';
							html += '		<div class="box-spec-detail">';
							html += '			<div class="set specAnchor'+setDepth1Cnt+'">';
							html += '				<h3 aria-label="'+compareData[Object.keys(compareData)[i]].goodsDetail.goodsNm+'">'+dispNm1+'</h3>';
							for(var j=0;j<pSpecLen;j++){
								tmpDispNm1 = productsSpec[j].dispNm1.replaceAll(' ','');
								if(tmpDispNm1 == dispNm1.replaceAll(' ','') ){
									html += '			<dl>';
									html += '				<dt>'+productsSpec[j].dispNm+'</dt>';
									if(i == 0){
										html += '				<dd><span>'+productsSpec[j].specValue1+'</span></dd>';
									}else if(i == 1){
										html += '				<dd><span>'+productsSpec[j].specValue2+'</span></dd>';
									}else if(i == 2){
										html += '				<dd><span>'+productsSpec[j].specValue3+'</span></dd>';
									}else if(i == 3){
										html += '				<dd><span>'+productsSpec[j].specValue4+'</span></dd>';
									}
									html += '			</dl>';
									setCount++;
								}else{
									setDepth1Cnt++;
									dispNm1 = productsSpec[setCount].dispNm1;	
									j--;
									html += '		</div>';
									html += '		<div class="set specAnchor'+setDepth1Cnt+'">';
									html += '			<h3 aria-label="'+compareData[Object.keys(compareData)[i]].goodsDetail.goodsNm+'">'+dispNm1+'</h3>';
								}
							}
							html += '			</div>';
							html += '		</div>';
							html += '	</div>';
							html += '</div>';
							cnt++;
							$('.part2').append(html);
						}
					}
					for(var i=cnt ; i < 4 ; i++){
						/* 비교하기 팝업 스펙 빈카드 세팅 */
						// $('.part2').append($('#compareItemSpecEmptyTempl').render());
						$('.part2').append(htmlCompareEmptySpecTmpl());
					}
					
				}
			});
			/* 멤버십 적립포인트 보이기 여부(B2C) */
			
			//afterSetCompInfoSort();
			/* 비교하기 팝업 정보 세팅 DB 이후(차이점 활성화/비활성화 공통)*/
			afterSetCompInfoDb();
			/* 비교하기 팝업 앵커 세팅(다 되고 0 컬럼만 id) */
			setSpecAnchor();
			/* 비교하기 팝업 정보 세팅 이후 공통(앵커 버튼 생성) */
			afterSetCompInfoComm();
			/* B2C 쿠폰 적용 예상가 미존재 시 볼드처리 */
			hasListPriceAmount();
			/* 가격 높이 클래스 */
			if('1' == '1'){
			
			}
			else if('1' == '2'){
				$('.prdBox .prd.prdDetail').addClass('cnt-4-li_list-price');
				$('.prdBox .prd .box.compare-emptyBox').parent().addClass('cnt-4-li_list-price');
			}
			else if('1' == '3'){
				$('.prdBox .prd.prdDetail').addClass('cnt-5-li_list-price');
				$('.prdBox .prd .box.compare-emptyBox').parent().addClass('cnt-5-li_list-price');
			}
			if(totalMShipPtShowYn){
				$('.prdBox .prd.prdDetail').addClass('addpoint');
				$('.prdBox .prd .box.compare-emptyBox').parent().addClass('addpoint');
			}
			// updateBtnNum(compareDataLen);
			/* 비교하기 팝업 슬릭 적용 */
			comparePopupSlickpart1($('.part1'));
			comparePopupSlickpart2($('.part2'));
		}
		//setSpeclongestBox();
	}
	
	/* 비교하기 팝업 정보 세팅 DB 이후(차이점 활성화/비활성화 공통)*/
	function afterSetCompInfoDb(){
		var part1Len = $(".part1 .prdBox .prd.prdDetail").length;/* part1 길이 */
		var diffActive = $('.popupPrdCompare .layer-difference-compare .toggleCheck .labeltxt.off').attr('aria-hidden');
		
		/* 차이점 비활성화 (diffActive != 'true')-> 같고 공백이면 지움, 다르면 highlight */
		/* 차이점 활성화 (diffActive == 'true')-> 같으면 지움, 다르면 highlight */
		/* 값이 모두 - 이면, 해당 row 전체 displayNoneF(비교하기 팝업 로딩 될 때 공통으로 처리) */
		if(part1Len > 1){
			var part2SpecSpanLen = 0;
			part2SpecSpanLen = $('.part2').find('.spec').eq(0).find('.box-spec-detail').find('span').length;
			for(var i=0;i<part2SpecSpanLen;i++){
				var spanText0 = "1"; var spanText1 = "1"; var spanText2 = "1"; var spanText3 = "1";
				for(var j=0;j<part1Len;j++){
					var tempText = $('.part2').find('.spec').eq(j).find('.box-spec-detail').find('span').eq(i).text().replaceAll(' ','');
					if((j == 0) && tempText != "-" && tempText != ""){
						spanText0 = tempText;
					}
					else if((j == 1) && tempText != "-" && tempText != ""){
						spanText1 = tempText;
					}
					else if((j == 2) && tempText != "-" && tempText != ""){
						spanText2 = tempText;
					}
					else if((j == 3) && tempText != "-" && tempText != ""){
						spanText3 = tempText;
					}
				}
				switch(part1Len){
					case 1: 
						for(var j=0;j<part1Len;j++){
							$('.part2').find('.spec').eq(j).find('.box-spec-detail').find('span').eq(i).addClass('highlight');
						}
						break;
					case 2:
						if(spanText0 == spanText1){
							if(diffActive != 'true' || (diffActive =='true' && spanText0 == "1")){
								for(var j=0;j<part1Len;j++){
									$('.part2').find('.spec').eq(j).find('.box-spec-detail').find('dl').eq(i).css('display','none');
								}
							}
						}
						else{
							for(var j=0;j<part1Len;j++){
								$('.part2').find('.spec').eq(j).find('.box-spec-detail').find('span').eq(i).addClass('highlight');
							}
						}
						break;
					case 3:
						if(((spanText0 == spanText1) ? (spanText1 == spanText2) : false )){
							if(diffActive != 'true' || (diffActive =='true' && spanText0 == "1")){
								for(var j=0;j<part1Len;j++){
									$('.part2').find('.spec').eq(j).find('.box-spec-detail').find('dl').eq(i).css('display', 'none');
								}	
							}
						}
						else{
							for(var j=0;j<part1Len;j++){
								$('.part2').find('.spec').eq(j).find('.box-spec-detail').find('span').eq(i).addClass('highlight');
							}
						}
						break;
					case 4:
						if(((spanText0 == spanText1) ? ((spanText1 == spanText2) ? (spanText2 == spanText3) : false ) : false )){
							if(diffActive != 'true' || (diffActive =='true' && spanText0 == "1")){
								for(var j=0;j<part1Len;j++){
									$('.part2').find('.spec').eq(j).find('.box-spec-detail').find('dl').eq(i).css('display','none');
								}
							}
						}else{
							for(var j=0;j<part1Len;j++){
								$('.part2').find('.spec').eq(j).find('.box-spec-detail').find('span').eq(i).addClass('highlight');
							}
						}
						break;
				}
			}
			
			/* 비교하기 팝업 상품 스펙 set의 모든 dl의 display 값이 none이면 안보이게 */
			for(var i=0;i<part1Len;i++){
				var part2BoxSpecDetailLen = $('.part2').find('.spec').eq(i).find('.box-spec-detail').children().length;
				var dispNoneRowTF = false;
				for(var j=0;j<part2BoxSpecDetailLen;j++){
					var part2BoxSpecDetailDlLen = $('.part2').find('.spec').eq(i).find('.box-spec-detail').children().eq(j).find('dl').length;
					dispNoneRowTF = false;
					for(var k=0;k<part2BoxSpecDetailDlLen;k++){
						var dLdisp = $('.part2').find('.spec').eq(i).find('.box-spec-detail').children().eq(j).find('dl').eq(k).css('display');
						if(dLdisp == 'none'){ 
							dispNoneRowTF = true;
						}else if(dLdisp == 'block'){ 
							dispNoneRowTF = false;
							break;
						}
					}
					if(dispNoneRowTF){
						$('.part2').find('.spec').eq(i).find('.box-spec-detail').children().eq(j).css('display','none');
					}
				}
			}
		}else{
			if(!diffActive){
				/* 차이점만 비교하기 활성화 시 dl span 값 모든 text에 하이라이트 처리 */
				//$('.part2 .prdBox .box-spec-detail').find('.set').find('span').addClass('highlight');
			}
		}
	}
	
	/* 비교하기 팝업 정보 세팅 이후 공통(앵커 버튼 생성) */
	function afterSetCompInfoComm(){
		var part1Len = $(".part1 .prdBox .prd.prdDetail").length;/* part1 길이 */
		
		/* 대분류 필터 세팅(앵커) */
		var anchorTmpArr = [];
		var lfcTmpArr = [];
		if(part1Len > 0){
			var part2SpecSet0Len = 0;
			var part2SpecSet0Len = $('.part2').find('.spec').eq(0).find('.box-spec-detail').find('.set').length;
			for(var i=0;i<part2SpecSet0Len;i++){
				var setDisp = $('.part2').find('.spec').eq(0).find('.box-spec-detail').find('.set').eq(i).css('display');
				var setText = $('.part2').find('.spec').eq(0).find('.box-spec-detail').find('.set').eq(i).find('h3').text();
				var setAncorClass = $('.part2').find('.spec').eq(0).find('.box-spec-detail').find('.set').eq(i).attr('class').split('set ')[1];
				if(setDisp != 'none' && setText != "" && setAncorClass != ""){
					lfcTmpArr[i] = setText;
					anchorTmpArr[i] = setAncorClass;
				}
			}
			lfcTmpArr = lfcTmpArr.filter(function(item){return item !== null && item !== undefined && item !== '';});
			anchorTmpArr = anchorTmpArr.filter(function(item){return item !== null && item !== undefined && item !== '';});
			var lfcBtnSet = new Set(lfcTmpArr);
			var lfcBtnArr = [...lfcBtnSet];
			
			var ancCassNmSet = new Set(anchorTmpArr);
			var ancCassNmArr = [...ancCassNmSet];
			
			$('.layer-filter-compare').empty();
			var html = '';
			for(var i=0;i<lfcBtnArr.length;i++){
				/* 활성화 : btn-type2, 비활성화 :  btn-type6 */
				if(i == 0){
					html += '<a href="#'+ancCassNmArr[i]+'" onClick="specAnchor(this)"><span value="'+i+'" class="btn btn-s btn-type2">'+lfcBtnArr[i]+'</span></a>';
				}else{
					html += '<a href="#'+ancCassNmArr[i]+'" onClick="specAnchor(this)"><span value="'+i+'" class="btn btn-s btn-type6">'+lfcBtnArr[i]+'</span></a>';
				}
			}
			$('.layer-filter-compare').append(html);
		}
	}
	
	/* 비교하기 팝업 앵커 세팅(다 되고 0 컬럼만 id) */
	function setSpecAnchor(){
		var part2SpecSet0Len = $('.part2').find('.spec').eq(0).find('.box-spec-detail').find('.set').length;
		for(var i=0;i<part2SpecSet0Len;i++){
			var set0ClassNm = $('.part2').find('.spec').eq(0).find('.box-spec-detail').find('.set').eq(i).attr('class').split('set ')[1];
			$('.part2').find('.spec').eq(0).find('.box-spec-detail').find('.set').eq(i).attr('id',set0ClassNm);
		}
	}
	
	/* 비교하기 팝업 스펙 카테고리 앵커 */
	function specAnchor(self){
		$('.btn.btn-s.btn-type2').removeClass('active');
		$('.btn.btn-s.btn-type2').removeClass('btn-type2');
		$('.btn.btn-s').removeClass('btn-type6');
		$('.btn.btn-s').addClass('btn-type6');
		if($(self).find('span').hasClass('btn-type6')){
			$(self).find('span').removeClass('btn-type6');
			$(self).find('span').addClass('btn-type2 active');
		}
		
		/* 상품상세 fixed 되기 전, 요소들의 높이 값 받아오기 */
		var headerH = $('.popupPrdCompare .layer-header-compare').outerHeight();
		var differenceM = parseInt($('.layer-difference-compare').css('margin-top'));
		var nofixedSpecDetailsMT = parseInt($('.popupPrdCompare .box-content-rounded.specDetails').css('margin-top'));
		var PrdHeight = $('.layer-pop.popupPrdCompare .layer-content-compare .prd').outerHeight();
		/* 상품상세 fixed 상태, 요소들의 높이 값 받아오기 */
		var specDetailsMT = parseInt($('.popupPrdCompare.fixed .box-content-rounded.specDetails').css('margin-top'));
		var fixedPrdHeight = $('.layer-pop.popupPrdCompare.fixed .layer-content-compare .prd').outerHeight();
		/* 스펙박스 찾기 */
		var position; /* 스펙박스에 계산 된 높이 값 넣을 변수 */
		var href = $(self).attr("href"); 
		var target = $(href == "#" || href == "" ? "body" : href);
		/* fixed 되기 전과 후로 분기 함 */
		var hasFiexd = $('.layer-pop.popupPrdCompare').hasClass('fixed');	
		if (hasFiexd) {/* 비교하기 팝업 스크롤 이동된 경우 */
			position = target.position().top - fixedPrdHeight + specDetailsMT;
		}else{/* 비교하기 팝업 스크롤 맨 위 */
			//1440 이하는 target의 포지션값은 유지된채, vw로 화면이 작아져서 값들이 변하기 때문에
			// 앵커다운이 pc(1920)처럼 작동을 안함. 그래서 화면을 보면서 높이을 설정할 수 있는 요소들의 값을 얻어 빼주는 방식으로 작업 함.
			// 화면이 바뀔 경우.. 일일히 확인해야함...

			var get_width = $(window).width();
			
			if( get_width <= 800){
				position = target.position().top + headerH;
			}else if(get_width <= 810){
				// fold 펼친화면
				position = target.position().top + (headerH * 3.5) ;
			}else if(get_width <= 1440){
				var filterMB = parseInt($('.layer-pop.popupPrdCompare .layer-filter-compare').css('margin-bottom'));
				position = target.position().top + nofixedSpecDetailsMT + headerH + differenceM + filterMB;	
			}else{
				position = target.position().top + nofixedSpecDetailsMT + headerH + differenceM;	
			}
		}
		$(".layer-content-compare").animate({ scrollTop: position }, 600, "swing");
	}
	
	/* 비교하기 팝업 정보 세팅 이후 재정렬 - KDP-29185 차이점 활성화/비활성화 통일 이후 미사용
	function afterSetCompInfoSort(){
		var part1Len = $(".part1 .prdBox .prd.prdDetail").length;//part1 길이
		if(part1Len > 1){
			for(var i=0;i<part1Len;i++){
				var part2SetLen1 = $('.part2').find('.prdBox').eq(i).find('.spec').find('.set').length;
				for(var j=0;j<part2SetLen1;j++){
					$('.part2').find('.prdBox').eq(i).find('.spec').find('.set').removeClass('specAnchor'+j);
					$('.part2').find('.prdBox').eq(i).find('.spec').find('.set').removeAttr( 'id', '');
				}
			}
			
			for(var i=0;i<part1Len;i++){
				var part2SetLen1 = $('.part2').find('.prdBox').eq(i).find('.spec').find('.set').length;
				var sortResult = $('.part2').find('.prdBox').eq(i).find('.spec').find('.set').sort(function (a, b){
					var contentAh3 = $(a).find('h3').text().replaceAll(' ','');
					var contentBh3 = $(b).find('h3').text().replaceAll(' ','');
					return (contentAh3 > contentBh3) ? 1 : (contentAh3 < contentBh3) ? -1 : 0;
				});
				$('.part2').find('.prdBox').eq(i).find('.spec').find('.box-spec-detail').append(sortResult);
			}
			
			for(var i=0;i<part1Len;i++){
				var part2SetLen1 = $('.part2').find('.prdBox').eq(i).find('.spec').find('.set').length;
				for(var j=0;j<part2SetLen1;j++){
					var part2SetDlLen1 = $('.part2').find('.prdBox').eq(i).find('.spec').find('.set').eq(j).find('dl').length;
					
					for(var l=0;l<part2SetDlLen1;l++){
						var part2SetDtNm1 = $('.part2').find('.prdBox').eq(i).find('.spec').find('.set').eq(j).find('dl').eq(l).find('dt').text().replaceAll(' ',''); 
						var sortResult = $('.part2').find('.prdBox').eq(i).find('.spec').find('.set').eq(j).find('dl').sort(function (a, b){
							var contentAdd = $(a).find('dd').text().replaceAll(' ','');
							var contentBdd = $(b).find('dd').text().replaceAll(' ',''); 
							
							return (contentAdd == '-') ? 1 : (contentBdd == '-' ) ? -1 : 0;
						});
					}
					$('.part2').find('.prdBox').eq(i).find('.spec').find('.set').eq(j).children().first().after(sortResult);
					
				}	
			}
	
			for(var i=0;i<part1Len;i++){
				var part2SetLen1 = $('.part2').find('.prdBox').eq(i).find('.spec').find('.set').length;
				for(var j=0;j<part2SetLen1;j++){
					var part2SetDlLen1 = $('.part2').find('.prdBox').eq(i).find('.spec').find('.set').eq(j).find('dl').length;
					for(var l=0;l<part2SetDlLen1;l++){
						var part2SetDtNm1 = $('.part2').find('.prdBox').eq(i).find('.spec').find('.set').eq(j).find('dl').eq(l).find('dt').text().replaceAll(' ',''); 
						var sortResult = $('.part2').find('.prdBox').eq(i).find('.spec').find('.set').eq(j).find('dl').sort(function (a, b){
							var contentAdt = $(a).find('dt').text().replaceAll(' ',''); 
							var contentBdt = $(b).find('dt').text().replaceAll(' ',''); 
							return (contentAdt > contentBdt) ? -1 : (contentAdt < contentBdt) ? 1 : 0;
						});
						$('.part2').find('.prdBox').eq(i).find('.spec').find('.set').eq(j).children().first().after(sortResult);
						
					}
				}
			}
	
			for(var i=0;i<part1Len;i++){
				var part2SetLen1 = $('.part2').find('.prdBox').eq(i).find('.spec').find('.set').length;
				for(var j=0;j<part2SetLen1;j++){
					$('.part2').find('.prdBox').eq(i).find('.spec').find('.set').eq(j).addClass('specAnchor'+j);
					$('.part2').find('.prdBox').eq(i).find('.spec').find('.set').eq(j).attr( 'id', 'set'+j);
				}
			}
		}
	} */
	/* ===================================================================== */
	/* 멤버십 적립포인트 보이기 여부(B2C) */
	function mShipPtShowYnB2C(stId, mdlCode
												, envmtGbCd, environmentGbLocal, environmentGbDev, environmentGbStg
												, stGbCd, membershipUseExcptYn, carePlusType
												, thirdPartyYn
												, isLogin, membershipYn){
		
		//적립 예정 포인트 or 삼성전자 멤버십 가입하기
		//(한달살기) 특정 SKU 멤버십 포인트 미노출 처리
		if(!(
				mdlCode === 'NT950QDB-KC58T' || mdlCode === 'NT950QDB-KC58F' || mdlCode === 'NT950XDB-KC58O' || mdlCode === 'NT950XDB-KC58F' || 
				mdlCode === 'NT930XDB-KC58O' || mdlCode === 'NT930XDB-KC58F' || mdlCode === 'NT930QDB-KC58O' || mdlCode === 'NT930QDB-KC58F' || 
				mdlCode === 'NT950QDB-KD71T' || mdlCode === 'NT950QDB-KD71U' || mdlCode === 'NT950QDB-KD71V' || mdlCode === 'NT950XDC-XD71R' || 
				mdlCode === 'NT950XDC-XD71T' || mdlCode === 'NT950XDB-KD71T' || mdlCode === 'NT950XDB-KD71U' || mdlCode === 'NT950XDB-KD71V' ||
				mdlCode === 'NT950QDB-KC58O' || mdlCode === 'NT930QDB-KC58T' || mdlCode === 'NT950XDC-XL51O' || mdlCode === 'SM-F926NZUYKOO' ||
				mdlCode === 'SM-F711NZUYKOO' || mdlCode === 'SM-F721NAWZKOO' 
			) || 
			(
				mdlCode === 'SM-F700NZKAKOO' && (envmtGbCd === environmentGbLocal || envmtGbCd === environmentGbDev || envmtGbCd === environmentGbStg)
			)
		){
			if(stGbCd !== '80' && membershipUseExcptYn === 'N' && (carePlusType === null || typeof carePlusType === "undefined" || carePlusType === 'N' || carePlusType === 'CP')){
				if(thirdPartyYn === 'N'){
					if((isLogin && membershipYn !== 'Y')){
						return false;
					}else{
						return true;
					}
				}
			}
		}
	}
	
	/* 멤버십 적립포인트 보이기 여부(패넷) */
	function mShipPtShowYnFNET(stId, stGbCd, stCd, isLogin, membershipYn){
		
		if((stGbCd !== '80')){
			if((stCd !== 'epp')){
				if((isLogin && membershipYn !== 'Y')){
					return false;
				}else{
					return true;
				}
			}
		}
	}
	
	function mShipPtShowYnB2B2C(isLogin, membershipYn){

				if((isLogin && membershipYn !== 'Y')){
					return false;
				}else{
					return true;
				}
			
		
	}
	/* ===================================================================== */
	/*
	var vCopyUrl = window.document.location.href;
	var myMarriageMoveBuyYn = false; // 패넷혼수이사여부
	var myMarriageMoveStat = {};     // 패넷혼수이사상태
	var myMarriageMoveCartCnt = 0;   // 패넷혼수이사장바구니개수
	var spcExhbnYn = false;		  // 패넷특별기획전여부
	var spcExhbnGoodsStat = {};	  // 패넷특별기획전상품 특별기획전구매상태
	*/	
	/* 장바구니 시작(B2C, 패넷)
	function _btnCompCart(self){
		var goodsIds_ 	= $(self).attr('data-goods-ids');
		var nowBuyYn_ 	= $(self).attr('data-now-buy-yn');
		var buyQtys_ 	= $(self).attr('data-buy-qtys');
		var stGbCd_ 		= $(self).attr('data-st-gb-cd');
		var stId_ 			= $(self).attr('data-st-id');
		var orderType_ 	= $(self).attr('data-order-type');
		
		$("#compGoodsCartForm").remove();
		var compGoodsCartFormHTML = "";
		compGoodsCartFormHTML += "<form id='compGoodsCartForm' name='compGoodsCartForm' method='post'>";
		compGoodsCartFormHTML += 		"<input type='hidden' name='goodsIds' id='goodsIds' value='"+goodsIds_+"' />";
		compGoodsCartFormHTML += 		"<input type='hidden' name='stGbCd' value='"+stGbCd_+"' />";
		compGoodsCartFormHTML += 		"<input type='hidden' name='stId' value='"+stId_+"' />";
		compGoodsCartFormHTML += 		"<input type='hidden' name='nowBuyYn' value='"+nowBuyYn_+"' />";
		compGoodsCartFormHTML += 		"<input type='hidden' name='buyQtys' class='count-prd' value='"+buyQtys_+"' />";
		compGoodsCartFormHTML += 		"<input type='hidden' name='orderType' value='"+orderType_+"'>";
		//compGoodsCartFormHTML += 		"<input type='hidden' name='frbInfo'>";
		//compGoodsCartFormHTML += 		"<input type='hidden' name='pckStrNo' id='pckStrNo' value='' />";
		//compGoodsCartFormHTML += 		"<input type='hidden' name='goodsOrdTpCd' id='goodsOrdTpCd' value='' />";
		//compGoodsCartFormHTML += 		"<input type='hidden' name='galaxyClubYn' id='galaxyClubYn' value='' />";
		//compGoodsCartFormHTML += 		"<input type='hidden' name='clsMtdCd' id='clsMtdCd' value=''/>";
		//compGoodsCartFormHTML += 		"<input type='hidden' name='galaxyClubTpCd' id='galaxyClubTpCd' value=''/>";
		//compGoodsCartFormHTML += 		"<input type='hidden' name='linkSubCd' id='linkSubCd' value='' />";
		//compGoodsCartFormHTML += 		"<input type='hidden' name='itemCd' id='itemCd' value='' />";
		//compGoodsCartFormHTML += 		"<input type='hidden' name='empPrcStYn' value='N' />";
		//compGoodsCartFormHTML += 		"<input type='hidden' name='secApp' id='secApp' value='false' />";
		//compGoodsCartFormHTML += 		"<input type='hidden' name='price' id='price' value='' />";
		compGoodsCartFormHTML += "</form>";
		$(self).parent().append(compGoodsCartFormHTML);
		var reqData = $("#compGoodsCartForm").serializeJson();
		
		if( stGbCd === '20' || stGbCd === '30' ){// 패밀리넷
			if( stGbCd == '20' || stId == '7' || stId == '900') {
				if( $('#fnMultiPurchaseGuidance').hasClass('btnDirectClicked') ) {
					$('#fnMultiPurchaseGuidance').removeClass('btnDirectClicked');
				}
				if( $('#fnOverpurchaseApplyGuidance').hasClass('btnDirectClicked') ) {
					$('#fnOverpurchaseApplyGuidance').removeClass('btnDirectClicked');
				}
				
				$('#fnMultiPurchaseGuidance').addClass('btnCartClicked');
				$('#fnOverpurchaseApplyGuidance').addClass('btnDirectClicked');
				
				_fnFamliyNetCountLimit(reqData);
			}else{
				_fnFamliyNetCountLimit(reqData);
			}
		}else if(stGbCd === '10'){//B2C
			
		}
	} */
	
	/* 장바구니 확인(패밀리넷인 경우 수량제한)
	function _fnFamliyNetCountLimit(reqData){
		//$('#fnetOrderAgree').val('N');
		var options = {
				url : '/sec/xhr/order/check/limitcount'
				, data: reqData
				, done : function(data){
					var listBuyInfo = data.listOrderBuyLimitVO
					  , baseCount = data.baseCount
					  , buyQty		 = parseInt(reqData.buyQtys[0]);
					
					myMarriageMoveBuyYn 	 	= (data.myMarriageMoveBuyYn == undefined || data.myMarriageMoveBuyYn == null)? false : data.myMarriageMoveBuyYn;	// 혼수이사가능여부
					myMarriageMoveStat 		 	= (data.myMarriageMoveStat == undefined || data.myMarriageMoveStat == null)? {} : data.myMarriageMoveStat;					// 혼수이사 상태
					myMarriageMoveCartCnt		= (data.myMarriageMoveCartCnt == undefined || data.myMarriageMoveCartCnt == null)? 0 : data.myMarriageMoveCartCnt;	// 혼수이사상품품목 장바구니 수량
					
					spcExhbnYn 				= (data.spcExhbnYn == undefined || data.spcExhbnYn == null)? false : data.spcExhbnYn; 	 						 							// 특별기획전가능여부
					spcExhbnGoodsStat 	= (data.spcExhbnGoodsStat == undefined || data.spcExhbnGoodsStat == null)? {} : data.spcExhbnGoodsStat; 			 			// 특별기획전 상품 특별기획전구매 상태
					
					orderGoodsQtyRestrictYn = data.orderGoodsQtyRestrictYn;
					orderGoodsQtyRestrictQty = data.orderGoodsQtyRestrictQty;
	
					if(Array.isArray(data.dispRestricts)){
						$('#compDispRestrictsForm').remove();
						var formHtml = '';
						formHtml += '<form action="" id="compDispRestrictsForm"  name="compDispRestrictsForm" method="post" >';
						for(var j=0 ; j<data.dispRestricts.length ; j++){
							formHtml += '<input name="dispClsfNo" value="'+data.dispRestricts[j].dispClsfNo+'">';
							formHtml += '<input name="qty_'+data.dispRestricts[j].dispClsfNo+'" value="'+data.dispRestricts[j].buyQty+'" >';
						}
						formHtml += '</form>'; 
						$('body').append(formHtml);
					}	
					
					if( orderGoodsQtyRestrictYn != null ) {
						if( orderGoodsQtyRestrictYn == "Y" ) {
							// 패밀리넷 품목별 초과 구매 관련 신청 안내
							openLayer('fnOverpurchaseApplyGuidance');
							return;
						}else if( orderGoodsQtyRestrictYn == "N" ){
							// KDP-28060 [FNET] [상품] [FO] 구매수량 제한 팝업 수정 요청
							// if(data.stId != '2') {
								// 패밀리넷 동일 품목 다량 구매 관련 안내
								openLayer('fnMultiPurchaseGuidance');
								return;
							// }
						}
					}
					
					if ( buyQty >= baseCount ) {
						$('#popupFmailyAgree').find('#baseCount').text(baseCount);
						openLayer('popupFmailyAgree');
						return false;
					}
					
					for ( var i=0; i < listBuyInfo.length ; i++) {
						// var goodsId = listBuyInfo[i].goodsId
						var orderCount = parseInt(listBuyInfo[i].count);
						 
						if ( orderCount >= baseCount || (orderCount + buyQty) >= baseCount) {
							$('#popupFmailyAgree').find('#baseCount').text(baseCount);
							openLayer('popupFmailyAgree');
							return false;
						}
					}
					
					//$('#fnetOrderAgree').val('Y');
					
					if(spcExhbnYn){ // 패넷특별기획전가능
						reqData.spcExhbnYn = spcExhbnYn;
						if(reqData.nowBuyYn == 'N'){
							_fnFamilyNetSpcExhbnCart(reqData);
							return false;
						}
					}else if(myMarriageMoveBuyYn){ // 혼수이사가능
						reqData.myMarriageMoveBuyYn = myMarriageMoveBuyYn;
						if(reqData.nowBuyYn == 'N'){
							_fnFamilyNetMyMarriageMoveCart(reqData, myMarriageMoveCartCnt);
							return false;
						}
					}
					
					if ( reqData.nowBuyYn == 'N' ) { _fnShowCartMessage(reqData); } 
					return true;
				}
			};
		ajax.call(options);
	} */
	
	/* 패밀리넷 특별기획전 상품 장바구니에 담기(FNET)
	function _fnFamilyNetSpcExhbnCart(reqData){
		let stGbCd = reqData.stGbCd;
		let spcExhbnGoodsStatLocal = spcExhbnGoodsStat[reqData.goodsIds[0]];
		
		if(spcExhbnGoodsStatLocal == undefined || spcExhbnGoodsStatLocal == null || spcExhbnGoodsStatLocal == ""){
			let confirmData = { content : "특별기획전 구매 중 오류가 발생하였습니다. 관리자에게 문의 바랍니다." };
			commonConfirm(confirmData);
			openLayer('commonConfirm');
		}else if(spcExhbnGoodsStatLocal == "lmtOver" && stGbCd == '30'){//디플인 경우, 잔여한도가 임직원가보다 높은경우
			reqData.spcExhbnYn = false;
			_fnInsertCart(reqData);
		}else if(spcExhbnGoodsStatLocal == "cartFull"){// 장바구니에 이미 담겨있거나 더 담을수 없는경우
			let confirmData = { content : "이미 특별기획전으로 구매하려는 상품의 카테고리에 해당되는 상품이 장바구니에 담겨 있습니다.<br>특별기획전 장바구니에서 제품삭제 후 추가 가능합니다." };
			commonConfirm(confirmData);
			openLayer('commonConfirm');
		}else if(spcExhbnGoodsStatLocal == "ordQtyOver"){// 기준구매수량보다 구매희망수량이 많은경우
			let confirmData = { content : "특별기획전 기준구매수량을 초과하였습니다.<br> 수량을 조정해 주세요." };
			commonConfirm(confirmData);
			openLayer('commonConfirm');
		}else{// 특별기획전 장바구니담기 가능
			_fnInsertCart(reqData);
		}
	} */
	
	/* 패밀리넷 혼수이사 상품 장바구니에 담기(FNET)
	function _fnFamilyNetMyMarriageMoveCart(reqData, myMarriageMoveCartCnt){
		let stId = reqData.stId;
		if(myMarriageMoveStat.accCteGoods != undefined && myMarriageMoveStat.accCteGoods != "" && myMarriageMoveStat.accCteGoods == "accCteGoods"){
			let confirmData = { content : "액세서리 상품으로 일반장바구니로 이동됩니다." , okBtnText : "확인", cancelBtnText : "취소" };
			commonConfirm(confirmData);
			openLayer('commonConfirm');
			$("#closeCommonConfirmBtn").hide();
			reqData.myMarriageMoveBuyYn = false;
		}else if(myMarriageMoveStat.ordered != undefined && myMarriageMoveStat.ordered != "" && myMarriageMoveStat.ordered == "ordered"){ //이미 카테고리에 해당되는 상품을 구매했을경우
			let confirmData = { content : "혼수/이사 혜택을 받은 구매이력이 확인되어 일반장바구니로 이동됩니다." , okBtnText : "확인", cancelBtnText : "취소" };
			commonConfirm(confirmData);
			openLayer('commonConfirm');
			$("#closeCommonConfirmBtn").hide();
			reqData.myMarriageMoveBuyYn = false;
		}else if(myMarriageMoveCartCnt > 0){// 이미 카테고리에 해당되는 상품이 혼수이사 장바구니에 담겨있는 경우
			reqData.myMarriageMoveBuyYn = false;
		}else if(myMarriageMoveStat.lmtOver != undefined && myMarriageMoveStat.lmtOver != "" && myMarriageMoveStat.lmtOver == "lmtOver" && stGbCd == '30' && stId != '7' && stId != '600' && stId != '900'){ // 패넷디플일경우 잔여한도보다 임직원가가 높을경우
			let confirmData = { content : "임직원가보다 잔여한도가 높으므로 일반장바구니로 이동됩니다." , okBtnText : "확인", cancelBtnText : "취소" };
			commonConfirm(confirmData);
			openLayer('commonConfirm');
			$("#closeCommonConfirmBtn").hide();
			reqData.myMarriageMoveBuyYn = false;
		}else {
			_fnInsertCart(reqData);
		}
		
		$("#commonConfirmOkBtn").on('click' , function(){
			_fnInsertCart(reqData);
			return false;
		});
		
		$("#commonConfirmCancelBtn").on('click' , function(){// 웹 접근성 수정
        	$("[data-focus-target=true]").focus();
			$("[data-focus-target=true]").removeAttr("data-focus-target");
			return false;
		});
	}*/
	
	/* 장바구니 확인(B2C, FNET)
	function _fnShowCartMessage(reqData){
		var options = {
			url : '/sec/xhr/order/goodscnt'
			, data : reqData
			, done : function(data){
				var cartCnt = data.goodsCnt;
				$("#btnCompCart").attr("data-focus-target", "true");
				
				if ( cartCnt > 0 ) {
					let confirmData = { content : "이미 동일한 상품이 장바구니에 있습니다.</br>추가하시겠습니까?" , okBtnText : "확인", cancelBtnText : "취소" };
					commonConfirm(confirmData);
					openLayer('commonConfirm');
					$("#closeCommonConfirmBtn").hide();
				} else {
					let confirmData = { content : "장바구니에 추가하시겠습니까?", okBtnText : "확인", cancelBtnText : "취소" };
					commonConfirm(confirmData);
					openLayer('commonConfirm');
					$("#closeCommonConfirmBtn").hide();
				}
				
				$("#commonConfirmOkBtn").on('click' , function(){
					_fnInsertCart(reqData);
					return false;
				});
				
				$("#commonConfirmCancelBtn").on('click' , function(){// 웹 접근성 수정
		        	$("[data-focus-target=true]").focus();
					$("[data-focus-target=true]").removeAttr("data-focus-target");
					return false;
				});
				
			}
		};
		ajax.call(options);
	} */

	/* 장바구니 담기(B2C, FNET)
	function _fnInsertCart(reqData){
		var stGbCd = reqData.stGbCd;
		var options = {
			url : '/sec/xhr/order/insertCart'
			, data : reqData
			, done : function(data){
				if(reqData.myMarriageMoveBuyYn && reqData.buyQtys.length > 1){// 혼수이사장바구니와 일반장바구니에 동시에 담았을 경우
					let confirmData = { content : "해당 제품이 혼수/이사 제품에 해당되어<br> 혼수/이사로 장바구니로 이동됩니다.<br>(1개의 제품은 일반장바구니를 확인하세요)" };
					commonConfirm(confirmData);
					openLayer('commonConfirm');
				}
				
				if (data.cartCnt !== 0) { $(".cart-inner-count").css("display", "block"); $(".cart-inner-count").html(data.cartCnt);
				} else { $(".cart-inner-count").css("display", "none"); }
				
				_satellite.track('add to cart');
			}
		};
		
		if(stGbCd == '10'){ options = $.extend({}, options, {netFunnelId : 'b2c_add_cart'}); }// NetFunnel_Action B2C만 적용 (20200902)
		
		ajax.call(options);
	}*/
	/* ===================================================================== */
	/* 구매하기 시작(B2C, FNET) */
	function _netFunnel_Action_PF(stGrp, goodsPath){
		NetFunnel_Action({action_id: stGrp+'_pd_view'}, function(ev, ret){
			location.href = goodsPath;
		});
	}
	
	/* 구매하기 시작(FNET)
	function _bespoke_Action_PF(stGrp, goodsPath){
		location.href = goodsPath;
	} */
	
	/* 구매하기 시작(B2C, FNET)
	function _wine_Action_PF(isLogin, stGrp, goodsPath){
		if(!isLogin){
			location.href = '/sec/' + "member/indexLogin/?returnUrl=" + location.pathname;
			return;
		}else{
			_fnGetCerificationCheck (goodsPath);	    	    		
		}
	}*/
	
	/* 구매하기_와인
	function _fnGetCerificationCheck (goodsPath){
		var options = {
			url : "/sec/xhr/pf/cerificationCheck/"
			, type: 'POST'
			, done : function(data) {
				if(data.adultCerification == "F"){ //계정 성인체크 여부가 없을때
					let alertData = { title: "alert", content: "로그인이 필요합니다." };
					commonAlert(alertData);
					openLayer('commonAlert');
					return;
				} else if ( data.adultCerification == "N" ) { // 계정 성인체크 여부가 N일때 (미성년)
					let alertData = { title: "본인인증 시 19세 미만자", content: "만 19세 이상만 구매할 수 있습니다." };
					commonAlert(alertData);
					openLayer('commonAlert');
					return;
				} else if(data.kcbAdultCerification == "F" ){// KCB 본인 인증 안했을때 인증 팝업 콜
					_kcb(goodsPath);
					return;
				} else if (data.kcbAdultCerification == "N"){// KCB 본인 인증 했으나 미성년일때
					let alertData = { title: "본인인증 시 19세 미만자", content: "만 19세 이상만 구매할 수 있습니다." };
					commonAlert(alertData);
					openLayer('commonAlert');
					return;
				} else {
					_netFunnel_Action_PF(goodsPath);
				}					
			}
		};
		ajax.call(options);
	}*/
	
	/* 구매하기_와인
	KCB 본인 인증 안했을때 인증 팝업 콜
	function _kcb(goodsPath){
        var options = {
			url  : "/sec/xhr/join/kcbPersonalAuthCheck/"
			, data : { url : goodsPath , kcbGb : "W"}
			, type : 'GET'
			, async : false
			, dataType : "html"
			, done : function(data) {
				$('#index_kcb').html(data);
				if (!$("#index_kcb").hasClass('active')) { openLayer('index_kcb'); } 
	        }
		};
		ajax.call(options);
	} */
	
	/* ===================================================================== */
	$(window).resize(function(){
		setPopupHeight(); // 윈도우 세로 값에 따라 스크롤 되는 영역 세로값 설정하기
		floatingStickyComparePosition(); // 230119 
		setPopupPart1Fixed($('.popupPrdCompare .layer-content-compare'));// 221230 비교하기 팝업 스크롤내리면 제품이미지 고정
		
	}).resize();
	
	$(document).on("DOMContentLoaded",function(){

		let showWaitFlag;

		if('1' == '1'){
			showWaitFlag = false;
		}else{
			showWaitFlag = true;
		}
        ajax.call({
			url: "/sec/xhr/goods/getCompExcptUrl"
			, type: 'GET'
			, async: false
			, showWait : showWaitFlag
			, done: function (data) {
                var loc = location.pathname;
                var compExcptUrl = data.compareExcptUrlList;
                for (var index = 0; index < compExcptUrl.length; index++) {
                    if (loc == compExcptUrl[index].usrDfn1Val) {
                        $('.link-compare-i').remove();
                        $('#pfpd-compare').remove();
                    }
                }
            }
		})
	});
	
	$(document).ready(function () {
		sliderCompareBox('itmInfoDetail');
		/* 비교하기 팝업_차이점 토글 세팅 */
		$("label[for = 'toggle-check-on']").click(function(){
			/* 차이점 활성화 */
			if($('.popupPrdCompare .layer-difference-compare .toggleCheck .labeltxt.off').attr('aria-hidden') == 'true'){
				$('.popupPrdCompare .layer-difference-compare .toggleCheck .labeltxt.off').attr('aria-hidden','false');
				$('.popupPrdCompare .layer-difference-compare .toggleCheck .labeltxt.on').attr('aria-hidden','true');
				
			}
			else{/* 차이점 비활성화 */
				$('.popupPrdCompare .layer-difference-compare .toggleCheck .labeltxt.off').attr('aria-hidden','true');
				$('.popupPrdCompare .layer-difference-compare .toggleCheck .labeltxt.on').attr('aria-hidden','false');
			}
			
			/* 가격 높이 클래스 */
			$('.prdBox .prd.prdDetail').removeClass('addpoint');
			$('.prdBox .prd .box.compare-emptyBox').parent().removeClass('addpoint');
			if('1' == '1'){
			}
			else if('1' == '2'){
				$('.prdBox .prd.prdDetail').removeClass('cnt-4-li_list-price');
				$('.prdBox .prd .box.compare-emptyBox').parent().removeClass('cnt-4-li_list-price');
			}
			else if('1' == '3'){
				$('.prdBox .prd.prdDetail').removeClass('cnt-5-li_list-price');
				$('.prdBox .prd .box.compare-emptyBox').parent().removeClass('cnt-5-li_list-price');
			}
			
			/* 비교하기 팝업 정보 세팅 DB(차이점 활성화/비활성화 공통) */
			// setCompInfoDb();
			setCompInfoStrg(compDispClsfEnNm,false,true);
			//setCompInfoStrg(compDispClsfEnNm, false, true);
			// setSpeclongestBox();
		});
    	
   		// 221230 비교하기 s
		comparePopupSlickpart1($('.part1'));
		comparePopupSlickpart2($('.part2'));
		setPopupHeight(); // 윈도우 세로 값에 따라 스크롤 되는 영역 세로값 설정하기
   		// 221230 비교하기 e
		
		addWithBnbClass();
	}); 
 	
 	function addWithBnbClass(){
 		if( '1' == '1' || 
 			'1' == '2'|| 
 			'1' == '3'){
			if($("#bottom__navi").is(":visible")){
				$('.pfpd-compare').addClass('withBnb');
            }
        }
 	}
	$(document).on("click", ".btn-compare", setPopupHeight);// 221230 비교하기 버튼 누를 때, 팝업창 세로사이즈 설정
	
	/* -- S -- KDP-32607 비교하기 혜택 시뮬레이터 */
	// $(document).on("click", ".btn-compare", hasListPriceAmount);
	 
	function hasListPriceAmount() {
        var all_btn_leng = [];
        var all_li_leng = [];
        var max_leng;        
        var _ul_amount = $('.prd-price-amount .list-price-amount');
        _ul_amount.each(function () {
            //last-li  txt bold컨트롤
            var _has_li_length = $(this).children().length;
            if (0 < _has_li_length) {
                $(this).parent().parent().parent().find('.prd-price').addClass('has-prd-price-amount'); 
            }else{ 
                $(this).parent().parent().parent().find('.prd-price').removeClass('has-prd-price-amount');
            }
            all_li_leng.push(_has_li_length);
        });
        max_leng = Math.max.apply(null, all_li_leng);
        if(0 == max_leng){
            _ul_amount.addClass('_not_li');
        }else{
            _ul_amount.removeClass('_not_li'); //min-height로 높이설정
        }
        var _prdBtn = $('.prdDetail .box .prd-btn');
        _prdBtn.each(function () {            
            all_btn_leng.push($(this).children().length);
        });
        max_leng = Math.max.apply(null, all_btn_leng);
        if(0 == max_leng){
            _prdBtn.addClass('_not_btn');
        }else{
            _prdBtn.removeClass('_not_btn'); //min-height로 높이설정
        }
    }

	
	/* 카테고리 변경에 따른 카테고리명, 영문 카테고리명, 초기화 버튼 카테고리, 비교하기 버튼 카테고리 값 갱신 */
	function updateCtgInfo(compareEnNm){
		compDispClsfEnNm = compareEnNm;
		compareDataStorageNm = storageNmPrefix + compDispClsfEnNm;
		compareData = JSON.parse(localStorage.getItem(compareDataStorageNm)) ?? {};
	}
	/* -- E -- KDP-32607 비교하기 혜택 시뮬레이터 */
	function skuAddedCompare(skuList, compDispClsfEnNm, dispClsfNo){
		compareDataStorage = '/sec/'+'compare/'+compDispClsfEnNm;
		compareData = JSON.parse(localStorage.getItem(compareDataStorage)) ?? {};
		
		var userSelectedComp = Object.keys(compareData);
		
		if (4 == userSelectedComp.length) {
			commonAlert({
				content : "최대 4개까지 담을 수 있습니다. <br> 비교함을 비우고 다시 시도해주세요."
			});
			openLayer('commonAlert');
			openCloseArrow();
			return false;
		}
		
		// 중복 갯수
		var duplYn = false;
		
		// 추가 가능 비교하기 상품 갯수
		var size = 4 - userSelectedComp.length;
		
		// 중복 제외 비교하기 추가 상품
		var goodsList = [];
		
		for(const goods of skuList){
			var good = goods.split(':');
			if(userSelectedComp.includes(good[0])){
				duplYn = true;
			}
			else{
				goodsList.push(goods);
			}
		}
		
		goodsList = goodsList.slice(0,size);
		
		if(0 == goodsList.length){
            commonAlert({
				content : "이미 담은 제품 입니다.",
				callback : function(){
                    $('button.btn.btn-d.btn-type2.btn-compare').trigger('click');
                    openCloseArrow();
				}
			});
			openLayer('commonAlert');
			return false;
        }
		
        for (var goods of goodsList) {
            var sp = goods.split(':')
            var goodsDetail = {
                "goodsId": sp[0],
                "mdlCode": sp[1],
                "compDispClsfEnNm": compDispClsfEnNm,
                "dispClsfNo": dispClsfNo
            };

            ajax.call({
                data: goodsDetail
                , url: "/sec/xhr/goods/incGoodsCompare"
                , type: 'POST'
                , dataType: 'json'
                , async : false
                , done: function (data) {
                	updateCtgInfo(data.summary.compDispClsfEnNm);

                    /* 비교하기 데이터 추가 */
                    compareDataStorageNm = storageNmPrefix + data.summary.compDispClsfEnNm;
                    compareData[data.goodsDetail.goodsId] = data;
                    localStorage.setItem(compareDataStorageNm, JSON.stringify(compareData));

                    /* 비교하기 활성화 goodId 추가 */
                    goodsIdData[data.goodsDetail.goodsId] = data.summary.compDispClsfEnNm;
                    localStorage.setItem(goodsIdDataStorageNm, JSON.stringify(goodsIdData));

                    /* 마지막 담은 상품 추가 */
                    lastCompData = {};
                    lastCompData[data.goodsDetail.goodsId] = data.summary.compDispClsfEnNm;
                    localStorage.setItem(lastCompDataStorageNm, JSON.stringify(lastCompData));

                    /* 카테고리 항목 스토리지에 추가 */
                    
					categoryData[data.summary.compDispClsfEnNm] = data.summary.compDispClsfNm;
					localStorage.setItem(categoryDataStorageNm, JSON.stringify(categoryData));
                    

                    //마지막 담은 상품의 날짜/시간/분 저장
                    let today = new Date();
                    expireDateData['date'] = dateFormat(today);
                    localStorage.setItem(expireDateDataStorageNm, JSON.stringify(expireDateData));
                }
            });
        }
        updateBtnNum(Object.values(compareData).length);
		setCompInfoStrg(compDispClsfEnNm, true, false);

		categoryBtn();/* 카테고리 select box */
		disabledCompareButton();
		
		$(".pfpd-compare").css("display", "");
        $(".pfpd-compare").addClass("close");
		openCloseArrow();
		// 중복된 제품을 제외하고 담은 경우
		if (duplYn && 0 != goodsList.length) {
			commonAlert({
				content: "이미 담은 제품 제외 후 담았습니다.",
				callback: function () {
					$('button.btn.btn-d.btn-type2.btn-compare').trigger('click');
				}
			});
			openLayer('commonAlert');
		} else {
			$('button.btn.btn-d.btn-type2.btn-compare').trigger('click');
		}
	}
</script><!-- e : 비교하기 b2c, fnet, fnet 디플(고도화)  -->

<div class="layer-pop layer-default basic-pop" id="popupTradeIn" tabindex="0" data-popup-layer="popupTradeIn" data-focus="popupTradeIn" aria-hidden="false" data-zindex="300" style="z-index: 300;">
	<div class="layer-header"><h3>Galaxy로 바꿔보상(Trade-In)</h3></div>
		<div class="layer-content">
		<p>
					My 갤럭시 클럽 가입 고객님입니다.<br>
					Galaxy로 바꿔보상(Trade-In)을 선택하실 경우
					권한실행 대상 제품으로 해당 제품을 신청할 수 없습니다.
					그래도 선택하시겠습니까?
				</p>
			<p>
			<span class="txt-bold">※ 구매전 참고사항 ※</span><br>
			My 갤럭시 클럽 권한실행 대상으로 제품을 선택하여
			기존단말 반납과 일정금액을 납부하실 경우,
			<span class="txt-blue">잔존가 보장 서비스(권한실행) 혜택</span>을 받으실 수 있습니다.
		</p>
		<p>
			<span class="txt-red">※ 트레이드인 서비스와 권한실행 중복 신청 불가</span><br>
			* My 갤럭시 클럽 세부안내 페이지에서 조회 바랍니다. <a href="https://www.samsung.com/sec/galaxyclub/" class="btn-underline" target="_blank">[바로가기]</a>
		</p>
		<div class="btn-box double">
			<a href="javascript:void(0)" class="btn btn-d btn-type1" id="tradeCancelBtn">아니오</a>
			<a href="javascript:void(0)" class="btn btn-d btn-type2" id="tradeOkBtn">예</a>
		</div>
	</div>
</div>
<div class="layer-pop layer-default basic-pop" id="popupGlxClubJoin" tabindex="0" data-popup-layer="popupGlxClubJoin" data-focus="popupGlxClubJoin" aria-hidden="false" data-zindex="300" style="z-index: 300;">
	<div class="layer-header"><h3>My 갤럭시 클럽 신청하기</h3></div>
	<div class="layer-content">
		<p>
			기존 My 갤럭시 클럽 가입 고객님입니다.<br>
			My 갤럭시 클럽 신규 가입을 신청하시겠습니까?
		</p>
		<p class="small-text b-blk">
			※ 권한실행 서비스 신청은<br>
			‘마이페이지 > My 갤럭시 클럽’ 메뉴를 통해 진행해주세요
		</p>
		<div class="btn-box double">
			<a href="javascript:void(0)" class="btn btn-d btn-type1" id="galClubCancelBtn">취소</a>
			<a href="javascript:void(0)" class="btn btn-d btn-type2" id="galClubOkBtn">신청</a>
		</div>
	</div>
</div>
<!-- s: 230509 혜택 시뮬레이터 고도화 - 혜택 유의사항 /추가제공혜택 (phase_2) -->
	<div class="layer-pop layer-normal max650 layer-BenefitNotices" id="BenefitNotices" data-popup-layer="BenefitNotices" aria-hidden="true" style="">
		<div class="layer-header">
			<h2>추가 제공 혜택 유의사항</h2>
		</div>
		<div class="layer-content">
			<span>&bull; 제품 1개 주문 시 기준입니다.</span>
			<br>
			<span>&bull; 사은품 조기 품절 시 제공이 어려울 수 있습니다.</span>
			</div>
		<button type="button" class="pop-close" data-focus-next="BenefitNotices">팝업닫기</button>
	</div>
	<!-- e: 230509 혜택 시뮬레이터 고도화 - 혜택 유의사항 /추가제공혜택 (phase_2) -->
<div id="shortFormVdPop"></div>